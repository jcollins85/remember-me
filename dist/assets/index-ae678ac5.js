(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function lw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dg={exports:{}},Xa={},Lg={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var no=Symbol.for("react.element"),cw=Symbol.for("react.portal"),uw=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),fw=Symbol.for("react.profiler"),hw=Symbol.for("react.provider"),pw=Symbol.for("react.context"),mw=Symbol.for("react.forward_ref"),gw=Symbol.for("react.suspense"),yw=Symbol.for("react.memo"),vw=Symbol.for("react.lazy"),ch=Symbol.iterator;function xw(e){return e===null||typeof e!="object"?null:(e=ch&&e[ch]||e["@@iterator"],typeof e=="function"?e:null)}var Og={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vg=Object.assign,Ug={};function Vs(e,t,n){this.props=e,this.context=t,this.refs=Ug,this.updater=n||Og}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fg(){}Fg.prototype=Vs.prototype;function id(e,t,n){this.props=e,this.context=t,this.refs=Ug,this.updater=n||Og}var od=id.prototype=new Fg;od.constructor=id;Vg(od,Vs.prototype);od.isPureReactComponent=!0;var uh=Array.isArray,$g=Object.prototype.hasOwnProperty,ad={current:null},Bg={key:!0,ref:!0,__self:!0,__source:!0};function zg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$g.call(t,r)&&!Bg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:no,type:e,key:i,ref:o,props:s,_owner:ad.current}}function ww(e,t){return{$$typeof:no,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===no}function Sw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dh=/\/+/g;function Nl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sw(""+e.key):t.toString(36)}function Ko(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case no:case cw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Nl(o,0):r,uh(s)?(n="",e!=null&&(n=e.replace(dh,"$&/")+"/"),Ko(s,t,n,"",function(c){return c})):s!=null&&(ld(s)&&(s=ww(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",uh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Nl(i,a);o+=Ko(i,t,n,l,s)}else if(l=xw(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Nl(i,a++),o+=Ko(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bo(e,t,n){if(e==null)return e;var r=[],s=0;return Ko(e,r,"","",function(i){return t.call(n,i,s++)}),r}function kw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},Go={transition:null},bw={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Go,ReactCurrentOwner:ad};function Hg(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:bo,forEach:function(e,t,n){bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bo(e,function(){t++}),t},toArray:function(e){return bo(e,function(t){return t})||[]},only:function(e){if(!ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Vs;G.Fragment=uw;G.Profiler=fw;G.PureComponent=id;G.StrictMode=dw;G.Suspense=gw;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw;G.act=Hg;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ad.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)$g.call(t,l)&&!Bg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:no,type:e.type,key:s,ref:i,props:r,_owner:o}};G.createContext=function(e){return e={$$typeof:pw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hw,_context:e},e.Consumer=e};G.createElement=zg;G.createFactory=function(e){var t=zg.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:mw,render:e}};G.isValidElement=ld;G.lazy=function(e){return{$$typeof:vw,_payload:{_status:-1,_result:e},_init:kw}};G.memo=function(e,t){return{$$typeof:yw,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Go.transition;Go.transition={};try{e()}finally{Go.transition=t}};G.unstable_act=Hg;G.useCallback=function(e,t){return Ze.current.useCallback(e,t)};G.useContext=function(e){return Ze.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ze.current.useEffect(e,t)};G.useId=function(){return Ze.current.useId()};G.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ze.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};G.useRef=function(e){return Ze.current.useRef(e)};G.useState=function(e){return Ze.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Ze.current.useTransition()};G.version="18.3.1";Lg.exports=G;var x=Lg.exports;const Wg=lw(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw=x,_w=Symbol.for("react.element"),Ew=Symbol.for("react.fragment"),Cw=Object.prototype.hasOwnProperty,Iw=Tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pw={key:!0,ref:!0,__self:!0,__source:!0};function Kg(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Cw.call(t,r)&&!Pw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_w,type:e,key:i,ref:o,props:s,_owner:Iw.current}}Xa.Fragment=Ew;Xa.jsx=Kg;Xa.jsxs=Kg;Dg.exports=Xa;var d=Dg.exports,Rc={},Gg={exports:{}},vt={},qg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,D){var F=N.length;N.push(D);e:for(;0<F;){var ee=F-1>>>1,W=N[ee];if(0<s(W,D))N[ee]=D,N[F]=W,F=ee;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],F=N.pop();if(F!==D){N[0]=F;e:for(var ee=0,W=N.length,ut=W>>>1;ee<ut;){var Ee=2*(ee+1)-1,Je=N[Ee],xe=Ee+1,dt=N[xe];if(0>s(Je,F))xe<W&&0>s(dt,Je)?(N[ee]=dt,N[xe]=F,ee=xe):(N[ee]=Je,N[Ee]=F,ee=Ee);else if(xe<W&&0>s(dt,F))N[ee]=dt,N[xe]=F,ee=xe;else break e}}return D}function s(N,D){var F=N.sortIndex-D.sortIndex;return F!==0?F:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=N)r(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(c)}}function S(N){if(w=!1,v(N),!y)if(n(l)!==null)y=!0,ct(k);else{var D=n(c);D!==null&&z(S,D.startTime-N)}}function k(N,D){y=!1,w&&(w=!1,m(T),T=-1),p=!0;var F=h;try{for(v(D),f=n(l);f!==null&&(!(f.expirationTime>D)||N&&!V());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var W=ee(f.expirationTime<=D);D=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),v(D)}else r(l);f=n(l)}if(f!==null)var ut=!0;else{var Ee=n(c);Ee!==null&&z(S,Ee.startTime-D),ut=!1}return ut}finally{f=null,h=F,p=!1}}var _=!1,C=null,T=-1,E=5,I=-1;function V(){return!(e.unstable_now()-I<E)}function ne(){if(C!==null){var N=e.unstable_now();I=N;var D=!0;try{D=C(!0,N)}finally{D?le():(_=!1,C=null)}}else _=!1}var le;if(typeof g=="function")le=function(){g(ne)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,_e=Ie.port2;Ie.port1.onmessage=ne,le=function(){_e.postMessage(null)}}else le=function(){b(ne,0)};function ct(N){C=N,_||(_=!0,le())}function z(N,D){T=b(function(){N(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,ct(k))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var F=h;h=D;try{return N()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=h;h=N;try{return D()}finally{h=F}},e.unstable_scheduleCallback=function(N,D,F){var ee=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ee+F:ee):F=ee,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,N={id:u++,callback:D,priorityLevel:N,startTime:F,expirationTime:W,sortIndex:-1},F>ee?(N.sortIndex=F,t(c,N),n(l)===null&&N===n(c)&&(w?(m(T),T=-1):w=!0,z(S,F-ee))):(N.sortIndex=W,t(l,N),y||p||(y=!0,ct(k))),N},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(N){var D=h;return function(){var F=h;h=D;try{return N.apply(this,arguments)}finally{h=F}}}})(Yg);qg.exports=Yg;var Aw=qg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=x,yt=Aw;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xg=new Set,Ii={};function $r(e,t){Ts(e,t),Ts(e+"Capture",t)}function Ts(e,t){for(Ii[e]=t,e=0;e<t.length;e++)Xg.add(t[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=Object.prototype.hasOwnProperty,Mw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fh={},hh={};function Rw(e){return jc.call(hh,e)?!0:jc.call(fh,e)?!1:Mw.test(e)?hh[e]=!0:(fh[e]=!0,!1)}function jw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dw(e,t,n,r){if(t===null||typeof t>"u"||jw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var cd=/[\-:]([a-z])/g;function ud(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cd,ud);Ue[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cd,ud);Ue[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cd,ud);Ue[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function dd(e,t,n,r){var s=Ue.hasOwnProperty(t)?Ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dw(t,n,s,r)&&(n=null),r||s===null?Rw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bn=Nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),Xr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),fd=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),Zg=Symbol.for("react.provider"),Qg=Symbol.for("react.context"),hd=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),Oc=Symbol.for("react.suspense_list"),pd=Symbol.for("react.memo"),Mn=Symbol.for("react.lazy"),Jg=Symbol.for("react.offscreen"),ph=Symbol.iterator;function Xs(e){return e===null||typeof e!="object"?null:(e=ph&&e[ph]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Ml;function ii(e){if(Ml===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ml=t&&t[1]||""}return`
`+Ml+e}var Rl=!1;function jl(e,t){if(!e||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ii(e):""}function Lw(e){switch(e.tag){case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 2:case 15:return e=jl(e.type,!1),e;case 11:return e=jl(e.type.render,!1),e;case 1:return e=jl(e.type,!0),e;default:return""}}function Vc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zr:return"Fragment";case Xr:return"Portal";case Dc:return"Profiler";case fd:return"StrictMode";case Lc:return"Suspense";case Oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qg:return(e.displayName||"Context")+".Consumer";case Zg:return(e._context.displayName||"Context")+".Provider";case hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pd:return t=e.displayName||null,t!==null?t:Vc(e.type)||"Memo";case Mn:t=e._payload,e=e._init;try{return Vc(e(t))}catch{}}return null}function Ow(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vc(t);case 8:return t===fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ey(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vw(e){var t=ey(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _o(e){e._valueTracker||(e._valueTracker=Vw(e))}function ty(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ey(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uc(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ny(e,t){t=t.checked,t!=null&&dd(e,"checked",t,!1)}function Fc(e,t){ny(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$c(e,t.type,n):t.hasOwnProperty("defaultValue")&&$c(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $c(e,t,n){(t!=="number"||fa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oi=Array.isArray;function ms(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(oi(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function ry(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eo,iy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uw=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(e){Uw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ui[t]=ui[e]})});function oy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ui.hasOwnProperty(e)&&ui[e]?(""+t).trim():t+"px"}function ay(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=oy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Fw=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hc(e,t){if(t){if(Fw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Wc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=null;function md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gc=null,gs=null,ys=null;function xh(e){if(e=io(e)){if(typeof Gc!="function")throw Error(P(280));var t=e.stateNode;t&&(t=tl(t),Gc(e.stateNode,e.type,t))}}function ly(e){gs?ys?ys.push(e):ys=[e]:gs=e}function cy(){if(gs){var e=gs,t=ys;if(ys=gs=null,xh(e),t)for(e=0;e<t.length;e++)xh(t[e])}}function uy(e,t){return e(t)}function dy(){}var Dl=!1;function fy(e,t,n){if(Dl)return e(t,n);Dl=!0;try{return uy(e,t,n)}finally{Dl=!1,(gs!==null||ys!==null)&&(dy(),cy())}}function Ai(e,t){var n=e.stateNode;if(n===null)return null;var r=tl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var qc=!1;if(fn)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){qc=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{qc=!1}function $w(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var di=!1,ha=null,pa=!1,Yc=null,Bw={onError:function(e){di=!0,ha=e}};function zw(e,t,n,r,s,i,o,a,l){di=!1,ha=null,$w.apply(Bw,arguments)}function Hw(e,t,n,r,s,i,o,a,l){if(zw.apply(this,arguments),di){if(di){var c=ha;di=!1,ha=null}else throw Error(P(198));pa||(pa=!0,Yc=c)}}function Br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wh(e){if(Br(e)!==e)throw Error(P(188))}function Ww(e){var t=e.alternate;if(!t){if(t=Br(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wh(s),e;if(i===r)return wh(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function py(e){return e=Ww(e),e!==null?my(e):null}function my(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=my(e);if(t!==null)return t;e=e.sibling}return null}var gy=yt.unstable_scheduleCallback,Sh=yt.unstable_cancelCallback,Kw=yt.unstable_shouldYield,Gw=yt.unstable_requestPaint,Te=yt.unstable_now,qw=yt.unstable_getCurrentPriorityLevel,gd=yt.unstable_ImmediatePriority,yy=yt.unstable_UserBlockingPriority,ma=yt.unstable_NormalPriority,Yw=yt.unstable_LowPriority,vy=yt.unstable_IdlePriority,Za=null,Kt=null;function Xw(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Za,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Jw,Zw=Math.log,Qw=Math.LN2;function Jw(e){return e>>>=0,e===0?32:31-(Zw(e)/Qw|0)|0}var Co=64,Io=4194304;function ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ga(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ai(a):(i&=o,i!==0&&(r=ai(i)))}else o=n&~s,o!==0?r=ai(o):i!==0&&(r=ai(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ot(t),s=1<<n,r|=e[n],t&=~s;return r}function eS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ot(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=eS(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xy(){var e=Co;return Co<<=1,!(Co&4194240)&&(Co=64),e}function Ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=n}function nS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function yd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var re=0;function wy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sy,vd,ky,by,Ty,Zc=!1,Po=[],Hn=null,Wn=null,Kn=null,Ni=new Map,Mi=new Map,jn=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kh(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function Qs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=io(t),t!==null&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sS(e,t,n,r,s){switch(t){case"focusin":return Hn=Qs(Hn,e,t,n,r,s),!0;case"dragenter":return Wn=Qs(Wn,e,t,n,r,s),!0;case"mouseover":return Kn=Qs(Kn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ni.set(i,Qs(Ni.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mi.set(i,Qs(Mi.get(i)||null,e,t,n,r,s)),!0}return!1}function _y(e){var t=xr(e.target);if(t!==null){var n=Br(t);if(n!==null){if(t=n.tag,t===13){if(t=hy(n),t!==null){e.blockedOn=t,Ty(e.priority,function(){ky(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kc=r,n.target.dispatchEvent(r),Kc=null}else return t=io(n),t!==null&&vd(t),e.blockedOn=n,!1;t.shift()}return!0}function bh(e,t,n){qo(e)&&n.delete(t)}function iS(){Zc=!1,Hn!==null&&qo(Hn)&&(Hn=null),Wn!==null&&qo(Wn)&&(Wn=null),Kn!==null&&qo(Kn)&&(Kn=null),Ni.forEach(bh),Mi.forEach(bh)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,Zc||(Zc=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,iS)))}function Ri(e){function t(s){return Js(s,e)}if(0<Po.length){Js(Po[0],e);for(var n=1;n<Po.length;n++){var r=Po[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hn!==null&&Js(Hn,e),Wn!==null&&Js(Wn,e),Kn!==null&&Js(Kn,e),Ni.forEach(t),Mi.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)_y(n),n.blockedOn===null&&jn.shift()}var vs=bn.ReactCurrentBatchConfig,ya=!0;function oS(e,t,n,r){var s=re,i=vs.transition;vs.transition=null;try{re=1,xd(e,t,n,r)}finally{re=s,vs.transition=i}}function aS(e,t,n,r){var s=re,i=vs.transition;vs.transition=null;try{re=4,xd(e,t,n,r)}finally{re=s,vs.transition=i}}function xd(e,t,n,r){if(ya){var s=Qc(e,t,n,r);if(s===null)Kl(e,t,r,va,n),kh(e,r);else if(sS(s,e,t,n,r))r.stopPropagation();else if(kh(e,r),t&4&&-1<rS.indexOf(e)){for(;s!==null;){var i=io(s);if(i!==null&&Sy(i),i=Qc(e,t,n,r),i===null&&Kl(e,t,r,va,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Kl(e,t,r,null,n)}}var va=null;function Qc(e,t,n,r){if(va=null,e=md(r),e=xr(e),e!==null)if(t=Br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return va=e,null}function Ey(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qw()){case gd:return 1;case yy:return 4;case ma:case Yw:return 16;case vy:return 536870912;default:return 16}default:return 16}}var Fn=null,wd=null,Yo=null;function Cy(){if(Yo)return Yo;var e,t=wd,n=t.length,r,s="value"in Fn?Fn.value:Fn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Yo=s.slice(e,1<r?1-r:void 0)}function Xo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ao(){return!0}function Th(){return!1}function xt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ao:Th,this.isPropagationStopped=Th,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=xt(Us),so=ve({},Us,{view:0,detail:0}),lS=xt(so),Ol,Vl,ei,Qa=ve({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Ol=e.screenX-ei.screenX,Vl=e.screenY-ei.screenY):Vl=Ol=0,ei=e),Ol)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),_h=xt(Qa),cS=ve({},Qa,{dataTransfer:0}),uS=xt(cS),dS=ve({},so,{relatedTarget:0}),Ul=xt(dS),fS=ve({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=xt(fS),pS=ve({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mS=xt(pS),gS=ve({},Us,{data:0}),Eh=xt(gS),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xS[e])?!!t[e]:!1}function kd(){return wS}var SS=ve({},so,{key:function(e){if(e.key){var t=yS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kd,charCode:function(e){return e.type==="keypress"?Xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kS=xt(SS),bS=ve({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=xt(bS),TS=ve({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kd}),_S=xt(TS),ES=ve({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),CS=xt(ES),IS=ve({},Qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=xt(IS),AS=[9,13,27,32],bd=fn&&"CompositionEvent"in window,fi=null;fn&&"documentMode"in document&&(fi=document.documentMode);var NS=fn&&"TextEvent"in window&&!fi,Iy=fn&&(!bd||fi&&8<fi&&11>=fi),Ih=String.fromCharCode(32),Ph=!1;function Py(e,t){switch(e){case"keyup":return AS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function MS(e,t){switch(e){case"compositionend":return Ay(t);case"keypress":return t.which!==32?null:(Ph=!0,Ih);case"textInput":return e=t.data,e===Ih&&Ph?null:e;default:return null}}function RS(e,t){if(Qr)return e==="compositionend"||!bd&&Py(e,t)?(e=Cy(),Yo=wd=Fn=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iy&&t.locale!=="ko"?null:t.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jS[e.type]:t==="textarea"}function Ny(e,t,n,r){ly(r),t=xa(t,"onChange"),0<t.length&&(n=new Sd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hi=null,ji=null;function DS(e){By(e,0)}function Ja(e){var t=ts(e);if(ty(t))return e}function LS(e,t){if(e==="change")return t}var My=!1;if(fn){var Fl;if(fn){var $l="oninput"in document;if(!$l){var Nh=document.createElement("div");Nh.setAttribute("oninput","return;"),$l=typeof Nh.oninput=="function"}Fl=$l}else Fl=!1;My=Fl&&(!document.documentMode||9<document.documentMode)}function Mh(){hi&&(hi.detachEvent("onpropertychange",Ry),ji=hi=null)}function Ry(e){if(e.propertyName==="value"&&Ja(ji)){var t=[];Ny(t,ji,e,md(e)),fy(DS,t)}}function OS(e,t,n){e==="focusin"?(Mh(),hi=t,ji=n,hi.attachEvent("onpropertychange",Ry)):e==="focusout"&&Mh()}function VS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ja(ji)}function US(e,t){if(e==="click")return Ja(t)}function FS(e,t){if(e==="input"||e==="change")return Ja(t)}function $S(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:$S;function Di(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jc.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function Rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jh(e,t){var n=Rh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rh(n)}}function jy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dy(){for(var e=window,t=fa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fa(e.document)}return t}function Td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BS(e){var t=Dy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jy(n.ownerDocument.documentElement,n)){if(r!==null&&Td(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=jh(n,i);var o=jh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zS=fn&&"documentMode"in document&&11>=document.documentMode,Jr=null,Jc=null,pi=null,eu=!1;function Dh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eu||Jr==null||Jr!==fa(r)||(r=Jr,"selectionStart"in r&&Td(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pi&&Di(pi,r)||(pi=r,r=xa(Jc,"onSelect"),0<r.length&&(t=new Sd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jr)))}function No(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var es={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionend:No("Transition","TransitionEnd")},Bl={},Ly={};fn&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function el(e){if(Bl[e])return Bl[e];if(!es[e])return e;var t=es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ly)return Bl[e]=t[n];return e}var Oy=el("animationend"),Vy=el("animationiteration"),Uy=el("animationstart"),Fy=el("transitionend"),$y=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){$y.set(e,t),$r(t,[e])}for(var zl=0;zl<Lh.length;zl++){var Hl=Lh[zl],HS=Hl.toLowerCase(),WS=Hl[0].toUpperCase()+Hl.slice(1);ir(HS,"on"+WS)}ir(Oy,"onAnimationEnd");ir(Vy,"onAnimationIteration");ir(Uy,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(Fy,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Oh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hw(r,t,void 0,e),e.currentTarget=null}function By(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Oh(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Oh(s,a,c),i=l}}}if(pa)throw e=Yc,pa=!1,Yc=null,e}function de(e,t){var n=t[iu];n===void 0&&(n=t[iu]=new Set);var r=e+"__bubble";n.has(r)||(zy(t,e,2,!1),n.add(r))}function Wl(e,t,n){var r=0;t&&(r|=4),zy(n,e,r,t)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function Li(e){if(!e[Mo]){e[Mo]=!0,Xg.forEach(function(n){n!=="selectionchange"&&(KS.has(n)||Wl(n,!1,e),Wl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mo]||(t[Mo]=!0,Wl("selectionchange",!1,t))}}function zy(e,t,n,r){switch(Ey(t)){case 1:var s=oS;break;case 4:s=aS;break;default:s=xd}n=s.bind(null,t,n,e),s=void 0,!qc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Kl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}fy(function(){var c=i,u=md(n),f=[];e:{var h=$y.get(e);if(h!==void 0){var p=Sd,y=e;switch(e){case"keypress":if(Xo(n)===0)break e;case"keydown":case"keyup":p=kS;break;case"focusin":y="focus",p=Ul;break;case"focusout":y="blur",p=Ul;break;case"beforeblur":case"afterblur":p=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_S;break;case Oy:case Vy:case Uy:p=hS;break;case Fy:p=CS;break;case"scroll":p=lS;break;case"wheel":p=PS;break;case"copy":case"cut":case"paste":p=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ch}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,m!==null&&(S=Ai(g,m),S!=null&&w.push(Oi(g,S,v)))),b)break;g=g.return}0<w.length&&(h=new p(h,y,null,n,u),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Kc&&(y=n.relatedTarget||n.fromElement)&&(xr(y)||y[hn]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?xr(y):null,y!==null&&(b=Br(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(w=_h,S="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ch,S="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?h:ts(p),v=y==null?h:ts(y),h=new w(S,g+"leave",p,n,u),h.target=b,h.relatedTarget=v,S=null,xr(u)===c&&(w=new w(m,g+"enter",y,n,u),w.target=v,w.relatedTarget=b,S=w),b=S,p&&y)t:{for(w=p,m=y,g=0,v=w;v;v=Yr(v))g++;for(v=0,S=m;S;S=Yr(S))v++;for(;0<g-v;)w=Yr(w),g--;for(;0<v-g;)m=Yr(m),v--;for(;g--;){if(w===m||m!==null&&w===m.alternate)break t;w=Yr(w),m=Yr(m)}w=null}else w=null;p!==null&&Vh(f,h,p,w,!1),y!==null&&b!==null&&Vh(f,b,y,w,!0)}}e:{if(h=c?ts(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=LS;else if(Ah(h))if(My)k=FS;else{k=VS;var _=OS}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=US);if(k&&(k=k(e,c))){Ny(f,k,n,u);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&$c(h,"number",h.value)}switch(_=c?ts(c):window,e){case"focusin":(Ah(_)||_.contentEditable==="true")&&(Jr=_,Jc=c,pi=null);break;case"focusout":pi=Jc=Jr=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Dh(f,n,u);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Dh(f,n,u)}var C;if(bd)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qr?Py(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Iy&&n.locale!=="ko"&&(Qr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qr&&(C=Cy()):(Fn=u,wd="value"in Fn?Fn.value:Fn.textContent,Qr=!0)),_=xa(c,T),0<_.length&&(T=new Eh(T,e,null,n,u),f.push({event:T,listeners:_}),C?T.data=C:(C=Ay(n),C!==null&&(T.data=C)))),(C=NS?MS(e,n):RS(e,n))&&(c=xa(c,"onBeforeInput"),0<c.length&&(u=new Eh("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}By(f,t)})}function Oi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ai(e,n),i!=null&&r.unshift(Oi(e,i,s)),i=Ai(e,t),i!=null&&r.push(Oi(e,i,s))),e=e.return}return r}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ai(n,i),l!=null&&o.unshift(Oi(n,l,a))):s||(l=Ai(n,i),l!=null&&o.push(Oi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function Uh(e){return(typeof e=="string"?e:""+e).replace(GS,`
`).replace(qS,"")}function Ro(e,t,n){if(t=Uh(t),Uh(e)!==t&&n)throw Error(P(425))}function wa(){}var tu=null,nu=null;function ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var su=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,Fh=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof Fh<"u"?function(e){return Fh.resolve(null).then(e).catch(ZS)}:su;function ZS(e){setTimeout(function(){throw e})}function Gl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ri(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ri(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $h(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Fs,Vi="__reactProps$"+Fs,hn="__reactContainer$"+Fs,iu="__reactEvents$"+Fs,QS="__reactListeners$"+Fs,JS="__reactHandles$"+Fs;function xr(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$h(e);e!==null;){if(n=e[Wt])return n;e=$h(e)}return t}e=n,n=e.parentNode}return null}function io(e){return e=e[Wt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function tl(e){return e[Vi]||null}var ou=[],ns=-1;function or(e){return{current:e}}function fe(e){0>ns||(e.current=ou[ns],ou[ns]=null,ns--)}function ue(e,t){ns++,ou[ns]=e.current,e.current=t}var nr={},Ke=or(nr),ot=or(!1),Mr=nr;function _s(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function Sa(){fe(ot),fe(Ke)}function Bh(e,t,n){if(Ke.current!==nr)throw Error(P(168));ue(Ke,t),ue(ot,n)}function Hy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,Ow(e)||"Unknown",s));return ve({},n,r)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Mr=Ke.current,ue(Ke,e),ue(ot,ot.current),!0}function zh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Hy(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=e,fe(ot),fe(Ke),ue(Ke,e)):fe(ot),ue(ot,n)}var rn=null,nl=!1,ql=!1;function Wy(e){rn===null?rn=[e]:rn.push(e)}function ek(e){nl=!0,Wy(e)}function ar(){if(!ql&&rn!==null){ql=!0;var e=0,t=re;try{var n=rn;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,nl=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),gy(gd,ar),s}finally{re=t,ql=!1}}return null}var rs=[],ss=0,ba=null,Ta=0,bt=[],Tt=0,Rr=null,on=1,an="";function mr(e,t){rs[ss++]=Ta,rs[ss++]=ba,ba=e,Ta=t}function Ky(e,t,n){bt[Tt++]=on,bt[Tt++]=an,bt[Tt++]=Rr,Rr=e;var r=on;e=an;var s=32-Ot(r)-1;r&=~(1<<s),n+=1;var i=32-Ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,on=1<<32-Ot(t)+s|n<<s|r,an=i+e}else on=1<<i|n<<s|r,an=e}function _d(e){e.return!==null&&(mr(e,1),Ky(e,1,0))}function Ed(e){for(;e===ba;)ba=rs[--ss],rs[ss]=null,Ta=rs[--ss],rs[ss]=null;for(;e===Rr;)Rr=bt[--Tt],bt[Tt]=null,an=bt[--Tt],bt[Tt]=null,on=bt[--Tt],bt[Tt]=null}var mt=null,pt=null,he=!1,Dt=null;function Gy(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rr!==null?{id:on,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,pt=null,!0):!1;default:return!1}}function au(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lu(e){if(he){var t=pt;if(t){var n=t;if(!Hh(e,t)){if(au(e))throw Error(P(418));t=Gn(n.nextSibling);var r=mt;t&&Hh(e,t)?Gy(r,n):(e.flags=e.flags&-4097|2,he=!1,mt=e)}}else{if(au(e))throw Error(P(418));e.flags=e.flags&-4097|2,he=!1,mt=e}}}function Wh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function jo(e){if(e!==mt)return!1;if(!he)return Wh(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ru(e.type,e.memoizedProps)),t&&(t=pt)){if(au(e))throw qy(),Error(P(418));for(;t;)Gy(e,t),t=Gn(t.nextSibling)}if(Wh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=Gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?Gn(e.stateNode.nextSibling):null;return!0}function qy(){for(var e=pt;e;)e=Gn(e.nextSibling)}function Es(){pt=mt=null,he=!1}function Cd(e){Dt===null?Dt=[e]:Dt.push(e)}var tk=bn.ReactCurrentBatchConfig;function ti(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Do(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kh(e){var t=e._init;return t(e._payload)}function Yy(e){function t(m,g){if(e){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Zn(m,g),m.index=0,m.sibling=null,m}function i(m,g,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,v,S){return g===null||g.tag!==6?(g=tc(v,m.mode,S),g.return=m,g):(g=s(g,v),g.return=m,g)}function l(m,g,v,S){var k=v.type;return k===Zr?u(m,g,v.props.children,S,v.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mn&&Kh(k)===g.type)?(S=s(g,v.props),S.ref=ti(m,g,v),S.return=m,S):(S=ra(v.type,v.key,v.props,null,m.mode,S),S.ref=ti(m,g,v),S.return=m,S)}function c(m,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=nc(v,m.mode,S),g.return=m,g):(g=s(g,v.children||[]),g.return=m,g)}function u(m,g,v,S,k){return g===null||g.tag!==7?(g=Er(v,m.mode,S,k),g.return=m,g):(g=s(g,v),g.return=m,g)}function f(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=tc(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case To:return v=ra(g.type,g.key,g.props,null,m.mode,v),v.ref=ti(m,null,g),v.return=m,v;case Xr:return g=nc(g,m.mode,v),g.return=m,g;case Mn:var S=g._init;return f(m,S(g._payload),v)}if(oi(g)||Xs(g))return g=Er(g,m.mode,v,null),g.return=m,g;Do(m,g)}return null}function h(m,g,v,S){var k=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(m,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case To:return v.key===k?l(m,g,v,S):null;case Xr:return v.key===k?c(m,g,v,S):null;case Mn:return k=v._init,h(m,g,k(v._payload),S)}if(oi(v)||Xs(v))return k!==null?null:u(m,g,v,S,null);Do(m,v)}return null}function p(m,g,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(v)||null,a(g,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case To:return m=m.get(S.key===null?v:S.key)||null,l(g,m,S,k);case Xr:return m=m.get(S.key===null?v:S.key)||null,c(g,m,S,k);case Mn:var _=S._init;return p(m,g,v,_(S._payload),k)}if(oi(S)||Xs(S))return m=m.get(v)||null,u(g,m,S,k,null);Do(g,S)}return null}function y(m,g,v,S){for(var k=null,_=null,C=g,T=g=0,E=null;C!==null&&T<v.length;T++){C.index>T?(E=C,C=null):E=C.sibling;var I=h(m,C,v[T],S);if(I===null){C===null&&(C=E);break}e&&C&&I.alternate===null&&t(m,C),g=i(I,g,T),_===null?k=I:_.sibling=I,_=I,C=E}if(T===v.length)return n(m,C),he&&mr(m,T),k;if(C===null){for(;T<v.length;T++)C=f(m,v[T],S),C!==null&&(g=i(C,g,T),_===null?k=C:_.sibling=C,_=C);return he&&mr(m,T),k}for(C=r(m,C);T<v.length;T++)E=p(C,m,T,v[T],S),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?T:E.key),g=i(E,g,T),_===null?k=E:_.sibling=E,_=E);return e&&C.forEach(function(V){return t(m,V)}),he&&mr(m,T),k}function w(m,g,v,S){var k=Xs(v);if(typeof k!="function")throw Error(P(150));if(v=k.call(v),v==null)throw Error(P(151));for(var _=k=null,C=g,T=g=0,E=null,I=v.next();C!==null&&!I.done;T++,I=v.next()){C.index>T?(E=C,C=null):E=C.sibling;var V=h(m,C,I.value,S);if(V===null){C===null&&(C=E);break}e&&C&&V.alternate===null&&t(m,C),g=i(V,g,T),_===null?k=V:_.sibling=V,_=V,C=E}if(I.done)return n(m,C),he&&mr(m,T),k;if(C===null){for(;!I.done;T++,I=v.next())I=f(m,I.value,S),I!==null&&(g=i(I,g,T),_===null?k=I:_.sibling=I,_=I);return he&&mr(m,T),k}for(C=r(m,C);!I.done;T++,I=v.next())I=p(C,m,T,I.value,S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?T:I.key),g=i(I,g,T),_===null?k=I:_.sibling=I,_=I);return e&&C.forEach(function(ne){return t(m,ne)}),he&&mr(m,T),k}function b(m,g,v,S){if(typeof v=="object"&&v!==null&&v.type===Zr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case To:e:{for(var k=v.key,_=g;_!==null;){if(_.key===k){if(k=v.type,k===Zr){if(_.tag===7){n(m,_.sibling),g=s(_,v.props.children),g.return=m,m=g;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mn&&Kh(k)===_.type){n(m,_.sibling),g=s(_,v.props),g.ref=ti(m,_,v),g.return=m,m=g;break e}n(m,_);break}else t(m,_);_=_.sibling}v.type===Zr?(g=Er(v.props.children,m.mode,S,v.key),g.return=m,m=g):(S=ra(v.type,v.key,v.props,null,m.mode,S),S.ref=ti(m,g,v),S.return=m,m=S)}return o(m);case Xr:e:{for(_=v.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=s(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=nc(v,m.mode,S),g.return=m,m=g}return o(m);case Mn:return _=v._init,b(m,g,_(v._payload),S)}if(oi(v))return y(m,g,v,S);if(Xs(v))return w(m,g,v,S);Do(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,v),g.return=m,m=g):(n(m,g),g=tc(v,m.mode,S),g.return=m,m=g),o(m)):n(m,g)}return b}var Cs=Yy(!0),Xy=Yy(!1),_a=or(null),Ea=null,is=null,Id=null;function Pd(){Id=is=Ea=null}function Ad(e){var t=_a.current;fe(_a),e._currentValue=t}function cu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xs(e,t){Ea=e,Id=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Id!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(Ea===null)throw Error(P(308));is=e,Ea.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var wr=null;function Nd(e){wr===null?wr=[e]:wr.push(e)}function Zy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Nd(t)):(n.next=s.next,s.next=n),t.interleaved=n,pn(e,r)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rn=!1;function Md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,pn(e,n)}return s=r.interleaved,s===null?(t.next=t,Nd(r)):(t.next=s.next,s.next=t),r.interleaved=t,pn(e,n)}function Zo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yd(e,n)}}function Gh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ca(e,t,n,r){var s=e.updateQueue;Rn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,w=a;switch(h=t,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=ve({},f,h);break e;case 2:Rn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Dr|=o,e.lanes=o,e.memoizedState=f}}function qh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var oo={},Gt=or(oo),Ui=or(oo),Fi=or(oo);function Sr(e){if(e===oo)throw Error(P(174));return e}function Rd(e,t){switch(ue(Fi,t),ue(Ui,e),ue(Gt,oo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zc(t,e)}fe(Gt),ue(Gt,t)}function Is(){fe(Gt),fe(Ui),fe(Fi)}function Jy(e){Sr(Fi.current);var t=Sr(Gt.current),n=zc(t,e.type);t!==n&&(ue(Ui,e),ue(Gt,n))}function jd(e){Ui.current===e&&(fe(Gt),fe(Ui))}var me=or(0);function Ia(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function Dd(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var Qo=bn.ReactCurrentDispatcher,Xl=bn.ReactCurrentBatchConfig,jr=0,ye=null,Pe=null,Me=null,Pa=!1,mi=!1,$i=0,nk=0;function $e(){throw Error(P(321))}function Ld(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Od(e,t,n,r,s,i){if(jr=i,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=e===null||e.memoizedState===null?ok:ak,e=n(r,s),mi){i=0;do{if(mi=!1,$i=0,25<=i)throw Error(P(301));i+=1,Me=Pe=null,t.updateQueue=null,Qo.current=lk,e=n(r,s)}while(mi)}if(Qo.current=Aa,t=Pe!==null&&Pe.next!==null,jr=0,Me=Pe=ye=null,Pa=!1,t)throw Error(P(300));return e}function Vd(){var e=$i!==0;return $i=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ye.memoizedState=Me=e:Me=Me.next=e,Me}function Pt(){if(Pe===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Me===null?ye.memoizedState:Me.next;if(t!==null)Me=t,Pe=e;else{if(e===null)throw Error(P(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?ye.memoizedState=Me=e:Me=Me.next=e}return Me}function Bi(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=Pt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((jr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ye.lanes|=u,Dr|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ut(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ye.lanes|=i,Dr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ql(e){var t=Pt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ut(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function e0(){}function t0(e,t){var n=ye,r=Pt(),s=t(),i=!Ut(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,Ud(s0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,zi(9,r0.bind(null,n,r,s,t),void 0,null),Re===null)throw Error(P(349));jr&30||n0(n,t,s)}return s}function n0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function r0(e,t,n,r){t.value=n,t.getSnapshot=r,i0(t)&&o0(e)}function s0(e,t,n){return n(function(){i0(t)&&o0(e)})}function i0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function o0(e){var t=pn(e,1);t!==null&&Vt(t,e,1,-1)}function Yh(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=ik.bind(null,ye,e),[t.memoizedState,e]}function zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function a0(){return Pt().memoizedState}function Jo(e,t,n,r){var s=Ht();ye.flags|=e,s.memoizedState=zi(1|t,n,void 0,r===void 0?null:r)}function rl(e,t,n,r){var s=Pt();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,r!==null&&Ld(r,o.deps)){s.memoizedState=zi(t,n,i,r);return}}ye.flags|=e,s.memoizedState=zi(1|t,n,i,r)}function Xh(e,t){return Jo(8390656,8,e,t)}function Ud(e,t){return rl(2048,8,e,t)}function l0(e,t){return rl(4,2,e,t)}function c0(e,t){return rl(4,4,e,t)}function u0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d0(e,t,n){return n=n!=null?n.concat([e]):null,rl(4,4,u0.bind(null,t,e),n)}function Fd(){}function f0(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ld(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function h0(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ld(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function p0(e,t,n){return jr&21?(Ut(n,t)||(n=xy(),ye.lanes|=n,Dr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function rk(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Xl.transition;Xl.transition={};try{e(!1),t()}finally{re=n,Xl.transition=r}}function m0(){return Pt().memoizedState}function sk(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g0(e))y0(t,n);else if(n=Zy(e,t,n,r),n!==null){var s=Ye();Vt(n,e,r,s),v0(n,t,r)}}function ik(e,t,n){var r=Xn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g0(e))y0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ut(a,o)){var l=t.interleaved;l===null?(s.next=s,Nd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Zy(e,t,s,r),n!==null&&(s=Ye(),Vt(n,e,r,s),v0(n,t,r))}}function g0(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function y0(e,t){mi=Pa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function v0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yd(e,n)}}var Aa={readContext:It,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},ok={readContext:It,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Xh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jo(4194308,4,u0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jo(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sk.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Yh,useDebugValue:Fd,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Yh(!1),t=e[0];return e=rk.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,s=Ht();if(he){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Re===null)throw Error(P(349));jr&30||n0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Xh(s0.bind(null,r,i,e),[e]),r.flags|=2048,zi(9,r0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Re.identifierPrefix;if(he){var n=an,r=on;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$i++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ak={readContext:It,useCallback:f0,useContext:It,useEffect:Ud,useImperativeHandle:d0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:h0,useReducer:Zl,useRef:a0,useState:function(){return Zl(Bi)},useDebugValue:Fd,useDeferredValue:function(e){var t=Pt();return p0(t,Pe.memoizedState,e)},useTransition:function(){var e=Zl(Bi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:e0,useSyncExternalStore:t0,useId:m0,unstable_isNewReconciler:!1},lk={readContext:It,useCallback:f0,useContext:It,useEffect:Ud,useImperativeHandle:d0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:h0,useReducer:Ql,useRef:a0,useState:function(){return Ql(Bi)},useDebugValue:Fd,useDeferredValue:function(e){var t=Pt();return Pe===null?t.memoizedState=e:p0(t,Pe.memoizedState,e)},useTransition:function(){var e=Ql(Bi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:e0,useSyncExternalStore:t0,useId:m0,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function uu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sl={isMounted:function(e){return(e=e._reactInternals)?Br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),s=Xn(e),i=dn(r,s);i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Vt(t,e,s,r),Zo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),s=Xn(e),i=dn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Vt(t,e,s,r),Zo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=Xn(e),s=dn(n,r);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,r),t!==null&&(Vt(t,e,r,n),Zo(t,e,r))}};function Zh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Di(n,r)||!Di(s,i):!0}function x0(e,t,n){var r=!1,s=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(s=at(t)?Mr:Ke.current,r=t.contextTypes,i=(r=r!=null)?_s(e,s):nr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function du(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Md(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=It(i):(i=at(t)?Mr:Ke.current,s.context=_s(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sl.enqueueReplaceState(s,s.state,null),Ca(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ps(e,t){try{var n="",r=t;do n+=Lw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ck=typeof WeakMap=="function"?WeakMap:Map;function w0(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ma||(Ma=!0,ku=r),fu(e,t)},n}function S0(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fu(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Jh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ck;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bk.bind(null,e,t,n),t.then(e,e))}function ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,qn(n,t,1))),n.lanes|=1),e)}var uk=bn.ReactCurrentOwner,st=!1;function Ge(e,t,n,r){t.child=e===null?Xy(t,null,n,r):Cs(t,e.child,n,r)}function np(e,t,n,r,s){n=n.render;var i=t.ref;return xs(t,s),r=Od(e,t,n,r,i,s),n=Vd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(he&&n&&_d(t),t.flags|=1,Ge(e,t,r,s),t.child)}function rp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!qd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,k0(e,t,i,r,s)):(e=ra(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Di,n(o,r)&&e.ref===t.ref)return mn(e,t,s)}return t.flags|=1,e=Zn(i,r),e.ref=t.ref,e.return=t,t.child=e}function k0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Di(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,mn(e,t,s)}return hu(e,t,n,r,s)}function b0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(as,ft),ft|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(as,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(as,ft),ft|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(as,ft),ft|=r;return Ge(e,t,s,n),t.child}function T0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hu(e,t,n,r,s){var i=at(n)?Mr:Ke.current;return i=_s(t,i),xs(t,s),n=Od(e,t,n,r,i,s),r=Vd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mn(e,t,s)):(he&&r&&_d(t),t.flags|=1,Ge(e,t,n,s),t.child)}function sp(e,t,n,r,s){if(at(n)){var i=!0;ka(t)}else i=!1;if(xs(t,s),t.stateNode===null)ea(e,t),x0(t,n,r),du(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=It(c):(c=at(n)?Mr:Ke.current,c=_s(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Qh(t,o,r,c),Rn=!1;var h=t.memoizedState;o.state=h,Ca(t,r,o,s),l=t.memoizedState,a!==r||h!==l||ot.current||Rn?(typeof u=="function"&&(uu(t,n,u,r),l=t.memoizedState),(a=Rn||Zh(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Qy(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Rt(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=It(l):(l=at(n)?Mr:Ke.current,l=_s(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Qh(t,o,r,l),Rn=!1,h=t.memoizedState,o.state=h,Ca(t,r,o,s);var y=t.memoizedState;a!==f||h!==y||ot.current||Rn?(typeof p=="function"&&(uu(t,n,p,r),y=t.memoizedState),(c=Rn||Zh(t,n,c,r,h,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return pu(e,t,n,r,i,s)}function pu(e,t,n,r,s,i){T0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&zh(t,n,!1),mn(e,t,i);r=t.stateNode,uk.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Cs(t,e.child,null,i),t.child=Cs(t,null,a,i)):Ge(e,t,a,i),t.memoizedState=r.state,s&&zh(t,n,!0),t.child}function _0(e){var t=e.stateNode;t.pendingContext?Bh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bh(e,t.context,!1),Rd(e,t.containerInfo)}function ip(e,t,n,r,s){return Es(),Cd(s),t.flags|=256,Ge(e,t,n,r),t.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function E0(e,t,n){var r=t.pendingProps,s=me.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(me,s&1),e===null)return lu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=al(o,r,0,null),e=Er(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gu(n),t.memoizedState=mu,e):$d(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return dk(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Zn(a,i):(i=Er(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?gu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=mu,r}return i=e.child,e=i.sibling,r=Zn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $d(e,t){return t=al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lo(e,t,n,r){return r!==null&&Cd(r),Cs(t,e.child,null,n),e=$d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dk(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Jl(Error(P(422))),Lo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=al({mode:"visible",children:r.children},s,0,null),i=Er(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cs(t,e.child,null,o),t.child.memoizedState=gu(o),t.memoizedState=mu,i);if(!(t.mode&1))return Lo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=Jl(i,r,void 0),Lo(e,t,o,r)}if(a=(o&e.childLanes)!==0,st||a){if(r=Re,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pn(e,s),Vt(r,e,s,-1))}return Gd(),r=Jl(Error(P(421))),Lo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Tk.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,pt=Gn(s.nextSibling),mt=t,he=!0,Dt=null,e!==null&&(bt[Tt++]=on,bt[Tt++]=an,bt[Tt++]=Rr,on=e.id,an=e.overflow,Rr=t),t=$d(t,r.children),t.flags|=4096,t)}function op(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cu(e.return,t,n)}function ec(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function C0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ge(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&op(e,n,t);else if(e.tag===19)op(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ia(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ec(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ia(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ec(t,!0,n,null,i);break;case"together":ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fk(e,t,n){switch(t.tag){case 3:_0(t),Es();break;case 5:Jy(t);break;case 1:at(t.type)&&ka(t);break;case 4:Rd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(_a,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?E0(e,t,n):(ue(me,me.current&1),e=mn(e,t,n),e!==null?e.sibling:null);ue(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return C0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,b0(e,t,n)}return mn(e,t,n)}var I0,yu,P0,A0;I0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yu=function(){};P0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Sr(Gt.current);var i=null;switch(n){case"input":s=Uc(e,s),r=Uc(e,r),i=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":s=Bc(e,s),r=Bc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wa)}Hc(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ii.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ii.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&de("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};A0=function(e,t,n,r){n!==r&&(t.flags|=4)};function ni(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hk(e,t,n){var r=t.pendingProps;switch(Ed(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return at(t.type)&&Sa(),Be(t),null;case 3:return r=t.stateNode,Is(),fe(ot),fe(Ke),Dd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(_u(Dt),Dt=null))),yu(e,t),Be(t),null;case 5:jd(t);var s=Sr(Fi.current);if(n=t.type,e!==null&&t.stateNode!=null)P0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Be(t),null}if(e=Sr(Gt.current),jo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Wt]=t,r[Vi]=i,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<li.length;s++)de(li[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":mh(r,i),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},de("invalid",r);break;case"textarea":yh(r,i),de("invalid",r)}Hc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,a,e),s=["children",""+a]):Ii.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":_o(r),gh(r,i,!0);break;case"textarea":_o(r),vh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wt]=t,e[Vi]=r,I0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wc(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<li.length;s++)de(li[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":mh(e,r),s=Uc(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),de("invalid",e);break;case"textarea":yh(e,r),s=Bc(e,r),de("invalid",e);break;default:s=r}Hc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ay(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iy(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pi(e,l):typeof l=="number"&&Pi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ii.hasOwnProperty(i)?l!=null&&i==="onScroll"&&de("scroll",e):l!=null&&dd(e,i,l,o))}switch(n){case"input":_o(e),gh(e,r,!1);break;case"textarea":_o(e),vh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ms(e,!!r.multiple,i,!1):r.defaultValue!=null&&ms(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)A0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Sr(Fi.current),Sr(Gt.current),jo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wt]=t,(i=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:Ro(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ro(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=t,t.stateNode=r}return Be(t),null;case 13:if(fe(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&pt!==null&&t.mode&1&&!(t.flags&128))qy(),Es(),t.flags|=98560,i=!1;else if(i=jo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Wt]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),i=!1}else Dt!==null&&(_u(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Ae===0&&(Ae=3):Gd())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Is(),yu(e,t),e===null&&Li(t.stateNode.containerInfo),Be(t),null;case 10:return Ad(t.type._context),Be(t),null;case 17:return at(t.type)&&Sa(),Be(t),null;case 19:if(fe(me),i=t.memoizedState,i===null)return Be(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ni(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ia(e),o!==null){for(t.flags|=128,ni(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>As&&(t.flags|=128,r=!0,ni(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ia(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ni(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return Be(t),null}else 2*Te()-i.renderingStartTime>As&&n!==1073741824&&(t.flags|=128,r=!0,ni(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=me.current,ue(me,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return Kd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function pk(e,t){switch(Ed(t),t.tag){case 1:return at(t.type)&&Sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Is(),fe(ot),fe(Ke),Dd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jd(t),null;case 13:if(fe(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(me),null;case 4:return Is(),null;case 10:return Ad(t.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var Oo=!1,He=!1,mk=typeof WeakSet=="function"?WeakSet:Set,j=null;function os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function vu(e,t,n){try{n()}catch(r){ke(e,t,r)}}var ap=!1;function gk(e,t){if(tu=ya,e=Dy(),Td(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},ya=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Rt(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ke(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return y=ap,ap=!1,y}function gi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&vu(t,n,i)}s=s.next}while(s!==r)}}function il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function N0(e){var t=e.alternate;t!==null&&(e.alternate=null,N0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[Vi],delete t[iu],delete t[QS],delete t[JS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function M0(e){return e.tag===5||e.tag===3||e.tag===4}function lp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||M0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wa));else if(r!==4&&(e=e.child,e!==null))for(wu(e,t,n),e=e.sibling;e!==null;)wu(e,t,n),e=e.sibling}function Su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Su(e,t,n),e=e.sibling;e!==null;)Su(e,t,n),e=e.sibling}var De=null,jt=!1;function Pn(e,t,n){for(n=n.child;n!==null;)R0(e,t,n),n=n.sibling}function R0(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Za,n)}catch{}switch(n.tag){case 5:He||os(n,t);case 6:var r=De,s=jt;De=null,Pn(e,t,n),De=r,jt=s,De!==null&&(jt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(jt?(e=De,n=n.stateNode,e.nodeType===8?Gl(e.parentNode,n):e.nodeType===1&&Gl(e,n),Ri(e)):Gl(De,n.stateNode));break;case 4:r=De,s=jt,De=n.stateNode.containerInfo,jt=!0,Pn(e,t,n),De=r,jt=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vu(n,t,o),s=s.next}while(s!==r)}Pn(e,t,n);break;case 1:if(!He&&(os(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,t,a)}Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Pn(e,t,n),He=r):Pn(e,t,n);break;default:Pn(e,t,n)}}function cp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mk),t.forEach(function(r){var s=_k.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,jt=!1;break e;case 3:De=a.stateNode.containerInfo,jt=!0;break e;case 4:De=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(De===null)throw Error(P(160));R0(i,o,s),De=null,jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ke(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j0(t,e),t=t.sibling}function j0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),zt(e),r&4){try{gi(3,e,e.return),il(3,e)}catch(w){ke(e,e.return,w)}try{gi(5,e,e.return)}catch(w){ke(e,e.return,w)}}break;case 1:Nt(t,e),zt(e),r&512&&n!==null&&os(n,n.return);break;case 5:if(Nt(t,e),zt(e),r&512&&n!==null&&os(n,n.return),e.flags&32){var s=e.stateNode;try{Pi(s,"")}catch(w){ke(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ny(s,i),Wc(a,o);var c=Wc(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?ay(s,f):u==="dangerouslySetInnerHTML"?iy(s,f):u==="children"?Pi(s,f):dd(s,u,f,c)}switch(a){case"input":Fc(s,i);break;case"textarea":ry(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ms(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ms(s,!!i.multiple,i.defaultValue,!0):ms(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vi]=i}catch(w){ke(e,e.return,w)}}break;case 6:if(Nt(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ke(e,e.return,w)}}break;case 3:if(Nt(t,e),zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ri(t.containerInfo)}catch(w){ke(e,e.return,w)}break;case 4:Nt(t,e),zt(e);break;case 13:Nt(t,e),zt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hd=Te())),r&4&&cp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(He=(c=He)||u,Nt(t,e),He=c):Nt(t,e),zt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(j=e,u=e.child;u!==null;){for(f=j=u;j!==null;){switch(h=j,p=h.child,h.tag){case 0:case 11:case 14:case 15:gi(4,h,h.return);break;case 1:os(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ke(r,n,w)}}break;case 5:os(h,h.return);break;case 22:if(h.memoizedState!==null){dp(f);continue}}p!==null?(p.return=h,j=p):dp(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oy("display",o))}catch(w){ke(e,e.return,w)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){ke(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nt(t,e),zt(e),r&4&&cp(e);break;case 21:break;default:Nt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(M0(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pi(s,""),r.flags&=-33);var i=lp(e);Su(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lp(e);wu(e,a,o);break;default:throw Error(P(161))}}catch(l){ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yk(e,t,n){j=e,D0(e)}function D0(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Oo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||He;a=Oo;var c=He;if(Oo=o,(He=l)&&!c)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?fp(s):l!==null?(l.return=o,j=l):fp(s);for(;i!==null;)j=i,D0(i),i=i.sibling;j=s,Oo=a,He=c}up(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):up(e)}}function up(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||il(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ri(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}He||t.flags&512&&xu(t)}catch(h){ke(t,t.return,h)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function dp(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function fp(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ke(t,s,l)}}var i=t.return;try{xu(t)}catch(l){ke(t,i,l)}break;case 5:var o=t.return;try{xu(t)}catch(l){ke(t,o,l)}}}catch(l){ke(t,t.return,l)}if(t===e){j=null;break}var a=t.sibling;if(a!==null){a.return=t.return,j=a;break}j=t.return}}var vk=Math.ceil,Na=bn.ReactCurrentDispatcher,Bd=bn.ReactCurrentOwner,Et=bn.ReactCurrentBatchConfig,X=0,Re=null,Ce=null,Oe=0,ft=0,as=or(0),Ae=0,Hi=null,Dr=0,ol=0,zd=0,yi=null,rt=null,Hd=0,As=1/0,nn=null,Ma=!1,ku=null,Yn=null,Vo=!1,$n=null,Ra=0,vi=0,bu=null,ta=-1,na=0;function Ye(){return X&6?Te():ta!==-1?ta:ta=Te()}function Xn(e){return e.mode&1?X&2&&Oe!==0?Oe&-Oe:tk.transition!==null?(na===0&&(na=xy()),na):(e=re,e!==0||(e=window.event,e=e===void 0?16:Ey(e.type)),e):1}function Vt(e,t,n,r){if(50<vi)throw vi=0,bu=null,Error(P(185));ro(e,n,r),(!(X&2)||e!==Re)&&(e===Re&&(!(X&2)&&(ol|=n),Ae===4&&Dn(e,Oe)),lt(e,r),n===1&&X===0&&!(t.mode&1)&&(As=Te()+500,nl&&ar()))}function lt(e,t){var n=e.callbackNode;tS(e,t);var r=ga(e,e===Re?Oe:0);if(r===0)n!==null&&Sh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Sh(n),t===1)e.tag===0?ek(hp.bind(null,e)):Wy(hp.bind(null,e)),XS(function(){!(X&6)&&ar()}),n=null;else{switch(wy(r)){case 1:n=gd;break;case 4:n=yy;break;case 16:n=ma;break;case 536870912:n=vy;break;default:n=ma}n=z0(n,L0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function L0(e,t){if(ta=-1,na=0,X&6)throw Error(P(327));var n=e.callbackNode;if(ws()&&e.callbackNode!==n)return null;var r=ga(e,e===Re?Oe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ja(e,r);else{t=r;var s=X;X|=2;var i=V0();(Re!==e||Oe!==t)&&(nn=null,As=Te()+500,_r(e,t));do try{Sk();break}catch(a){O0(e,a)}while(1);Pd(),Na.current=i,X=s,Ce!==null?t=0:(Re=null,Oe=0,t=Ae)}if(t!==0){if(t===2&&(s=Xc(e),s!==0&&(r=s,t=Tu(e,s))),t===1)throw n=Hi,_r(e,0),Dn(e,r),lt(e,Te()),n;if(t===6)Dn(e,r);else{if(s=e.current.alternate,!(r&30)&&!xk(s)&&(t=ja(e,r),t===2&&(i=Xc(e),i!==0&&(r=i,t=Tu(e,i))),t===1))throw n=Hi,_r(e,0),Dn(e,r),lt(e,Te()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:gr(e,rt,nn);break;case 3:if(Dn(e,r),(r&130023424)===r&&(t=Hd+500-Te(),10<t)){if(ga(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=su(gr.bind(null,e,rt,nn),t);break}gr(e,rt,nn);break;case 4:if(Dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ot(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vk(r/1960))-r,10<r){e.timeoutHandle=su(gr.bind(null,e,rt,nn),r);break}gr(e,rt,nn);break;case 5:gr(e,rt,nn);break;default:throw Error(P(329))}}}return lt(e,Te()),e.callbackNode===n?L0.bind(null,e):null}function Tu(e,t){var n=yi;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=ja(e,t),e!==2&&(t=rt,rt=n,t!==null&&_u(t)),e}function _u(e){rt===null?rt=e:rt.push.apply(rt,e)}function xk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~zd,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ot(t),r=1<<n;e[n]=-1,t&=~r}}function hp(e){if(X&6)throw Error(P(327));ws();var t=ga(e,0);if(!(t&1))return lt(e,Te()),null;var n=ja(e,t);if(e.tag!==0&&n===2){var r=Xc(e);r!==0&&(t=r,n=Tu(e,r))}if(n===1)throw n=Hi,_r(e,0),Dn(e,t),lt(e,Te()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,rt,nn),lt(e,Te()),null}function Wd(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(As=Te()+500,nl&&ar())}}function Lr(e){$n!==null&&$n.tag===0&&!(X&6)&&ws();var t=X;X|=1;var n=Et.transition,r=re;try{if(Et.transition=null,re=1,e)return e()}finally{re=r,Et.transition=n,X=t,!(X&6)&&ar()}}function Kd(){ft=as.current,fe(as)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YS(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(Ed(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sa();break;case 3:Is(),fe(ot),fe(Ke),Dd();break;case 5:jd(r);break;case 4:Is();break;case 13:fe(me);break;case 19:fe(me);break;case 10:Ad(r.type._context);break;case 22:case 23:Kd()}n=n.return}if(Re=e,Ce=e=Zn(e.current,null),Oe=ft=t,Ae=0,Hi=null,zd=ol=Dr=0,rt=yi=null,wr!==null){for(t=0;t<wr.length;t++)if(n=wr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wr=null}return e}function O0(e,t){do{var n=Ce;try{if(Pd(),Qo.current=Aa,Pa){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pa=!1}if(jr=0,Me=Pe=ye=null,mi=!1,$i=0,Bd.current=null,n===null||n.return===null){Ae=1,Hi=t,Ce=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ep(o);if(p!==null){p.flags&=-257,tp(p,o,a,i,t),p.mode&1&&Jh(i,c,t),t=p,l=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(l),t.updateQueue=w}else y.add(l);break e}else{if(!(t&1)){Jh(i,c,t),Gd();break e}l=Error(P(426))}}else if(he&&a.mode&1){var b=ep(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),tp(b,o,a,i,t),Cd(Ps(l,a));break e}}i=l=Ps(l,a),Ae!==4&&(Ae=2),yi===null?yi=[i]:yi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=w0(i,l,t);Gh(i,m);break e;case 1:a=l;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yn===null||!Yn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=S0(i,a,t);Gh(i,S);break e}}i=i.return}while(i!==null)}F0(n)}catch(k){t=k,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(1)}function V0(){var e=Na.current;return Na.current=Aa,e===null?Aa:e}function Gd(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Re===null||!(Dr&268435455)&&!(ol&268435455)||Dn(Re,Oe)}function ja(e,t){var n=X;X|=2;var r=V0();(Re!==e||Oe!==t)&&(nn=null,_r(e,t));do try{wk();break}catch(s){O0(e,s)}while(1);if(Pd(),X=n,Na.current=r,Ce!==null)throw Error(P(261));return Re=null,Oe=0,Ae}function wk(){for(;Ce!==null;)U0(Ce)}function Sk(){for(;Ce!==null&&!Kw();)U0(Ce)}function U0(e){var t=B0(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?F0(e):Ce=t,Bd.current=null}function F0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pk(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Ce=null;return}}else if(n=hk(n,t,ft),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Ae===0&&(Ae=5)}function gr(e,t,n){var r=re,s=Et.transition;try{Et.transition=null,re=1,kk(e,t,n,r)}finally{Et.transition=s,re=r}return null}function kk(e,t,n,r){do ws();while($n!==null);if(X&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(nS(e,i),e===Re&&(Ce=Re=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vo||(Vo=!0,z0(ma,function(){return ws(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var o=re;re=1;var a=X;X|=4,Bd.current=null,gk(e,n),j0(n,e),BS(nu),ya=!!tu,nu=tu=null,e.current=n,yk(n),Gw(),X=a,re=o,Et.transition=i}else e.current=n;if(Vo&&(Vo=!1,$n=e,Ra=s),i=e.pendingLanes,i===0&&(Yn=null),Xw(n.stateNode),lt(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ma)throw Ma=!1,e=ku,ku=null,e;return Ra&1&&e.tag!==0&&ws(),i=e.pendingLanes,i&1?e===bu?vi++:(vi=0,bu=e):vi=0,ar(),null}function ws(){if($n!==null){var e=wy(Ra),t=Et.transition,n=re;try{if(Et.transition=null,re=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,Ra=0,X&6)throw Error(P(331));var s=X;for(X|=4,j=e.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var u=j;switch(u.tag){case 0:case 11:case 15:gi(8,u,i)}var f=u.child;if(f!==null)f.return=u,j=f;else for(;j!==null;){u=j;var h=u.sibling,p=u.return;if(N0(u),u===c){j=null;break}if(h!==null){h.return=p,j=h;break}j=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gi(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,j=m;break e}j=i.return}}var g=e.current;for(j=g;j!==null;){o=j;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,j=v;else e:for(o=g;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:il(9,a)}}catch(k){ke(a,a.return,k)}if(a===o){j=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,j=S;break e}j=a.return}}if(X=s,ar(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Za,e)}catch{}r=!0}return r}finally{re=n,Et.transition=t}}return!1}function pp(e,t,n){t=Ps(n,t),t=w0(e,t,1),e=qn(e,t,1),t=Ye(),e!==null&&(ro(e,1,t),lt(e,t))}function ke(e,t,n){if(e.tag===3)pp(e,e,n);else for(;t!==null;){if(t.tag===3){pp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=Ps(n,e),e=S0(t,e,1),t=qn(t,e,1),e=Ye(),t!==null&&(ro(t,1,e),lt(t,e));break}}t=t.return}}function bk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Oe&n)===n&&(Ae===4||Ae===3&&(Oe&130023424)===Oe&&500>Te()-Hd?_r(e,0):zd|=n),lt(e,t)}function $0(e,t){t===0&&(e.mode&1?(t=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):t=1);var n=Ye();e=pn(e,t),e!==null&&(ro(e,t,n),lt(e,n))}function Tk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$0(e,n)}function _k(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),$0(e,n)}var B0;B0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,fk(e,t,n);st=!!(e.flags&131072)}else st=!1,he&&t.flags&1048576&&Ky(t,Ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ea(e,t),e=t.pendingProps;var s=_s(t,Ke.current);xs(t,n),s=Od(null,t,r,e,s,n);var i=Vd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,ka(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Md(t),s.updater=sl,t.stateNode=s,s._reactInternals=t,du(t,r,e,n),t=pu(null,t,r,!0,i,n)):(t.tag=0,he&&i&&_d(t),Ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ea(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ck(r),e=Rt(r,e),s){case 0:t=hu(null,t,r,e,n);break e;case 1:t=sp(null,t,r,e,n);break e;case 11:t=np(null,t,r,e,n);break e;case 14:t=rp(null,t,r,Rt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),hu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),sp(e,t,r,s,n);case 3:e:{if(_0(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Qy(e,t),Ca(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ps(Error(P(423)),t),t=ip(e,t,r,n,s);break e}else if(r!==s){s=Ps(Error(P(424)),t),t=ip(e,t,r,n,s);break e}else for(pt=Gn(t.stateNode.containerInfo.firstChild),mt=t,he=!0,Dt=null,n=Xy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===s){t=mn(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return Jy(t),e===null&&lu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ru(r,s)?o=null:i!==null&&ru(r,i)&&(t.flags|=32),T0(e,t),Ge(e,t,o,n),t.child;case 6:return e===null&&lu(t),null;case 13:return E0(e,t,n);case 4:return Rd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cs(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),np(e,t,r,s,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ue(_a,r._currentValue),r._currentValue=o,i!==null)if(Ut(i.value,o)){if(i.children===s.children&&!ot.current){t=mn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=dn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),cu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,xs(t,n),s=It(s),r=r(s),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,s=Rt(r,t.pendingProps),s=Rt(r.type,s),rp(e,t,r,s,n);case 15:return k0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rt(r,s),ea(e,t),t.tag=1,at(r)?(e=!0,ka(t)):e=!1,xs(t,n),x0(t,r,s),du(t,r,s,n),pu(null,t,r,!0,e,n);case 19:return C0(e,t,n);case 22:return b0(e,t,n)}throw Error(P(156,t.tag))};function z0(e,t){return gy(e,t)}function Ek(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new Ek(e,t,n,r)}function qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ck(e){if(typeof e=="function")return qd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hd)return 11;if(e===pd)return 14}return 2}function Zn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ra(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")qd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zr:return Er(n.children,s,i,t);case fd:o=8,s|=8;break;case Dc:return e=_t(12,n,t,s|2),e.elementType=Dc,e.lanes=i,e;case Lc:return e=_t(13,n,t,s),e.elementType=Lc,e.lanes=i,e;case Oc:return e=_t(19,n,t,s),e.elementType=Oc,e.lanes=i,e;case Jg:return al(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zg:o=10;break e;case Qg:o=9;break e;case hd:o=11;break e;case pd:o=14;break e;case Mn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=_t(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Er(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function al(e,t,n,r){return e=_t(22,e,r,t),e.elementType=Jg,e.lanes=n,e.stateNode={isHidden:!1},e}function tc(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function nc(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ik(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yd(e,t,n,r,s,i,o,a,l){return e=new Ik(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_t(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Md(i),e}function Pk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function H0(e){if(!e)return nr;e=e._reactInternals;e:{if(Br(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(at(n))return Hy(e,n,t)}return t}function W0(e,t,n,r,s,i,o,a,l){return e=Yd(n,r,!0,e,s,i,o,a,l),e.context=H0(null),n=e.current,r=Ye(),s=Xn(n),i=dn(r,s),i.callback=t??null,qn(n,i,s),e.current.lanes=s,ro(e,s,r),lt(e,r),e}function ll(e,t,n,r){var s=t.current,i=Ye(),o=Xn(s);return n=H0(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qn(s,t,o),e!==null&&(Vt(e,s,o,i),Zo(e,s,o)),o}function Da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xd(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function Ak(){return null}var K0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zd(e){this._internalRoot=e}cl.prototype.render=Zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));ll(e,t,null,null)};cl.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lr(function(){ll(null,e,null,null)}),t[hn]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=by();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&_y(e)}};function Qd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gp(){}function Nk(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Da(o);i.call(c)}}var o=W0(t,r,e,0,null,!1,!1,"",gp);return e._reactRootContainer=o,e[hn]=o.current,Li(e.nodeType===8?e.parentNode:e),Lr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Da(l);a.call(c)}}var l=Yd(e,0,!1,null,null,!1,!1,"",gp);return e._reactRootContainer=l,e[hn]=l.current,Li(e.nodeType===8?e.parentNode:e),Lr(function(){ll(t,l,n,r)}),l}function dl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Da(o);a.call(l)}}ll(t,o,e,s)}else o=Nk(n,t,e,s,r);return Da(o)}Sy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ai(t.pendingLanes);n!==0&&(yd(t,n|1),lt(t,Te()),!(X&6)&&(As=Te()+500,ar()))}break;case 13:Lr(function(){var r=pn(e,1);if(r!==null){var s=Ye();Vt(r,e,1,s)}}),Xd(e,1)}};vd=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=Ye();Vt(t,e,134217728,n)}Xd(e,134217728)}};ky=function(e){if(e.tag===13){var t=Xn(e),n=pn(e,t);if(n!==null){var r=Ye();Vt(n,e,t,r)}Xd(e,t)}};by=function(){return re};Ty=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Gc=function(e,t,n){switch(t){case"input":if(Fc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=tl(r);if(!s)throw Error(P(90));ty(r),Fc(r,s)}}}break;case"textarea":ry(e,n);break;case"select":t=n.value,t!=null&&ms(e,!!n.multiple,t,!1)}};uy=Wd;dy=Lr;var Mk={usingClientEntryPoint:!1,Events:[io,ts,tl,ly,cy,Wd]},ri={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rk={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=py(e),e===null?null:e.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||Ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Za=Uo.inject(Rk),Kt=Uo}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mk;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(t))throw Error(P(200));return Pk(e,t,null,n)};vt.createRoot=function(e,t){if(!Qd(e))throw Error(P(299));var n=!1,r="",s=K0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yd(e,1,!1,null,null,n,!1,r,s),e[hn]=t.current,Li(e.nodeType===8?e.parentNode:e),new Zd(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=py(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return Lr(e)};vt.hydrate=function(e,t,n){if(!ul(t))throw Error(P(200));return dl(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!Qd(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=K0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=W0(t,null,e,1,n??null,s,!1,i,o),e[hn]=t.current,Li(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new cl(t)};vt.render=function(e,t,n){if(!ul(t))throw Error(P(200));return dl(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!ul(e))throw Error(P(40));return e._reactRootContainer?(Lr(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};vt.unstable_batchedUpdates=Wd;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ul(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return dl(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function G0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G0)}catch(e){console.error(e)}}G0(),Gg.exports=vt;var q0=Gg.exports,yp=q0;Rc.createRoot=yp.createRoot,Rc.hydrateRoot=yp.hydrateRoot;const Wi=x.createContext({});function Jd(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const ef=typeof window<"u",tf=ef?x.useLayoutEffect:x.useEffect,fl=x.createContext(null);function nf(e,t){e.indexOf(t)===-1&&e.push(t)}function rf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const gn=(e,t,n)=>n>t?t:n<e?e:n;let sf=()=>{};const yn={},Y0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function X0(e){return typeof e=="object"&&e!==null}const Z0=e=>/^0[^.\s]+$/u.test(e);function of(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ct=e=>e,jk=(e,t)=>n=>t(e(n)),ao=(...e)=>e.reduce(jk),Ki=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class af{constructor(){this.subscriptions=[]}add(t){return nf(this.subscriptions,t),()=>rf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qt=e=>e*1e3,Yt=e=>e/1e3;function Q0(e,t){return t?e*(1e3/t):0}const J0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Dk=1e-7,Lk=12;function Ok(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=J0(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Dk&&++a<Lk);return o}function lo(e,t,n,r){if(e===t&&n===r)return Ct;const s=i=>Ok(i,0,1,e,n);return i=>i===0||i===1?i:J0(s(i),t,r)}const ev=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tv=e=>t=>1-e(1-t),nv=lo(.33,1.53,.69,.99),lf=tv(nv),rv=ev(lf),sv=e=>(e*=2)<1?.5*lf(e):.5*(2-Math.pow(2,-10*(e-1))),cf=e=>1-Math.sin(Math.acos(e)),iv=tv(cf),ov=ev(cf),Vk=lo(.42,0,1,1),Uk=lo(0,0,.58,1),av=lo(.42,0,.58,1),Fk=e=>Array.isArray(e)&&typeof e[0]!="number",lv=e=>Array.isArray(e)&&typeof e[0]=="number",$k={linear:Ct,easeIn:Vk,easeInOut:av,easeOut:Uk,circIn:cf,circInOut:ov,circOut:iv,backIn:lf,backInOut:rv,backOut:nv,anticipate:sv},Bk=e=>typeof e=="string",vp=e=>{if(lv(e)){sf(e.length===4);const[t,n,r,s]=e;return lo(t,n,r,s)}else if(Bk(e))return $k[e];return e},Fo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],xp={value:null,addProjectionMetrics:null};function zk(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(u.schedule(f),e()),l++,f(a)}const u={schedule:(f,h=!1,p=!1)=>{const w=p&&s?n:r;return h&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&xp.value&&xp.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(f))}};return u}const Hk=40;function cv(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Fo.reduce((v,S)=>(v[S]=zk(i,t?S:void 0),v),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:y}=o,w=()=>{const v=yn.useManualTiming?s.timestamp:performance.now();n=!1,yn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,Hk),1)),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),f.process(s),h.process(s),p.process(s),y.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(w))},b=()=>{n=!0,r=!0,s.isProcessing||e(w)};return{schedule:Fo.reduce((v,S)=>{const k=o[S];return v[S]=(_,C=!1,T=!1)=>(n||b(),k.schedule(_,C,T)),v},{}),cancel:v=>{for(let S=0;S<Fo.length;S++)o[Fo[S]].cancel(v)},state:s,steps:o}}const{schedule:pe,cancel:rr,state:Le,steps:rc}=cv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ct,!0);let sa;function Wk(){sa=void 0}const it={now:()=>(sa===void 0&&it.set(Le.isProcessing||yn.useManualTiming?Le.timestamp:performance.now()),sa),set:e=>{sa=e,queueMicrotask(Wk)}},uv=e=>t=>typeof t=="string"&&t.startsWith(e),uf=uv("--"),Kk=uv("var(--"),df=e=>Kk(e)?Gk.test(e.split("/*")[0].trim()):!1,Gk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$s={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gi={...$s,transform:e=>gn(0,1,e)},$o={...$s,default:1},xi=e=>Math.round(e*1e5)/1e5,ff=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qk(e){return e==null}const Yk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hf=(e,t)=>n=>!!(typeof n=="string"&&Yk.test(n)&&n.startsWith(e)||t&&!qk(n)&&Object.prototype.hasOwnProperty.call(n,t)),dv=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(ff);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Xk=e=>gn(0,255,e),sc={...$s,transform:e=>Math.round(Xk(e))},kr={test:hf("rgb","red"),parse:dv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+sc.transform(e)+", "+sc.transform(t)+", "+sc.transform(n)+", "+xi(Gi.transform(r))+")"};function Zk(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Eu={test:hf("#"),parse:Zk,transform:kr.transform},co=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nn=co("deg"),Xt=co("%"),$=co("px"),Qk=co("vh"),Jk=co("vw"),wp=(()=>({...Xt,parse:e=>Xt.parse(e)/100,transform:e=>Xt.transform(e*100)}))(),ls={test:hf("hsl","hue"),parse:dv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Xt.transform(xi(t))+", "+Xt.transform(xi(n))+", "+xi(Gi.transform(r))+")"},ze={test:e=>kr.test(e)||Eu.test(e)||ls.test(e),parse:e=>kr.test(e)?kr.parse(e):ls.test(e)?ls.parse(e):Eu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?kr.transform(e):ls.transform(e)},eb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tb(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ff))==null?void 0:t.length)||0)+(((n=e.match(eb))==null?void 0:n.length)||0)>0}const fv="number",hv="color",nb="var",rb="var(",Sp="${}",sb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(sb,l=>(ze.test(l)?(r.color.push(i),s.push(hv),n.push(ze.parse(l))):l.startsWith(rb)?(r.var.push(i),s.push(nb),n.push(l)):(r.number.push(i),s.push(fv),n.push(parseFloat(l))),++i,Sp)).split(Sp);return{values:n,split:a,indexes:r,types:s}}function pv(e){return qi(e).values}function mv(e){const{split:t,types:n}=qi(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===fv?i+=xi(s[o]):a===hv?i+=ze.transform(s[o]):i+=s[o]}return i}}const ib=e=>typeof e=="number"?0:e;function ob(e){const t=pv(e);return mv(e)(t.map(ib))}const sr={test:tb,parse:pv,createTransformer:mv,getAnimatableNone:ob};function ic(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ab({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=ic(l,a,e+1/3),i=ic(l,a,e),o=ic(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function La(e,t){return n=>n>0?t:e}const ge=(e,t,n)=>e+(t-e)*n,oc=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},lb=[Eu,kr,ls],cb=e=>lb.find(t=>t.test(e));function kp(e){const t=cb(e);if(!t)return!1;let n=t.parse(e);return t===ls&&(n=ab(n)),n}const bp=(e,t)=>{const n=kp(e),r=kp(t);if(!n||!r)return La(e,t);const s={...n};return i=>(s.red=oc(n.red,r.red,i),s.green=oc(n.green,r.green,i),s.blue=oc(n.blue,r.blue,i),s.alpha=ge(n.alpha,r.alpha,i),kr.transform(s))},Cu=new Set(["none","hidden"]);function ub(e,t){return Cu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function db(e,t){return n=>ge(e,t,n)}function pf(e){return typeof e=="number"?db:typeof e=="string"?df(e)?La:ze.test(e)?bp:pb:Array.isArray(e)?gv:typeof e=="object"?ze.test(e)?bp:fb:La}function gv(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>pf(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function fb(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=pf(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function hb(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const pb=(e,t)=>{const n=sr.createTransformer(t),r=qi(e),s=qi(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Cu.has(e)&&!s.values.length||Cu.has(t)&&!r.values.length?ub(e,t):ao(gv(hb(r,s),s.values),n):La(e,t)};function yv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ge(e,t,n):pf(e)(e,t)}const mb=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>pe.update(t,n),stop:()=>rr(t),now:()=>Le.isProcessing?Le.timestamp:it.now()}},vv=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Oa=2e4;function mf(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Oa;)t+=n,r=e.next(t);return t>=Oa?1/0:t}function gb(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(mf(r),Oa);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Yt(s)}}const yb=5;function xv(e,t,n){const r=Math.max(t-yb,0);return Q0(n-e(r),t-r)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ac=.001;function vb({duration:e=Se.duration,bounce:t=Se.bounce,velocity:n=Se.velocity,mass:r=Se.mass}){let s,i,o=1-t;o=gn(Se.minDamping,Se.maxDamping,o),e=gn(Se.minDuration,Se.maxDuration,Yt(e)),o<1?(s=c=>{const u=c*o,f=u*e,h=u-n,p=Iu(c,o),y=Math.exp(-f);return ac-h/p*y},i=c=>{const f=c*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,y=Math.exp(-f),w=Iu(Math.pow(c,2),o);return(-s(c)+ac>0?-1:1)*((h-p)*y)/w}):(s=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-ac+u*f},i=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const a=5/e,l=wb(s,i,a);if(e=qt(e),isNaN(l))return{stiffness:Se.stiffness,damping:Se.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const xb=12;function wb(e,t,n){let r=n;for(let s=1;s<xb;s++)r=r-e(r)/t(r);return r}function Iu(e,t){return e*Math.sqrt(1-t*t)}const Sb=["duration","bounce"],kb=["stiffness","damping","mass"];function Tp(e,t){return t.some(n=>e[n]!==void 0)}function bb(e){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...e};if(!Tp(e,kb)&&Tp(e,Sb))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*gn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Se.mass,stiffness:s,damping:i}}else{const n=vb(e);t={...t,...n,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function Va(e=Se.visualDuration,t=Se.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=bb({...n,velocity:-Yt(n.velocity||0)}),y=h||0,w=c/(2*Math.sqrt(l*u)),b=o-i,m=Yt(Math.sqrt(l/u)),g=Math.abs(b)<5;r||(r=g?Se.restSpeed.granular:Se.restSpeed.default),s||(s=g?Se.restDelta.granular:Se.restDelta.default);let v;if(w<1){const k=Iu(m,w);v=_=>{const C=Math.exp(-w*m*_);return o-C*((y+w*m*b)/k*Math.sin(k*_)+b*Math.cos(k*_))}}else if(w===1)v=k=>o-Math.exp(-m*k)*(b+(y+m*b)*k);else{const k=m*Math.sqrt(w*w-1);v=_=>{const C=Math.exp(-w*m*_),T=Math.min(k*_,300);return o-C*((y+w*m*b)*Math.sinh(T)+k*b*Math.cosh(T))/k}}const S={calculatedDuration:p&&f||null,next:k=>{const _=v(k);if(p)a.done=k>=f;else{let C=k===0?y:0;w<1&&(C=k===0?qt(y):xv(v,k,_));const T=Math.abs(C)<=r,E=Math.abs(o-_)<=s;a.done=T&&E}return a.value=a.done?o:_,a},toString:()=>{const k=Math.min(mf(S),Oa),_=vv(C=>S.next(k*C).value,k,30);return k+"ms "+_},toTransition:()=>{}};return S}Va.applyToOptions=e=>{const t=gb(e,100,Va);return e.ease=t.ease,e.duration=qt(t.duration),e.type="keyframes",e};function Pu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,y=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let w=n*t;const b=f+w,m=o===void 0?b:o(b);m!==b&&(w=m-f);const g=T=>-w*Math.exp(-T/r),v=T=>m+g(T),S=T=>{const E=g(T),I=v(T);h.done=Math.abs(E)<=c,h.value=h.done?m:I};let k,_;const C=T=>{p(h.value)&&(k=T,_=Va({keyframes:[h.value,y(h.value)],velocity:xv(v,T,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let E=!1;return!_&&k===void 0&&(E=!0,S(T),C(T)),k!==void 0&&T>=k?_.next(T-k):(!E&&S(T),h)}}}function Tb(e,t,n){const r=[],s=n||yn.mix||yv,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ct:t;a=ao(l,a)}r.push(a)}return r}function _b(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(sf(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Tb(t,r,s),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Ki(e[f],e[f+1],u);return a[f](h)};return n?u=>c(gn(e[0],e[i-1],u)):c}function Eb(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ki(0,t,r);e.push(ge(n,1,s))}}function Cb(e){const t=[0];return Eb(t,e.length-1),t}function Ib(e,t){return e.map(n=>n*t)}function Pb(e,t){return e.map(()=>t||av).splice(0,e.length-1)}function wi({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Fk(r)?r.map(vp):vp(r),i={done:!1,value:t[0]},o=Ib(n&&n.length===t.length?n:Cb(t),e),a=_b(o,t,{ease:Array.isArray(s)?s:Pb(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Ab=e=>e!==null;function gf(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Ab),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Nb={decay:Pu,inertia:Pu,tween:wi,keyframes:wi,spring:Va};function wv(e){typeof e.type=="string"&&(e.type=Nb[e.type])}class yf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Mb=e=>e/100;class vf extends yf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,s;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==it.now()&&this.tick(it.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wv(t);const{type:n=wi,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||wi;l!==wi&&typeof a[0]!="number"&&(this.mixKeyframes=ao(Mb,yv(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=mf(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:y,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-c*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let v=this.currentTime,S=r;if(f){const T=Math.min(this.currentTime,s)/a;let E=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(h==="reverse"?(I=1-I,p&&(I-=p/a)):h==="mirror"&&(S=o)),v=gn(0,1,I)*a}const k=g?{done:!1,value:u[0]}:S.next(v);i&&(k.value=i(k.value));let{done:_}=k;!g&&l!==null&&(_=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return C&&y!==Pu&&(k.value=gf(u,this.options,b,this.speed)),w&&w(k.value),C&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Yt(this.calculatedDuration)}get time(){return Yt(this.currentTime)}set time(t){var n;t=qt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(it.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Yt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=mb,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(it.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Rb(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const br=e=>e*180/Math.PI,Au=e=>{const t=br(Math.atan2(e[1],e[0]));return Nu(t)},jb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Au,rotateZ:Au,skewX:e=>br(Math.atan(e[1])),skewY:e=>br(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Nu=e=>(e=e%360,e<0&&(e+=360),e),_p=Au,Ep=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Cp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Db={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ep,scaleY:Cp,scale:e=>(Ep(e)+Cp(e))/2,rotateX:e=>Nu(br(Math.atan2(e[6],e[5]))),rotateY:e=>Nu(br(Math.atan2(-e[2],e[0]))),rotateZ:_p,rotate:_p,skewX:e=>br(Math.atan(e[4])),skewY:e=>br(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Mu(e){return e.includes("scale")?1:0}function Ru(e,t){if(!e||e==="none")return Mu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Db,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=jb,s=a}if(!s)return Mu(t);const i=r[t],o=s[1].split(",").map(Ob);return typeof i=="function"?i(o):o[i]}const Lb=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ru(n,t)};function Ob(e){return parseFloat(e.trim())}const Bs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zs=(()=>new Set(Bs))(),Ip=e=>e===$s||e===$,Vb=new Set(["x","y","z"]),Ub=Bs.filter(e=>!Vb.has(e));function Fb(e){const t=[];return Ub.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Cr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ru(t,"x"),y:(e,{transform:t})=>Ru(t,"y")};Cr.translateX=Cr.x;Cr.translateY=Cr.y;const Ir=new Set;let ju=!1,Du=!1,Lu=!1;function Sv(){if(Du){const e=Array.from(Ir).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Fb(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Du=!1,ju=!1,Ir.forEach(e=>e.complete(Lu)),Ir.clear()}function kv(){Ir.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Du=!0)})}function $b(){Lu=!0,kv(),Sv(),Lu=!1}class xf{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ir.add(this),ju||(ju=!0,pe.read(kv),pe.resolveKeyframes(Sv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Rb(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ir.delete(this)}cancel(){this.state==="scheduled"&&(Ir.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bb=e=>e.startsWith("--");function zb(e,t,n){Bb(t)?e.style.setProperty(t,n):e.style[t]=n}const Hb=of(()=>window.ScrollTimeline!==void 0),Wb={};function Kb(e,t){const n=of(e);return()=>Wb[t]??n()}const bv=Kb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ci=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Pp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ci([0,.65,.55,1]),circOut:ci([.55,0,1,.45]),backIn:ci([.31,.01,.66,-.59]),backOut:ci([.33,1.53,.69,.99])};function Tv(e,t){if(e)return typeof e=="function"?bv()?vv(e,t):"ease-out":lv(e)?ci(e):Array.isArray(e)?e.map(n=>Tv(n,t)||Pp.easeOut):Pp[e]}function Gb(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const f=Tv(a,s);Array.isArray(f)&&(u.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function _v(e){return typeof e=="function"&&"applyToOptions"in e}function qb({type:e,...t}){return _v(e)&&bv()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Yb extends yf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,sf(typeof t.type!="string");const c=qb(t);this.animation=Gb(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=gf(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):zb(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Yt(Number(t))}get time(){return Yt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=qt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Hb()?(this.animation.timeline=t,Ct):n(this)}}const Ev={anticipate:sv,backInOut:rv,circInOut:ov};function Xb(e){return e in Ev}function Zb(e){typeof e.ease=="string"&&Xb(e.ease)&&(e.ease=Ev[e.ease])}const Ap=10;class Qb extends Yb{constructor(t){Zb(t),wv(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new vf({...o,autoplay:!1}),l=qt(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Ap).value,a.sample(l).value,Ap),a.stop()}}const Np=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(sr.test(e)||e==="0")&&!e.startsWith("url("));function Jb(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function eT(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Np(s,t),a=Np(i,t);return!o||!a?!1:Jb(e)||(n==="spring"||_v(n))&&r}function wf(e){return X0(e)&&"offsetHeight"in e}const tT=new Set(["opacity","clipPath","filter","transform"]),nT=of(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rT(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!wf((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return nT()&&n&&tT.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const sT=40;class iT extends yf{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...f}){var y;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=it.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||xf;this.keyframeResolver=new p(a,(w,b,m)=>this.onKeyframesResolved(w,b,h,!m),l,c,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=it.now(),eT(t,i,o,a)||((yn.instantAnimations||!l)&&(u==null||u(gf(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>sT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!c&&rT(h)?new Qb({...h,element:h.motionValue.owner.current}):new vf(h);p.finished.then(()=>this.notifyFinished()).catch(Ct),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),$b()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const oT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aT(e){const t=oT.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Cv(e,t,n=1){const[r,s]=aT(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Y0(o)?parseFloat(o):o}return df(s)?Cv(s,t,n+1):s}function Sf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Iv=new Set(["width","height","top","left","right","bottom",...Bs]),lT={test:e=>e==="auto",parse:e=>e},Pv=e=>t=>t.test(e),Av=[$s,$,Xt,Nn,Jk,Qk,lT],Mp=e=>Av.find(Pv(e));function cT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Z0(e):!0}const uT=new Set(["brightness","contrast","saturate","opacity"]);function dT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ff)||[];if(!r)return e;const s=n.replace(r,"");let i=uT.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const fT=/\b([a-z-]*)\(.*?\)/gu,Ou={...sr,getAnimatableNone:e=>{const t=e.match(fT);return t?t.map(dT).join(" "):e}},Rp={...$s,transform:Math.round},hT={rotate:Nn,rotateX:Nn,rotateY:Nn,rotateZ:Nn,scale:$o,scaleX:$o,scaleY:$o,scaleZ:$o,skew:Nn,skewX:Nn,skewY:Nn,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Gi,originX:wp,originY:wp,originZ:$},kf={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...hT,zIndex:Rp,fillOpacity:Gi,strokeOpacity:Gi,numOctaves:Rp},pT={...kf,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:Ou,WebkitFilter:Ou},Nv=e=>pT[e];function Mv(e,t){let n=Nv(e);return n!==Ou&&(n=sr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mT=new Set(["auto","none","0"]);function gT(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!mT.has(i)&&qi(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Mv(n,s)}class yT extends xf{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),df(c))){const u=Cv(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Iv.has(r)||t.length!==2)return;const[s,i]=t,o=Mp(s),a=Mp(i);if(o!==a)if(Ip(o)&&Ip(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Cr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||cT(t[s]))&&r.push(s);r.length&&gT(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Cr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function vT(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const jp=30,xT=e=>!isNaN(parseFloat(e));class wT{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=it.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=it.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new af);const r=this.events[t].add(n);return t==="change"?()=>{r(),pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=it.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jp);return Q0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ns(e,t){return new wT(e,t)}const Rv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:bf,cancel:kj}=cv(queueMicrotask,!1),Mt={x:!1,y:!1};function jv(){return Mt.x||Mt.y}function ST(e){return e==="x"||e==="y"?Mt[e]?null:(Mt[e]=!0,()=>{Mt[e]=!1}):Mt.x||Mt.y?null:(Mt.x=Mt.y=!0,()=>{Mt.x=Mt.y=!1})}function Dv(e,t){const n=vT(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Dp(e){return!(e.pointerType==="touch"||jv())}function kT(e,t,n={}){const[r,s,i]=Dv(e,n),o=a=>{if(!Dp(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=f=>{Dp(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Lv=(e,t)=>t?e===t?!0:Lv(e,t.parentElement):!1,Tf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TT(e){return bT.has(e.tagName)||e.tabIndex!==-1}const ia=new WeakSet;function Lp(e){return t=>{t.key==="Enter"&&e(t)}}function lc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _T=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Lp(()=>{if(ia.has(n))return;lc(n,"down");const s=Lp(()=>{lc(n,"up")}),i=()=>lc(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Op(e){return Tf(e)&&!jv()}function ET(e,t,n={}){const[r,s,i]=Dv(e,n),o=a=>{const l=a.currentTarget;if(!Op(a))return;ia.add(l);const c=t(l,a),u=(p,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ia.has(l)&&ia.delete(l),Op(p)&&typeof c=="function"&&c(p,{success:y})},f=p=>{u(p,l===window||l===document||n.useGlobalTarget||Lv(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),wf(a)&&(a.addEventListener("focus",c=>_T(c,s)),!TT(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Ov(e){return X0(e)&&"ownerSVGElement"in e}function CT(e){return Ov(e)&&e.tagName==="svg"}const We=e=>!!(e&&e.getVelocity),IT=[...Av,ze,sr],PT=e=>IT.find(Pv(e)),_f=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class AT extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=wf(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NT({children:e,isPresent:t,anchorX:n}){const r=x.useId(),s=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=x.useContext(_f);return x.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:f}=i.current;if(t||!s.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${f}`;s.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),d.jsx(AT,{isPresent:t,childRef:s,sizeRef:i,children:x.cloneElement(e,{ref:s})})}const MT=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=Jd(RT),c=x.useId();let u=!0,f=x.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return i&&u&&(f={...f}),x.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),x.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=d.jsx(NT,{isPresent:n,anchorX:a,children:e})),d.jsx(fl.Provider,{value:f,children:e})};function RT(){return new Map}function Vv(e=!0){const t=x.useContext(fl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=x.useId();x.useEffect(()=>{if(e)return s(i)},[e]);const o=x.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Bo=e=>e.key||"";function Vp(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const vn=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=Vv(o),u=x.useMemo(()=>Vp(e),[e]),f=o&&!l?[]:u.map(Bo),h=x.useRef(!0),p=x.useRef(u),y=Jd(()=>new Map),[w,b]=x.useState(u),[m,g]=x.useState(u);tf(()=>{h.current=!1,p.current=u;for(let k=0;k<m.length;k++){const _=Bo(m[k]);f.includes(_)?y.delete(_):y.get(_)!==!0&&y.set(_,!1)}},[m,f.length,f.join("-")]);const v=[];if(u!==w){let k=[...u];for(let _=0;_<m.length;_++){const C=m[_],T=Bo(C);f.includes(T)||(k.splice(_,0,C),v.push(C))}return i==="wait"&&v.length&&(k=v),g(Vp(k)),b(u),null}const{forceRender:S}=x.useContext(Wi);return d.jsx(d.Fragment,{children:m.map(k=>{const _=Bo(k),C=o&&!l?!1:u===m||f.includes(_),T=()=>{if(y.has(_))y.set(_,!0);else return;let E=!0;y.forEach(I=>{I||(E=!1)}),E&&(S==null||S(),g(p.current),o&&(c==null||c()),r&&r())};return d.jsx(MT,{isPresent:C,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:T,anchorX:a,children:k},_)})})},jT=x.createContext(null);function DT(){const e=x.useRef(!1);return tf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function LT(){const e=DT(),[t,n]=x.useState(0),r=x.useCallback(()=>{e.current&&n(t+1)},[t]);return[x.useCallback(()=>pe.postRender(r),[r]),t]}const OT=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Up(){const e=new Set,t=new WeakMap,n=()=>e.forEach(OT);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const s=t.get(r);s&&(s(),t.delete(r)),n()},dirty:n}}const Uv=e=>e===!0,VT=e=>Uv(e===!0)||e==="id",UT=({children:e,id:t,inherit:n=!0})=>{const r=x.useContext(Wi),s=x.useContext(jT),[i,o]=LT(),a=x.useRef(null),l=r.id||s;a.current===null&&(VT(n)&&l&&(t=t?l+"-"+t:l),a.current={id:t,group:Uv(n)&&r.group||Up()});const c=x.useMemo(()=>({...a.current,forceRender:i}),[o]);return d.jsx(Wi.Provider,{value:c,children:e})},Fv=x.createContext({strict:!1}),Fp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ms={};for(const e in Fp)Ms[e]={isEnabled:t=>Fp[e].some(n=>!!t[n])};function FT(e){for(const t in e)Ms[t]={...Ms[t],...e[t]}}const $T=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ua(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$T.has(e)}let $v=e=>!Ua(e);function BT(e){e&&($v=t=>t.startsWith("on")?!Ua(t):e(t))}try{BT(require("@emotion/is-prop-valid").default)}catch{}function zT(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||($v(s)||n===!0&&Ua(s)||!t&&!Ua(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function HT(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const hl=x.createContext({});function pl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Yi(e){return typeof e=="string"||Array.isArray(e)}const Ef=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cf=["initial",...Ef];function ml(e){return pl(e.animate)||Cf.some(t=>Yi(e[t]))}function Bv(e){return!!(ml(e)||e.variants)}function WT(e,t){if(ml(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Yi(n)?n:void 0,animate:Yi(r)?r:void 0}}return e.inherit!==!1?t:{}}function KT(e){const{initial:t,animate:n}=WT(e,x.useContext(hl));return x.useMemo(()=>({initial:t,animate:n}),[$p(t),$p(n)])}function $p(e){return Array.isArray(e)?e.join(" "):e}const GT=Symbol.for("motionComponentSymbol");function cs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qT(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):cs(n)&&(n.current=r))},[t])}const If=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YT="framerAppearId",zv="data-"+If(YT),Hv=x.createContext({});function XT(e,t,n,r,s){var w,b;const{visualElement:i}=x.useContext(hl),o=x.useContext(Fv),a=x.useContext(fl),l=x.useContext(_f).reducedMotion,c=x.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=x.useContext(Hv);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&ZT(c.current,n,s,f);const h=x.useRef(!1);x.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const p=n[zv],y=x.useRef(!!p&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return tf(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),bf.render(u.render),y.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,p)}),y.current=!1))}),u}function ZT(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Wv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&cs(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Wv(e){if(e)return e.options.allowProjection!==!1?e.projection:Wv(e.parent)}function QT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&FT(e);function i(a,l){let c;const u={...x.useContext(_f),...a,layoutId:JT(a)},{isStatic:f}=u,h=KT(a),p=r(a,f);if(!f&&ef){e2();const y=t2(u);c=y.MeasureLayout,h.visualElement=XT(s,p,u,t,y.ProjectionNode)}return d.jsxs(hl.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,n(s,a,qT(p,h.visualElement,l),p,f,h.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=x.forwardRef(i);return o[GT]=s,o}function JT({layoutId:e}){const t=x.useContext(Wi).id;return t&&e!==void 0?t+"-"+e:e}function e2(e,t){x.useContext(Fv).strict}function t2(e){const{drag:t,layout:n}=Ms;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Xi={};function n2(e){for(const t in e)Xi[t]=e[t],uf(t)&&(Xi[t].isCSSVariable=!0)}function Kv(e,{layout:t,layoutId:n}){return zs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xi[e]||e==="opacity")}const r2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s2=Bs.length;function i2(e,t,n){let r="",s=!0;for(let i=0;i<s2;i++){const o=Bs[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Rv(a,kf[o]);if(!l){s=!1;const u=r2[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Pf(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(zs.has(l)){o=!0;continue}else if(uf(l)){s[l]=c;continue}else{const u=Rv(c,kf[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=i2(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const Af=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gv(e,t,n){for(const r in t)!We(t[r])&&!Kv(r,n)&&(e[r]=t[r])}function o2({transformTemplate:e},t){return x.useMemo(()=>{const n=Af();return Pf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function a2(e,t){const n=e.style||{},r={};return Gv(r,n,e),Object.assign(r,o2(e,t)),r}function l2(e,t){const n={},r=a2(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const c2={offset:"stroke-dashoffset",array:"stroke-dasharray"},u2={offset:"strokeDashoffset",array:"strokeDasharray"};function d2(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?c2:u2;e[i.offset]=$.transform(-r);const o=$.transform(t),a=$.transform(n);e[i.array]=`${o} ${a}`}function qv(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(Pf(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&d2(f,s,i,o,!1)}const Yv=()=>({...Af(),attrs:{}}),Xv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function f2(e,t,n,r){const s=x.useMemo(()=>{const i=Yv();return qv(i,t,Xv(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Gv(i,e.style,e),s.style={...i,...s.style}}return s}const h2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nf(e){return typeof e!="string"||e.includes("-")?!1:!!(h2.indexOf(e)>-1||/[A-Z]/u.test(e))}function p2(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Nf(n)?f2:l2)(r,i,o,n),c=zT(r,typeof n=="string",e),u=n!==x.Fragment?{...c,...l,ref:s}:{},{children:f}=r,h=x.useMemo(()=>We(f)?f.get():f,[f]);return x.createElement(n,{...u,children:h})}}function Bp(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Mf(e,t,n,r){if(typeof t=="function"){const[s,i]=Bp(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Bp(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function oa(e){return We(e)?e.get():e}function m2({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:g2(n,r,s,e),renderState:t()}}const Zv=e=>(t,n)=>{const r=x.useContext(hl),s=x.useContext(fl),i=()=>m2(e,t,r,s);return n?i():Jd(i)};function g2(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=oa(i[h]);let{initial:o,animate:a}=e;const l=ml(e),c=Bv(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!pl(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const y=Mf(e,h[p]);if(y){const{transitionEnd:w,transition:b,...m}=y;for(const g in m){let v=m[g];if(Array.isArray(v)){const S=u?v.length-1:0;v=v[S]}v!==null&&(s[g]=v)}for(const g in w)s[g]=w[g]}}}return s}function Rf(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(We(r[o])||t.style&&We(t.style[o])||Kv(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const y2={useVisualState:Zv({scrapeMotionValuesFromProps:Rf,createRenderState:Af})};function Qv(e,t,n){const r=Rf(e,t,n);for(const s in e)if(We(e[s])||We(t[s])){const i=Bs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const v2={useVisualState:Zv({scrapeMotionValuesFromProps:Qv,createRenderState:Yv})};function x2(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Nf(r)?v2:y2,preloadedFeatures:e,useRender:p2(s),createVisualElement:t,Component:r};return QT(o)}}function Zi(e,t,n){const r=e.getProps();return Mf(r,t,n!==void 0?n:r.custom,e)}const Vu=e=>Array.isArray(e);function w2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ns(n))}function S2(e){return Vu(e)?e[e.length-1]||0:e}function k2(e,t){const n=Zi(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=S2(i[o]);w2(e,o,a)}}function b2(e){return!!(We(e)&&e.add)}function Uu(e,t){const n=e.getValue("willChange");if(b2(n))return n.add(t);if(!n&&yn.WillChange){const r=new yn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Jv(e){return e.props[zv]}const T2=e=>e!==null;function _2(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(T2),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const E2={type:"spring",stiffness:500,damping:25,restSpeed:10},C2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),I2={type:"keyframes",duration:.8},P2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A2=(e,{keyframes:t})=>t.length>2?I2:zs.has(e)?e.startsWith("scale")?C2(t[1]):E2:P2;function N2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jf=(e,t,n,r={},s,i)=>o=>{const a=Sf(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-qt(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};N2(a)||Object.assign(u,A2(e,u)),u.duration&&(u.duration=qt(u.duration)),u.repeatDelay&&(u.repeatDelay=qt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(yn.instantAnimations||yn.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,f&&!i&&t.get()!==void 0){const h=_2(u.keyframes,a);if(h!==void 0){pe.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new vf(u):new iT(u)};function M2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ex(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){const f=e.getValue(u,e.latestValues[u]??null),h=a[u];if(h===void 0||c&&M2(c,u))continue;const p={delay:n,...Sf(i||{},u)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===y&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const m=Jv(e);if(m){const g=window.MotionHandoffAnimation(m,u,pe);g!==null&&(p.startTime=g,w=!0)}}Uu(e,u),f.start(jf(u,f,h,e.shouldReduceMotion&&Iv.has(u)?{type:!1}:p,e,w));const b=f.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{pe.update(()=>{o&&k2(e,o)})}),l}function Fu(e,t,n={}){var l;const r=Zi(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(ex(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=s;return R2(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function R2(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(j2).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Fu(c,t,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function j2(e,t){return e.sortNodePosition(t)}function D2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Fu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Fu(e,t,n);else{const s=typeof t=="function"?Zi(e,t,n.custom):t;r=Promise.all(ex(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function tx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const L2=Cf.length;function nx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?nx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<L2;n++){const r=Cf[n],s=e.props[r];(Yi(s)||s===!1)&&(t[r]=s)}return t}const O2=[...Ef].reverse(),V2=Ef.length;function U2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>D2(e,n,r)))}function F2(e){let t=U2(e),n=zp(),r=!0;const s=l=>(c,u)=>{var h;const f=Zi(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:y,...w}=f;c={...c,...w,...y}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,u=nx(e.parent)||{},f=[],h=new Set;let p={},y=1/0;for(let b=0;b<V2;b++){const m=O2[b],g=n[m],v=c[m]!==void 0?c[m]:u[m],S=Yi(v),k=m===l?g.isActive:null;k===!1&&(y=b);let _=v===u[m]&&v!==c[m]&&S;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...p},!g.isActive&&k===null||!v&&!g.prevProp||pl(v)||typeof v=="boolean")continue;const C=$2(g.prevProp,v);let T=C||m===l&&g.isActive&&!_&&S||b>y&&S,E=!1;const I=Array.isArray(v)?v:[v];let V=I.reduce(s(m),{});k===!1&&(V={});const{prevResolvedValues:ne={}}=g,le={...ne,...V},Ie=z=>{T=!0,h.has(z)&&(E=!0,h.delete(z)),g.needsAnimating[z]=!0;const N=e.getValue(z);N&&(N.liveStyle=!1)};for(const z in le){const N=V[z],D=ne[z];if(p.hasOwnProperty(z))continue;let F=!1;Vu(N)&&Vu(D)?F=!tx(N,D):F=N!==D,F?N!=null?Ie(z):h.add(z):N!==void 0&&h.has(z)?Ie(z):g.protectedKeys[z]=!0}g.prevProp=v,g.prevResolvedValues=V,g.isActive&&(p={...p,...V}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(_&&C)||E)&&f.push(...I.map(z=>({animation:z,options:{type:m}})))}if(h.size){const b={};if(typeof c.initial!="boolean"){const m=Zi(e,Array.isArray(c.initial)?c.initial[0]:c.initial);m&&m.transition&&(b.transition=m.transition)}h.forEach(m=>{const g=e.getBaseTarget(m),v=e.getValue(m);v&&(v.liveStyle=!0),b[m]=g??null}),f.push({animation:b})}let w=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=zp(),r=!0}}}function $2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tx(t,e):!1}function pr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zp(){return{animate:pr(!0),whileInView:pr(),whileHover:pr(),whileTap:pr(),whileDrag:pr(),whileFocus:pr(),exit:pr()}}class lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class B2 extends lr{constructor(t){super(t),t.animationState||(t.animationState=F2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let z2=0;class H2 extends lr{constructor(){super(...arguments),this.id=z2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const W2={animation:{Feature:B2},exit:{Feature:H2}};function Qi(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function uo(e){return{point:{x:e.pageX,y:e.pageY}}}const K2=e=>t=>Tf(t)&&e(t,uo(t));function Si(e,t,n,r){return Qi(e,t,K2(n),r)}function rx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function G2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function q2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const sx=1e-4,Y2=1-sx,X2=1+sx,ix=.01,Z2=0-ix,Q2=0+ix;function qe(e){return e.max-e.min}function J2(e,t,n){return Math.abs(e-t)<=n}function Hp(e,t,n,r=.5){e.origin=r,e.originPoint=ge(t.min,t.max,e.origin),e.scale=qe(n)/qe(t),e.translate=ge(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Y2&&e.scale<=X2||isNaN(e.scale))&&(e.scale=1),(e.translate>=Z2&&e.translate<=Q2||isNaN(e.translate))&&(e.translate=0)}function ki(e,t,n,r){Hp(e.x,t.x,n.x,r?r.originX:void 0),Hp(e.y,t.y,n.y,r?r.originY:void 0)}function Wp(e,t,n){e.min=n.min+t.min,e.max=e.min+qe(t)}function e_(e,t,n){Wp(e.x,t.x,n.x),Wp(e.y,t.y,n.y)}function Kp(e,t,n){e.min=t.min-n.min,e.max=e.min+qe(t)}function bi(e,t,n){Kp(e.x,t.x,n.x),Kp(e.y,t.y,n.y)}const Gp=()=>({translate:0,scale:1,origin:0,originPoint:0}),us=()=>({x:Gp(),y:Gp()}),qp=()=>({min:0,max:0}),be=()=>({x:qp(),y:qp()});function kt(e){return[e("x"),e("y")]}function cc(e){return e===void 0||e===1}function $u({scale:e,scaleX:t,scaleY:n}){return!cc(e)||!cc(t)||!cc(n)}function yr(e){return $u(e)||ox(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ox(e){return Yp(e.x)||Yp(e.y)}function Yp(e){return e&&e!=="0%"}function Fa(e,t,n){const r=e-n,s=t*r;return n+s}function Xp(e,t,n,r,s){return s!==void 0&&(e=Fa(e,s,r)),Fa(e,n,r)+t}function Bu(e,t=0,n=1,r,s){e.min=Xp(e.min,t,n,r,s),e.max=Xp(e.max,t,n,r,s)}function ax(e,{x:t,y:n}){Bu(e.x,t.translate,t.scale,t.originPoint),Bu(e.y,n.translate,n.scale,n.originPoint)}const Zp=.999999999999,Qp=1.0000000000001;function t_(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ax(e,o)),r&&yr(i.latestValues)&&fs(e,i.latestValues))}t.x<Qp&&t.x>Zp&&(t.x=1),t.y<Qp&&t.y>Zp&&(t.y=1)}function ds(e,t){e.min=e.min+t,e.max=e.max+t}function Jp(e,t,n,r,s=.5){const i=ge(e.min,e.max,s);Bu(e,t,n,i,r)}function fs(e,t){Jp(e.x,t.x,t.scaleX,t.scale,t.originX),Jp(e.y,t.y,t.scaleY,t.scale,t.originY)}function lx(e,t){return rx(q2(e.getBoundingClientRect(),t))}function n_(e,t,n){const r=lx(e,n),{scroll:s}=t;return s&&(ds(r.x,s.offset.x),ds(r.y,s.offset.y)),r}const cx=({current:e})=>e?e.ownerDocument.defaultView:null,em=(e,t)=>Math.abs(e-t);function r_(e,t){const n=em(e.x,t.x),r=em(e.y,t.y);return Math.sqrt(n**2+r**2)}class ux{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=r_(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:y}=f,{timestamp:w}=Le;this.history.push({...y,timestamp:w});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=uc(h,this.transformPagePoint),pe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=dc(f.type==="pointercancel"?this.lastMoveEventInfo:uc(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),y&&y(f,b)},!Tf(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=uo(t),a=uc(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Le;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,dc(a,this.history)),this.removeListeners=ao(Si(this.contextWindow,"pointermove",this.handlePointerMove),Si(this.contextWindow,"pointerup",this.handlePointerUp),Si(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rr(this.updatePoint)}}function uc(e,t){return t?{point:t(e.point)}:e}function tm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dc({point:e},t){return{point:e,delta:tm(e,dx(t)),offset:tm(e,s_(t)),velocity:i_(t,.1)}}function s_(e){return e[0]}function dx(e){return e[e.length-1]}function i_(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=dx(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>qt(t)));)n--;if(!r)return{x:0,y:0};const i=Yt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function o_(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ge(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ge(n,e,r.max):Math.min(e,n)),e}function nm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function a_(e,{top:t,left:n,bottom:r,right:s}){return{x:nm(e.x,n,s),y:nm(e.y,t,r)}}function rm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function l_(e,t){return{x:rm(e.x,t.x),y:rm(e.y,t.y)}}function c_(e,t){let n=.5;const r=qe(e),s=qe(t);return s>r?n=Ki(t.min,t.max-r,e.min):r>s&&(n=Ki(e.min,e.max-s,t.min)),gn(0,1,n)}function u_(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const zu=.35;function d_(e=zu){return e===!1?e=0:e===!0&&(e=zu),{x:sm(e,"left","right"),y:sm(e,"top","bottom")}}function sm(e,t,n){return{min:im(e,t),max:im(e,n)}}function im(e,t){return typeof e=="number"?e:e[t]||0}const f_=new WeakMap;class h_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uo(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:y}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ST(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kt(b=>{let m=this.getAxisMotionValue(b).get()||0;if(Xt.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[b];v&&(m=qe(v)*(parseFloat(m)/100))}}this.originPoint[b]=m}),y&&pe.postRender(()=>y(u,f)),Uu(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:y,onDrag:w}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=p_(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),w&&w(u,f)},a=(u,f)=>this.stop(u,f),l=()=>kt(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ux(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:cx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&pe.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!zo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=o_(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&cs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=a_(r.layoutBox,t):this.constraints=!1,this.elastic=d_(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&kt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=u_(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!cs(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=n_(r,s.root,this.visualElement.getTransformPagePoint());let o=l_(s.layout.layoutBox,i);if(n){const a=n(G2(o));this.hasMutatedConstraints=!!a,a&&(o=rx(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=kt(u=>{if(!zo(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Uu(this.visualElement,t),r.start(jf(t,r,0,n,this.visualElement,!1))}stopAnimation(){kt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kt(n=>{const{drag:r}=this.getProps();if(!zo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ge(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cs(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};kt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=c_({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kt(o=>{if(!zo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ge(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;f_.set(this.visualElement,this);const t=this.visualElement.current,n=Si(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();cs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),pe.read(r);const o=Qi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kt(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=zu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function zo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function p_(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class m_ extends lr{constructor(t){super(t),this.removeGroupControls=Ct,this.removeListeners=Ct,this.controls=new h_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const om=e=>(t,n)=>{e&&pe.postRender(()=>e(t,n))};class g_ extends lr{constructor(){super(...arguments),this.removePointerDownListener=Ct}onPointerDown(t){this.session=new ux(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:om(t),onStart:om(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&pe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Si(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const aa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function am(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const si={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=am(e,t.target.x),r=am(e,t.target.y);return`${n}% ${r}%`}},y_={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=sr.parse(e);if(s.length>5)return r;const i=sr.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=ge(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class v_ extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;n2(x_),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),aa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||pe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fx(e){const[t,n]=Vv(),r=x.useContext(Wi);return d.jsx(v_,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(Hv),isPresent:t,safeToRemove:n})}const x_={borderRadius:{...si,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:si,borderTopRightRadius:si,borderBottomLeftRadius:si,borderBottomRightRadius:si,boxShadow:y_};function w_(e,t,n){const r=We(e)?e:Ns(e);return r.start(jf("",r,t,n)),r.animation}const S_=(e,t)=>e.depth-t.depth;class k_{constructor(){this.children=[],this.isDirty=!1}add(t){nf(this.children,t),this.isDirty=!0}remove(t){rf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(S_),this.isDirty=!1,this.children.forEach(t)}}function b_(e,t){const n=it.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(rr(r),e(i-t))};return pe.setup(r,!0),()=>rr(r)}const hx=["TopLeft","TopRight","BottomLeft","BottomRight"],T_=hx.length,lm=e=>typeof e=="string"?parseFloat(e):e,cm=e=>typeof e=="number"||$.test(e);function __(e,t,n,r,s,i){s?(e.opacity=ge(0,n.opacity??1,E_(r)),e.opacityExit=ge(t.opacity??1,0,C_(r))):i&&(e.opacity=ge(t.opacity??1,n.opacity??1,r));for(let o=0;o<T_;o++){const a=`border${hx[o]}Radius`;let l=um(t,a),c=um(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||cm(l)===cm(c)?(e[a]=Math.max(ge(lm(l),lm(c),r),0),(Xt.test(c)||Xt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ge(t.rotate||0,n.rotate||0,r))}function um(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const E_=px(0,.5,iv),C_=px(.5,.95,Ct);function px(e,t,n){return r=>r<e?0:r>t?1:n(Ki(e,t,r))}function dm(e,t){e.min=t.min,e.max=t.max}function St(e,t){dm(e.x,t.x),dm(e.y,t.y)}function fm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hm(e,t,n,r,s){return e-=t,e=Fa(e,1/n,r),s!==void 0&&(e=Fa(e,1/s,r)),e}function I_(e,t=0,n=1,r=.5,s,i=e,o=e){if(Xt.test(t)&&(t=parseFloat(t),t=ge(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ge(i.min,i.max,r);e===i&&(a-=t),e.min=hm(e.min,t,n,a,s),e.max=hm(e.max,t,n,a,s)}function pm(e,t,[n,r,s],i,o){I_(e,t[n],t[r],t[s],t.scale,i,o)}const P_=["x","scaleX","originX"],A_=["y","scaleY","originY"];function mm(e,t,n,r){pm(e.x,t,P_,n?n.x:void 0,r?r.x:void 0),pm(e.y,t,A_,n?n.y:void 0,r?r.y:void 0)}function gm(e){return e.translate===0&&e.scale===1}function mx(e){return gm(e.x)&&gm(e.y)}function ym(e,t){return e.min===t.min&&e.max===t.max}function N_(e,t){return ym(e.x,t.x)&&ym(e.y,t.y)}function vm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gx(e,t){return vm(e.x,t.x)&&vm(e.y,t.y)}function xm(e){return qe(e.x)/qe(e.y)}function wm(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class M_{constructor(){this.members=[]}add(t){nf(this.members,t),t.scheduleRender()}remove(t){if(rf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R_(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fc=["","X","Y","Z"],j_={visibility:"hidden"},D_=1e3;let L_=0;function hc(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function yx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Jv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",pe,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&yx(r)}function vx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=L_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(U_),this.nodes.forEach(H_),this.nodes.forEach(W_),this.nodes.forEach(F_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new k_)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new af),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ov(o)&&!CT(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=b_(f,250),aa.hasAnimatedSinceResize&&(aa.hasAnimatedSinceResize=!1,this.nodes.forEach(km))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||X_,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=c.getProps(),m=!this.targetLayout||!gx(this.targetLayout,p),g=!f&&h;if(this.options.layoutRoot||this.resumeFrom||g||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,g);const v={...Sf(y,"layout"),onPlay:w,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else f||km(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K_),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sm);return}this.isUpdating||this.nodes.forEach(B_),this.isUpdating=!1,this.nodes.forEach(z_),this.nodes.forEach(O_),this.nodes.forEach(V_),this.clearAllSnapshots();const a=it.now();Le.delta=gn(0,1e3/60,a-Le.timestamp),Le.timestamp=a,Le.isProcessing=!0,rc.update.process(Le),rc.preRender.process(Le),rc.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($_),this.sharedNodes.forEach(G_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qe(this.snapshot.measuredBox.x)&&!qe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!mx(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||yr(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Z_(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return be();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Q_))){const{scroll:u}=this.root;u&&(ds(a.x,u.offset.x),ds(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=be();if(St(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&St(a,o),ds(a.x,f.offset.x),ds(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=be();St(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&fs(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),yr(u.latestValues)&&fs(l,u.latestValues)}return yr(this.latestValues)&&fs(l,this.latestValues),l}removeTransform(o){const a=be();St(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yr(c.latestValues))continue;$u(c.latestValues)&&c.updateSnapshot();const u=be(),f=c.measurePageBox();St(u,f),mm(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return yr(this.latestValues)&&mm(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),bi(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):St(this.target,this.layout.layoutBox),ax(this.target,this.targetDelta)):St(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),bi(this.relativeTargetOrigin,this.target,p.target),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$u(this.parent.latestValues)||ox(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;St(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;t_(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=be());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fm(this.prevProjectionDelta.x,this.projectionDelta.x),fm(this.prevProjectionDelta.y,this.projectionDelta.y)),ki(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!wm(this.projectionDelta.x,this.prevProjectionDelta.x)||!wm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=us(),this.projectionDelta=us(),this.projectionDeltaWithTransform=us()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=be(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=p!==y,b=this.getStack(),m=!b||b.members.length<=1,g=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(Y_));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const k=S/1e3;bm(f.x,o.x,k),bm(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q_(this.relativeTarget,this.relativeTargetOrigin,h,k),v&&N_(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=be()),St(v,this.relativeTarget)),w&&(this.animationValues=u,__(u,c,this.latestValues,k,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pe.update(()=>{aa.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ns(0)),this.currentAnimation=w_(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D_),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&xx(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||be();const f=qe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=qe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}St(a,l),fs(a,u),ki(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new M_),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&hc("z",o,c,this.animationValues);for(let u=0;u<fc.length;u++)hc(`rotate${fc[u]}`,o,c,this.animationValues),hc(`skew${fc[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return j_;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=oa(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=oa(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yr(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=R_(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Xi){if(u[p]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:b}=Xi[p],m=a.transform==="none"?u[p]:y(u[p],c);if(w){const g=w.length;for(let v=0;v<g;v++)a[w[v]]=m}else b?this.options.visualElement.renderState.vars[p]=m:a[p]=m}return this.options.layoutId&&(a.pointerEvents=c===this?oa(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(Sm),this.root.sharedNodes.clear()}}}function O_(e){e.updateLayout()}function V_(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?kt(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=qe(h);h.min=r[f].min,h.max=h.min+p}):xx(i,t.layoutBox,r)&&kt(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=qe(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const a=us();ki(a,r,t.layoutBox);const l=us();o?ki(l,e.applyTransform(s,!0),t.measuredBox):ki(l,r,t.layoutBox);const c=!mx(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const y=be();bi(y,t.layoutBox,h.layoutBox);const w=be();bi(w,r,p.layoutBox),gx(y,w)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function U_(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function F_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $_(e){e.clearSnapshot()}function Sm(e){e.clearMeasurements()}function B_(e){e.isLayoutDirty=!1}function z_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function km(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function H_(e){e.resolveTargetDelta()}function W_(e){e.calcProjection()}function K_(e){e.resetSkewAndRotation()}function G_(e){e.removeLeadSnapshot()}function bm(e,t,n){e.translate=ge(t.translate,0,n),e.scale=ge(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Tm(e,t,n,r){e.min=ge(t.min,n.min,r),e.max=ge(t.max,n.max,r)}function q_(e,t,n,r){Tm(e.x,t.x,n.x,r),Tm(e.y,t.y,n.y,r)}function Y_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const X_={duration:.45,ease:[.4,0,.1,1]},_m=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Em=_m("applewebkit/")&&!_m("chrome/")?Math.round:Ct;function Cm(e){e.min=Em(e.min),e.max=Em(e.max)}function Z_(e){Cm(e.x),Cm(e.y)}function xx(e,t,n){return e==="position"||e==="preserve-aspect"&&!J2(xm(t),xm(n),.2)}function Q_(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const J_=vx({attachResizeListener:(e,t)=>Qi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pc={current:void 0},wx=vx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pc.current){const e=new J_({});e.mount(window),e.setOptions({layoutScroll:!0}),pc.current=e}return pc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),eE={pan:{Feature:g_},drag:{Feature:m_,ProjectionNode:wx,MeasureLayout:fx}};function Im(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&pe.postRender(()=>i(t,uo(t)))}class tE extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=kT(t,(n,r)=>(Im(this.node,r,"Start"),s=>Im(this.node,s,"End"))))}unmount(){}}class nE extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ao(Qi(this.node.current,"focus",()=>this.onFocus()),Qi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pm(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&pe.postRender(()=>i(t,uo(t)))}class rE extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=ET(t,(n,r)=>(Pm(this.node,r,"Start"),(s,{success:i})=>Pm(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hu=new WeakMap,mc=new WeakMap,sE=e=>{const t=Hu.get(e.target);t&&t(e)},iE=e=>{e.forEach(sE)};function oE({root:e,...t}){const n=e||document;mc.has(n)||mc.set(n,{});const r=mc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(iE,{root:e,...t})),r[s]}function aE(e,t,n){const r=oE(t);return Hu.set(e,n),r.observe(e),()=>{Hu.delete(e),r.unobserve(e)}}const lE={some:0,all:1};class cE extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:lE[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return aE(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(uE(t,n))&&this.startObserver()}unmount(){}}function uE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const dE={inView:{Feature:cE},tap:{Feature:rE},focus:{Feature:nE},hover:{Feature:tE}},fE={layout:{ProjectionNode:wx,MeasureLayout:fx}},Wu={current:null},Sx={current:!1};function hE(){if(Sx.current=!0,!!ef)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wu.current=e.matches;e.addListener(t),t()}else Wu.current=!1}const pE=new WeakMap;function mE(e,t,n){for(const r in t){const s=t[r],i=n[r];if(We(s))e.addValue(r,s);else if(We(i))e.addValue(r,Ns(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ns(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Am=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gE{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=it.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,pe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=ml(n),this.isVariantNode=Bv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&We(p)&&p.set(l[h],!1)}}mount(t){this.current=t,pE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Sx.current||hE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),rr(this.notifyUpdate),rr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=zs.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ms){const n=Ms[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Am.length;r++){const s=Am[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=mE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ns(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Y0(r)||Z0(r))?r=parseFloat(r):!PT(r)&&sr.test(n)&&(r=Mv(t,n)),this.setBaseTarget(t,We(r)?r.get():r)),We(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Mf(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!We(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new af),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class kx extends gE{constructor(){super(...arguments),this.KeyframeResolver=yT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;We(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bx(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}function yE(e){return window.getComputedStyle(e)}class vE extends kx{constructor(){super(...arguments),this.type="html",this.renderInstance=bx}readValueFromInstance(t,n){var r;if(zs.has(n))return(r=this.projection)!=null&&r.isProjecting?Mu(n):Lb(t,n);{const s=yE(t),i=(uf(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return lx(t,n)}build(t,n,r){Pf(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Rf(t,n,r)}}const Tx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xE(e,t,n,r){bx(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Tx.has(s)?s:If(s),t.attrs[s])}class wE extends kx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(zs.has(n)){const r=Nv(n);return r&&r.default||0}return n=Tx.has(n)?n:If(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Qv(t,n,r)}build(t,n,r){qv(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){xE(t,n,r,s)}mount(t){this.isSVGTag=Xv(t.tagName),super.mount(t)}}const SE=(e,t)=>Nf(e)?new wE(t):new vE(t,{allowProjection:e!==x.Fragment}),kE=x2({...W2,...dE,...eE,...fE},SE),Y=HT(kE);function Rs(e,t,n={}){const[r,s]=x.useState(()=>{var i;try{const o=window.localStorage.getItem(e);return o!==null?JSON.parse(o):typeof t=="function"?t():t}catch(o){return console.warn(`useLocalStorage: Error reading key "${e}":`,o),(i=n.onError)==null||i.call(n,"read",o),typeof t=="function"?t():t}});return x.useEffect(()=>{var i;try{const o=JSON.stringify(r);window.localStorage.setItem(e,o)}catch(o){console.warn(`useLocalStorage: Error setting key "${e}":`,o),(i=n.onError)==null||i.call(n,"write",o)}},[e,r,n]),[r,s]}const je=[];for(let e=0;e<256;++e)je.push((e+256).toString(16).slice(1));function bE(e,t=0){return(je[e[t+0]]+je[e[t+1]]+je[e[t+2]]+je[e[t+3]]+"-"+je[e[t+4]]+je[e[t+5]]+"-"+je[e[t+6]]+je[e[t+7]]+"-"+je[e[t+8]]+je[e[t+9]]+"-"+je[e[t+10]]+je[e[t+11]]+je[e[t+12]]+je[e[t+13]]+je[e[t+14]]+je[e[t+15]]).toLowerCase()}let gc;const TE=new Uint8Array(16);function _E(){if(!gc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gc=crypto.getRandomValues.bind(crypto)}return gc(TE)}const EE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Nm={randomUUID:EE};function se(e,t,n){var s;if(Nm.randomUUID&&!t&&!e)return Nm.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??_E();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[n+i]=r[i];return t}return bE(r)}const _x=[{id:"tech",name:"tech",count:0,lastUsed:0},{id:"tattoos",name:"tattoos",count:0,lastUsed:0},{id:"crypto",name:"crypto",count:0,lastUsed:0},{id:"friendly",name:"friendly",count:0,lastUsed:0},{id:"foodie",name:"foodie",count:0,lastUsed:0},{id:"kind",name:"kind",count:0,lastUsed:0},{id:"local",name:"local",count:0,lastUsed:0},{id:"fashion",name:"fashion",count:0,lastUsed:0},{id:"raptors",name:"raptors",count:0,lastUsed:0},{id:"neighbour",name:"neighbour",count:0,lastUsed:0},{id:"marketing",name:"marketing",count:0,lastUsed:0},{id:"networker",name:"networker",count:0,lastUsed:0},{id:"events",name:"events",count:0,lastUsed:0},{id:"chef",name:"chef",count:0,lastUsed:0},{id:"intense",name:"intense",count:0,lastUsed:0},{id:"creative",name:"creative",count:0,lastUsed:0},{id:"design",name:"design",count:0,lastUsed:0},{id:"sketching",name:"sketching",count:0,lastUsed:0},{id:"dj",name:"dj",count:0,lastUsed:0},{id:"music",name:"music",count:0,lastUsed:0},{id:"nightlife",name:"nightlife",count:0,lastUsed:0},{id:"vibes",name:"vibes",count:0,lastUsed:0},{id:"photography",name:"photography",count:0,lastUsed:0},{id:"social",name:"social",count:0,lastUsed:0},{id:"bartender",name:"bartender",count:0,lastUsed:0},{id:"chill",name:"chill",count:0,lastUsed:0},{id:"mezcal",name:"mezcal",count:0,lastUsed:0},{id:"hospitality",name:"hospitality",count:0,lastUsed:0},{id:"law",name:"law",count:0,lastUsed:0},{id:"debate",name:"debate",count:0,lastUsed:0},{id:"ai",name:"ai",count:0,lastUsed:0},{id:"smart",name:"smart",count:0,lastUsed:0},{id:"energetic",name:"energetic",count:0,lastUsed:0},{id:"fast",name:"fast",count:0,lastUsed:0},{id:"confident",name:"confident",count:0,lastUsed:0},{id:"funny",name:"funny",count:0,lastUsed:0},{id:"health",name:"health",count:0,lastUsed:0},{id:"calm",name:"calm",count:0,lastUsed:0}],we=[{id:se(),name:"Bar Raval",locationTag:"Little Italy  Toronto, ON",coords:{lat:43.6557,lon:-79.4111},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"The Drake Hotel",locationTag:"Queen West  Toronto, ON",coords:{lat:43.6424,lon:-79.4254},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"Mother Tongue",locationTag:"Entertainment District  Toronto, ON",coords:{lat:43.6479,lon:-79.3947},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"The Broadview Rooftop",locationTag:"Riverside  Toronto, ON",coords:{lat:43.6593,lon:-79.3511},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"Stackt Market Pavilion",locationTag:"Bathurst & Front  Toronto, ON",coords:{lat:43.6419,lon:-79.4036},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"Hemingway's",locationTag:"Yorkville  Toronto, ON",coords:{lat:43.671,lon:-79.3932},favorite:!1,proximityAlertsEnabled:!0}],Ex=[{id:se(),name:"Grant Bass",position:"Software Engineer",description:"Met after a React meetup spillover at Bar Ravalsmart, energetic.",venueId:we[0].id,dateMet:"2025-05-03T21:30:00.000Z",createdAt:"2025-05-03T21:30:00.000Z",tags:["tech","smart","energetic"]},{id:se(),name:"Sarah Mitchell",position:"Nurse",description:"Friendly and kindgrabbed mocktails at The Drake Hotel lobby bar.",venueId:we[1].id,dateMet:"2025-05-04T20:15:00.000Z",createdAt:"2025-05-04T20:15:00.000Z",tags:["friendly","kind","local"]},{id:se(),name:"Alex Wong",position:"Software Engineer",description:"Into crypto and blockchainloves Mother Tongues late-night vibe.",venueId:we[2].id,dateMet:"2025-04-25T23:00:00.000Z",createdAt:"2025-04-25T23:00:00.000Z",tags:["crypto","tech","creative"]},{id:se(),name:"Sophie Turner",position:"Marketing Coordinator",description:"Always networkingco-hosted a pop-up at Stackt Market.",venueId:we[4].id,dateMet:"2025-05-07T20:00:00.000Z",createdAt:"2025-05-07T20:00:00.000Z",tags:["marketing","networker","events"]},{id:se(),name:"Marcus James",position:"Chef",description:"Creative chef who moonlights at Mother Tongues test kitchen.",venueId:we[2].id,dateMet:"2025-05-09T18:45:00.000Z",createdAt:"2025-05-09T18:45:00.000Z",tags:["chef","intense","foodie"]},{id:se(),name:"Ella Chen",position:"UX Designer",description:"Sketches rooftop concepts over espresso at The Broadview.",venueId:we[3].id,dateMet:"2025-04-30T19:20:00.000Z",createdAt:"2025-04-30T19:20:00.000Z",tags:["design","sketching","creative"]},{id:se(),name:"Tyrese Cole",position:"DJ",description:"Spins vinyl for Drake Hotel lobby sets and loves the sound system.",venueId:we[1].id,dateMet:"2025-05-12T01:00:00.000Z",createdAt:"2025-05-12T01:00:00.000Z",tags:["dj","music","nightlife"]},{id:se(),name:"Dani Romero",position:"Photographer",description:"Shoots candid portraits around Stackts container alleys.",venueId:we[4].id,dateMet:"2025-05-12T23:30:00.000Z",createdAt:"2025-05-12T23:30:00.000Z",tags:["photography","social","creative"]},{id:se(),name:"Jamal Peterson",position:"Bartender",description:"Chill bartender mixing mezcal cocktails at Hemingway's patio.",venueId:we[5].id,dateMet:"2025-05-14T00:30:00.000Z",createdAt:"2025-05-14T00:30:00.000Z",tags:["bartender","chill","mezcal"]},{id:se(),name:"Ava Nguyen",position:"Law Student",description:"Debated AI ethics over tapas at Bar Raval.",venueId:we[0].id,dateMet:"2025-05-15T21:00:00.000Z",createdAt:"2025-05-15T21:00:00.000Z",tags:["law","debate","ai"]},{id:se(),name:"Julian Reyes",position:"Barback",description:"Fast and efficientkeeps the Drake Hotel bar humming.",venueId:we[1].id,dateMet:"2025-04-22T22:00:00.000Z",createdAt:"2025-04-22T22:00:00.000Z",tags:["hospitality","fast","energetic"]},{id:se(),name:"Nina Keller",position:"Marketing Coordinator",description:"Organizes top-tier launches at Stackt Market.",venueId:we[4].id,dateMet:"2025-05-08T18:30:00.000Z",createdAt:"2025-05-08T18:30:00.000Z",tags:["events","marketing","networker"]},{id:se(),name:"Omar Williams",position:"Chef",description:"Trendy food truck guru now staging at Mother Tongue.",venueId:we[2].id,dateMet:"2025-05-11T17:00:00.000Z",createdAt:"2025-05-11T17:00:00.000Z",tags:["chef","foodie","creative"]},{id:se(),name:"Tasha Green",position:"Photographer",description:"Retro-style film photographer obsessed with Broadview sunsets.",venueId:we[3].id,dateMet:"2025-05-13T19:30:00.000Z",createdAt:"2025-05-13T19:30:00.000Z",tags:["photography","vibes","artistic"]},{id:se(),name:"David Lee",position:"Software Engineer",description:"Connects devs to meetupsalways posts up at Bar Ravals windows.",venueId:we[0].id,dateMet:"2025-05-06T19:00:00.000Z",createdAt:"2025-05-06T19:00:00.000Z",tags:["tech","networker","friendly"]},{id:se(),name:"Lena Tran",position:"UX Designer",description:"Detail-oriented designer who sketches at Drakes cafe tables.",venueId:we[1].id,dateMet:"2025-05-10T18:00:00.000Z",createdAt:"2025-05-10T18:00:00.000Z",tags:["design","kind","creative"]},{id:se(),name:"Chris McMillan",position:"DJ",description:"Deep house specialist booked for Hemingway's late sets.",venueId:we[5].id,dateMet:"2025-05-04T20:30:00.000Z",createdAt:"2025-05-04T20:30:00.000Z",tags:["music","nightlife","vibes"]},{id:se(),name:"Rhea Palmer",position:"Law Student",description:"AI ethics debate champ who favors Broadview rooftop meetups.",venueId:we[3].id,dateMet:"2025-05-15T21:15:00.000Z",createdAt:"2025-05-15T21:15:00.000Z",tags:["law","debate","ai"]},{id:se(),name:"Tony Delvecchio",position:"Bartender",description:"Resident jokester slinging mezcal at Hemingway's hidden bar.",venueId:we[5].id,dateMet:"2025-05-02T20:45:00.000Z",createdAt:"2025-05-02T20:45:00.000Z",tags:["bartender","funny","mezcal"]},{id:se(),name:"Zo Kim",position:"Nurse",description:"Calm under pressurecelebrated at The Drake after night shift.",venueId:we[1].id,dateMet:"2025-05-04T21:00:00.000Z",createdAt:"2025-05-04T21:00:00.000Z",tags:["health","calm","kind"]}],Cx=x.createContext(void 0),CE=({children:e,duration:t=3e3})=>{const[n,r]=Rs("remember-me-notifications",[]),[s,i]=x.useState([]),o=x.useCallback((u,f="success",h)=>{const p={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random()}`,message:u,type:f,timestamp:new Date().toISOString(),read:!1,meta:h};r(y=>[p,...y].slice(0,25)),i(y=>[...y,p].slice(-2)),setTimeout(()=>{i(y=>y.filter(w=>w.id!==p.id))},t)},[t,r]),a=x.useCallback(u=>{i(f=>f.filter(h=>h.id!==u))},[]),l=x.useCallback(u=>{r(f=>f.map(h=>h.id===u?{...h,read:!0}:h))},[r]),c=x.useCallback(()=>{r(u=>u.map(f=>f.read?f:{...f,read:!0}))},[r]);return x.useEffect(()=>()=>{i([])},[]),d.jsx(Cx.Provider,{value:{toasts:s,showNotification:o,dismissToast:a,notifications:n,markAsRead:l,markAllAsRead:c},children:e})},Hs=()=>{const e=x.useContext(Cx);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e};/*! Capacitor: https://capacitorjs.com/ - MIT License */var js;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(js||(js={}));class yc extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const IE=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},PE=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:IE(e),i=()=>s()!=="web",o=f=>{const h=c.get(f);return!!(h!=null&&h.platforms.has(s())||a(f))},a=f=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===f)},l=f=>e.console.error(f),c=new Map,u=(f,h={})=>{const p=c.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const y=s(),w=a(f);let b;const m=async()=>(!b&&y in h?b=typeof h[y]=="function"?b=await h[y]():b=h[y]:t!==null&&!b&&"web"in h&&(b=typeof h.web=="function"?b=await h.web():b=h.web),b),g=(T,E)=>{var I,V;if(w){const ne=w==null?void 0:w.methods.find(le=>E===le.name);if(ne)return ne.rtype==="promise"?le=>n.nativePromise(f,E.toString(),le):(le,Ie)=>n.nativeCallback(f,E.toString(),le,Ie);if(T)return(I=T[E])===null||I===void 0?void 0:I.bind(T)}else{if(T)return(V=T[E])===null||V===void 0?void 0:V.bind(T);throw new yc(`"${f}" plugin is not implemented on ${y}`,js.Unimplemented)}},v=T=>{let E;const I=(...V)=>{const ne=m().then(le=>{const Ie=g(le,T);if(Ie){const _e=Ie(...V);return E=_e==null?void 0:_e.remove,_e}else throw new yc(`"${f}.${T}()" is not implemented on ${y}`,js.Unimplemented)});return T==="addListener"&&(ne.remove=async()=>E()),ne};return I.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(I,"name",{value:T,writable:!1,configurable:!1}),I},S=v("addListener"),k=v("removeListener"),_=(T,E)=>{const I=S({eventName:T},E),V=async()=>{const le=await I;k({eventName:T,callbackId:le},E)},ne=new Promise(le=>I.then(()=>le({remove:V})));return ne.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},ne},C=new Proxy({},{get(T,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?_:S;case"removeListener":return k;default:return v(E)}}});return r[f]=C,c.set(f,{name:f,proxy:C,platforms:new Set([...Object.keys(h),...w?[y]:[]])}),C};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=s,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=u,n.Exception=yc,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},AE=e=>e.Capacitor=PE(e),ht=AE(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Tn=ht.registerPlugin;class fo{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new ht.Exception(t,js.Unimplemented)}unavailable(t="not available"){return new ht.Exception(t,js.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const Mm=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Rm=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class NE extends fo{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Rm(s).trim(),i=Rm(i).trim(),n[s]=i}),n}async setCookie(t){try{const n=Mm(t.key),r=Mm(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Tn("CapacitorCookies",{web:()=>new NE});const ME=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),RE=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=e[t[o]],s),{})},jE=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=t?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=t?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,DE=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=RE(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(e.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(e.data))i.append(a,e.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class LE extends fo{async request(t){const n=DE(t,t.webFetchExtra),r=jE(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?t:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await ME(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const u={};return i.headers.forEach((f,h)=>{u[h]=f}),{data:l,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Tn("CapacitorHttp",{web:()=>new LE});var jm;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(jm||(jm={}));var Dm;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(Dm||(Dm={}));class OE extends fo{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Tn("SystemBars",{web:()=>new OE});const VE="modulepreload",UE=function(e){return"/"+e},Lm={},gl=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=UE(i),i in Lm)return;Lm[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":VE,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Om;(function(e){e.AdPersonalization="AD_PERSONALIZATION",e.AdStorage="AD_STORAGE",e.AdUserData="AD_USER_DATA",e.AnalyticsStorage="ANALYTICS_STORAGE",e.FunctionalityStorage="FUNCTIONALITY_STORAGE",e.PersonalizationStorage="PERSONALIZATION_STORAGE"})(Om||(Om={}));var Vm;(function(e){e.Granted="GRANTED",e.Denied="DENIED"})(Vm||(Vm={}));const FE=Tn("FirebaseAnalytics",{web:()=>gl(()=>import("./web-32b06031.js"),[]).then(e=>new e.FirebaseAnalyticsWeb)}),$E=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},BE=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ix(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):BE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new zE;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HE=function(e){const t=Ix(e);return Px.encodeByteArray(t,!0)},Ax=function(e){return HE(e).replace(/\./g,"")},Nx=function(e){try{return Px.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=()=>WE().__FIREBASE_DEFAULTS__,GE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Nx(e[1]);return t&&JSON.parse(t)},Df=()=>{try{return $E()||KE()||GE()||qE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},YE=e=>{var t,n;return(n=(t=Df())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Mx=()=>{var e;return(e=Df())==null?void 0:e.config},Rx=e=>{var t;return(t=Df())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZE(e){return(await fetch(e,{credentials:"include"})).ok}const Ti={};function QE(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ti))Ti[t]?e.emulator.push(t):e.prod.push(t);return e}function JE(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Um=!1;function eC(e,t){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Ti[e]===t||Ti[e]||Um)return;Ti[e]=t;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=QE().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Um=!0,o()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=JE(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),m=n("preprendIcon"),g=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const v=h.element;a(v),u(b,w);const S=c();l(g,m),v.append(g,y,b,S),document.body.appendChild(v)}i?(y.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function nC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lf(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function rC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sC(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Of(){try{return typeof indexedDB=="object"}catch{return!1}}function Vf(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(n){t(n)}})}function jx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="FirebaseError";class tn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=iC,Object.setPrototypeOf(this,tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?oC(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new tn(s,a,r)}}function oC(e,t){return e.replace(aC,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const aC=/\{\$([^}]+)}/g;function lC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Or(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Fm(i)&&Fm(o)){if(!Or(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Fm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function cC(e,t){const n=new uC(e,t);return n.subscribe.bind(n)}class uC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dC(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=vc),s.error===void 0&&(s.error=vc),s.complete===void 0&&(s.complete=vc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dC(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function vc(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1e3,hC=2,pC=4*60*60*1e3,mC=.5;function $m(e,t=fC,n=hC){const r=t*Math.pow(n,e),s=Math.round(mC*r*(Math.random()-.5)*2);return Math.min(pC,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e){return e&&e._delegate?e._delegate:e}class en{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new XE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vC(t))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vr){return this.instances.has(t)}getOptions(t=vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yC(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=vr){return this.component?this.component.multipleInstances?t:vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yC(e){return e===vr?void 0:e}function vC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new gC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ae||(ae={}));const wC={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},SC=ae.INFO,kC={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},bC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=kC[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uf{constructor(t){this.name=t,this._logLevel=SC,this._logHandler=bC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const TC=(e,t)=>t.some(n=>e instanceof n);let Bm,zm;function _C(){return Bm||(Bm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EC(){return zm||(zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dx=new WeakMap,Ku=new WeakMap,Lx=new WeakMap,xc=new WeakMap,Ff=new WeakMap;function CC(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(Qn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Dx.set(n,e)}).catch(()=>{}),Ff.set(t,e),t}function IC(e){if(Ku.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ku.set(e,t)}let Gu={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ku.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Lx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function PC(e){Gu=e(Gu)}function AC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(wc(this),t,...n);return Lx.set(r,t.sort?t.sort():[t]),Qn(r)}:EC().includes(e)?function(...t){return e.apply(wc(this),t),Qn(Dx.get(this))}:function(...t){return Qn(e.apply(wc(this),t))}}function NC(e){return typeof e=="function"?AC(e):(e instanceof IDBTransaction&&IC(e),TC(e,_C())?new Proxy(e,Gu):e)}function Qn(e){if(e instanceof IDBRequest)return CC(e);if(xc.has(e))return xc.get(e);const t=NC(e);return t!==e&&(xc.set(e,t),Ff.set(t,e)),t}const wc=e=>Ff.get(e);function Ox(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=Qn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qn(o.result),l.oldVersion,l.newVersion,Qn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const MC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],Sc=new Map;function Hm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Sc.get(t))return Sc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=RC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||MC.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Sc.set(t,i),i}PC(e=>({...e,get:(t,n,r)=>Hm(t,n)||e.get(t,n,r),has:(t,n)=>!!Hm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qu="@firebase/app",Wm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new Uf("@firebase/app"),LC="@firebase/app-compat",OC="@firebase/analytics-compat",VC="@firebase/analytics",UC="@firebase/app-check-compat",FC="@firebase/app-check",$C="@firebase/auth",BC="@firebase/auth-compat",zC="@firebase/database",HC="@firebase/data-connect",WC="@firebase/database-compat",KC="@firebase/functions",GC="@firebase/functions-compat",qC="@firebase/installations",YC="@firebase/installations-compat",XC="@firebase/messaging",ZC="@firebase/messaging-compat",QC="@firebase/performance",JC="@firebase/performance-compat",eI="@firebase/remote-config",tI="@firebase/remote-config-compat",nI="@firebase/storage",rI="@firebase/storage-compat",sI="@firebase/firestore",iI="@firebase/ai",oI="@firebase/firestore-compat",aI="firebase",lI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="[DEFAULT]",cI={[qu]:"fire-core",[LC]:"fire-core-compat",[VC]:"fire-analytics",[OC]:"fire-analytics-compat",[FC]:"fire-app-check",[UC]:"fire-app-check-compat",[$C]:"fire-auth",[BC]:"fire-auth-compat",[zC]:"fire-rtdb",[HC]:"fire-data-connect",[WC]:"fire-rtdb-compat",[KC]:"fire-fn",[GC]:"fire-fn-compat",[qC]:"fire-iid",[YC]:"fire-iid-compat",[XC]:"fire-fcm",[ZC]:"fire-fcm-compat",[QC]:"fire-perf",[JC]:"fire-perf-compat",[eI]:"fire-rc",[tI]:"fire-rc-compat",[nI]:"fire-gcs",[rI]:"fire-gcs-compat",[sI]:"fire-fst",[oI]:"fire-fst-compat",[iI]:"fire-vertex","fire-js":"fire-js",[aI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Map,uI=new Map,Xu=new Map;function Km(e,t){try{e.container.addComponent(t)}catch(n){xn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wn(e){const t=e.name;if(Xu.has(t))return xn.debug(`There were multiple attempts to register component ${t}.`),!1;Xu.set(t,e);for(const n of $a.values())Km(n,e);for(const n of uI.values())Km(n,e);return!0}function Ws(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new zr("app","Firebase",dI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=lI;function Vx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Yu,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw Jn.create("bad-app-name",{appName:String(s)});if(n||(n=Mx()),!n)throw Jn.create("no-options");const i=$a.get(s);if(i){if(Or(n,i.options)&&Or(r,i.config))return i;throw Jn.create("duplicate-app",{appName:s})}const o=new xC(s);for(const l of Xu.values())o.addComponent(l);const a=new fI(n,r,o);return $a.set(s,a),a}function Ux(e=Yu){const t=$a.get(e);if(!t&&e===Yu&&Mx())return Vx();if(!t)throw Jn.create("no-app",{appName:e});return t}function Zt(e,t,n){let r=cI[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xn.warn(o.join(" "));return}wn(new en(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebase-heartbeat-database",pI=1,Ji="firebase-heartbeat-store";let kc=null;function Fx(){return kc||(kc=Ox(hI,pI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ji)}catch(n){console.warn(n)}}}}).catch(e=>{throw Jn.create("idb-open",{originalErrorMessage:e.message})})),kc}async function mI(e){try{const n=(await Fx()).transaction(Ji),r=await n.objectStore(Ji).get($x(e));return await n.done,r}catch(t){if(t instanceof tn)xn.warn(t.message);else{const n=Jn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xn.warn(n.message)}}}async function Gm(e,t){try{const r=(await Fx()).transaction(Ji,"readwrite");await r.objectStore(Ji).put(t,$x(e)),await r.done}catch(n){if(n instanceof tn)xn.warn(n.message);else{const r=Jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xn.warn(r.message)}}}function $x(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=30;class vI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qm();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>yI){const o=SI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qm(),{heartbeatsToSend:r,unsentEntries:s}=xI(this._heartbeatsCache.heartbeats),i=Ax(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return xn.warn(n),""}}}function qm(){return new Date().toISOString().substring(0,10)}function xI(e,t=gI){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ym(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ym(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Of()?Vf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gm(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ym(e){return Ax(JSON.stringify({version:2,heartbeats:e})).length}function SI(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e){wn(new en("platform-logger",t=>new jC(t),"PRIVATE")),wn(new en("heartbeat",t=>new vI(t),"PRIVATE")),Zt(qu,Wm,e),Zt(qu,Wm,"esm2020"),Zt("fire-js","")}kI("");const Bx="@firebase/installations",$f="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1e4,Hx=`w:${$f}`,Wx="FIS_v2",bI="https://firebaseinstallations.googleapis.com/v1",TI=60*60*1e3,_I="installations",EI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vr=new zr(_I,EI,CI);function Kx(e){return e instanceof tn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx({projectId:e}){return`${bI}/projects/${e}/installations`}function qx(e){return{token:e.token,requestStatus:2,expiresIn:PI(e.expiresIn),creationTime:Date.now()}}async function Yx(e,t){const r=(await t.json()).error;return Vr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Xx({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function II(e,{refreshToken:t}){const n=Xx(e);return n.append("Authorization",AI(t)),n}async function Zx(e){const t=await e();return t.status>=500&&t.status<600?e():t}function PI(e){return Number(e.replace("s","000"))}function AI(e){return`${Wx} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Gx(e),s=Xx(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Wx,appId:e.appId,sdkVersion:Hx},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Zx(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:qx(c.authToken)}}else throw await Yx("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=/^[cdef][\w-]{21}$/,Zu="";function jI(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=DI(e);return RI.test(n)?n:Zu}catch{return Zu}}function DI(e){return MI(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new Map;function e1(e,t){const n=vl(e);t1(n,t),LI(n,t)}function t1(e,t){const n=Jx.get(e);if(n)for(const r of n)r(t)}function LI(e,t){const n=OI();n&&n.postMessage({key:e,fid:t}),VI()}let Tr=null;function OI(){return!Tr&&"BroadcastChannel"in self&&(Tr=new BroadcastChannel("[Firebase] FID Change"),Tr.onmessage=e=>{t1(e.data.key,e.data.fid)}),Tr}function VI(){Jx.size===0&&Tr&&(Tr.close(),Tr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="firebase-installations-database",FI=1,Ur="firebase-installations-store";let bc=null;function Bf(){return bc||(bc=Ox(UI,FI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ur)}}})),bc}async function Ba(e,t){const n=vl(e),s=(await Bf()).transaction(Ur,"readwrite"),i=s.objectStore(Ur),o=await i.get(n);return await i.put(t,n),await s.done,(!o||o.fid!==t.fid)&&e1(e,t.fid),t}async function n1(e){const t=vl(e),r=(await Bf()).transaction(Ur,"readwrite");await r.objectStore(Ur).delete(t),await r.done}async function xl(e,t){const n=vl(e),s=(await Bf()).transaction(Ur,"readwrite"),i=s.objectStore(Ur),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&e1(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(e){let t;const n=await xl(e.appConfig,r=>{const s=$I(r),i=BI(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===Zu?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function $I(e){const t=e||{fid:jI(),registrationStatus:0};return r1(t)}function BI(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Vr.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=zI(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:HI(e)}:{installationEntry:t}}async function zI(e,t){try{const n=await NI(e,t);return Ba(e.appConfig,n)}catch(n){throw Kx(n)&&n.customData.serverCode===409?await n1(e.appConfig):await Ba(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function HI(e){let t=await Xm(e.appConfig);for(;t.registrationStatus===1;)await Qx(100),t=await Xm(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await zf(e);return r||n}return t}function Xm(e){return xl(e,t=>{if(!t)throw Vr.create("installation-not-found");return r1(t)})}function r1(e){return WI(e)?{fid:e.fid,registrationStatus:0}:e}function WI(e){return e.registrationStatus===1&&e.registrationTime+zx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI({appConfig:e,heartbeatServiceProvider:t},n){const r=GI(e,n),s=II(e,n),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Hx,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Zx(()=>fetch(r,a));if(l.ok){const c=await l.json();return qx(c)}else throw await Yx("Generate Auth Token",l)}function GI(e,{fid:t}){return`${Gx(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(e,t=!1){let n;const r=await xl(e.appConfig,i=>{if(!s1(i))throw Vr.create("not-registered");const o=i.authToken;if(!t&&XI(o))return i;if(o.requestStatus===1)return n=qI(e,t),i;{if(!navigator.onLine)throw Vr.create("app-offline");const a=QI(i);return n=YI(e,a),a}});return n?await n:r.authToken}async function qI(e,t){let n=await Zm(e.appConfig);for(;n.authToken.requestStatus===1;)await Qx(100),n=await Zm(e.appConfig);const r=n.authToken;return r.requestStatus===0?Hf(e,t):r}function Zm(e){return xl(e,t=>{if(!s1(t))throw Vr.create("not-registered");const n=t.authToken;return JI(n)?{...t,authToken:{requestStatus:0}}:t})}async function YI(e,t){try{const n=await KI(e,t),r={...t,authToken:n};return await Ba(e.appConfig,r),n}catch(n){if(Kx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await n1(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Ba(e.appConfig,r)}throw n}}function s1(e){return e!==void 0&&e.registrationStatus===2}function XI(e){return e.requestStatus===2&&!ZI(e)}function ZI(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+TI}function QI(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function JI(e){return e.requestStatus===1&&e.requestTime+zx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(e){const t=e,{installationEntry:n,registrationPromise:r}=await zf(t);return r?r.catch(console.error):Hf(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(e,t=!1){const n=e;return await nP(n),(await Hf(n,t)).token}async function nP(e){const{registrationPromise:t}=await zf(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(e){if(!e||!e.options)throw Tc("App Configuration");if(!e.name)throw Tc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Tc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Tc(e){return Vr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="installations",sP="installations-internal",iP=e=>{const t=e.getProvider("app").getImmediate(),n=rP(t),r=Ws(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oP=e=>{const t=e.getProvider("app").getImmediate(),n=Ws(t,i1).getImmediate();return{getId:()=>eP(n),getToken:s=>tP(n,s)}};function aP(){wn(new en(i1,iP,"PUBLIC")),wn(new en(sP,oP,"PRIVATE"))}aP();Zt(Bx,$f);Zt(Bx,$f,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="analytics",lP="firebase_id",cP="origin",uP=60*1e3,dP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=new Uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gt=new zr("analytics","Analytics",fP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(e){if(!e.startsWith(Wf)){const t=gt.create("invalid-gtag-resource",{gtagURL:e});return Ve.warn(t.message),""}return e}function o1(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function pP(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function mP(e,t){const n=pP("firebase-js-sdk-policy",{createScriptURL:hP}),r=document.createElement("script"),s=`${Wf}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function gP(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function yP(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const l=(await o1(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){Ve.error(a)}e("config",s,i)}async function vP(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await o1(n);for(const l of o){const c=a.find(f=>f.measurementId===l),u=c&&t[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Ve.error(i)}}function xP(e,t,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await vP(e,t,n,a,l)}else if(i==="config"){const[a,l]=o;await yP(e,t,n,r,a,l)}else if(i==="consent"){const[a,l]=o;e("consent",a,l)}else if(i==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){Ve.error(a)}}return s}function wP(e,t,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=xP(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}function SP(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Wf)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=30,bP=1e3;class TP{constructor(t={},n=bP){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const a1=new TP;function _P(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function EP(e){var o;const{appId:t,apiKey:n}=e,r={method:"GET",headers:_P(n)},s=dP.replace("{app-id}",t),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw gt.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function CP(e,t=a1,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw gt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw gt.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new AP;return setTimeout(async()=>{a.abort()},n!==void 0?n:uP),l1({appId:r,apiKey:s,measurementId:i},o,a,t)}async function l1(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=a1){var a;const{appId:i,measurementId:o}=e;try{await IP(r,t)}catch(l){if(o)return Ve.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await EP(e);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!PP(c)){if(s.deleteThrottleMetadata(i),o)return Ve.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const u=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?$m(n,s.intervalMillis,kP):$m(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(i,f),Ve.debug(`Calling attemptFetch again in ${u} millis`),l1(e,f,r,s)}}function IP(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(gt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function PP(e){if(!(e instanceof tn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class AP{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function NP(e,t,n,r,s){if(s&&s.global){e("event",n,r);return}else{const i=await t,o={...r,send_to:i};e("event",n,o)}}async function MP(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();{const s=await t;e("config",s,{update:!0,user_id:n})}}async function RP(e,t,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return e("set",s),Promise.resolve()}else{const s=await t;e("config",s,{update:!0,user_properties:n})}}async function jP(e,t){const n=await e;window[`ga-disable-${n}`]=!t}let Qu;function c1(e){Qu=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(){if(Of())try{await Vf()}catch(e){return Ve.warn(gt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ve.warn(gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function LP(e,t,n,r,s,i,o){const a=CP(e);a.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Ve.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Ve.error(h)),t.push(a);const l=DP().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([a,l]);SP(i)||mP(i,c.measurementId),Qu&&(s("consent","default",Qu),c1(void 0)),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[cP]="firebase",f.update=!0,u!=null&&(f[lP]=u),s("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(t){this.app=t}_delete(){return delete er[this.app.options.appId],Promise.resolve()}}let er={},Qm=[];const Jm={};let _c="dataLayer",VP="gtag",eg,Ds,tg=!1;function UP(){const e=[];if(Lf()&&e.push("This is a browser extension environment."),jx()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=gt.create("invalid-analytics-context",{errorInfo:t});Ve.warn(n.message)}}function FP(e,t,n){UP();const r=e.options.appId;if(!r)throw gt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ve.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gt.create("no-api-key");if(er[r]!=null)throw gt.create("already-exists",{id:r});if(!tg){gP(_c);const{wrappedGtag:i,gtagCore:o}=wP(er,Qm,Jm,_c,VP);Ds=i,eg=o,tg=!0}return er[r]=LP(e,Qm,Jm,t,eg,_c,n),new OP(e)}function u1(e=Ux()){e=Ft(e);const t=Ws(e,za);return t.isInitialized()?t.getImmediate():$P(e)}function $P(e,t={}){const n=Ws(e,za);if(n.isInitialized()){const s=n.getImmediate();if(Or(t,n.getOptions()))return s;throw gt.create("already-initialized")}return n.initialize({options:t})}async function BP(){if(Lf()||!jx()||!Of())return!1;try{return await Vf()}catch{return!1}}function Tj(e,t,n){e=Ft(e),MP(Ds,er[e.app.options.appId],t,n).catch(r=>Ve.error(r))}function zP(e,t,n){e=Ft(e),RP(Ds,er[e.app.options.appId],t,n).catch(r=>Ve.error(r))}function _j(e,t){e=Ft(e),jP(er[e.app.options.appId],t).catch(n=>Ve.error(n))}function Kf(e,t,n,r){e=Ft(e),NP(Ds,er[e.app.options.appId],t,n,r).catch(s=>Ve.error(s))}function Ej(e){Ds?Ds("consent","update",e):c1(e)}const ng="@firebase/analytics",rg="0.10.19";function HP(){wn(new en(za,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return FP(r,s,n)},"PUBLIC")),wn(new en("analytics-internal",e,"PRIVATE")),Zt(ng,rg),Zt(ng,rg,"esm2020");function e(t){try{const n=t.getProvider(za).getImmediate();return{logEvent:(r,s,i)=>Kf(n,r,s,i),setUserProperties:(r,s)=>zP(n,r,s)}}catch(n){throw gt.create("interop-component-reg-failed",{reason:n})}}}HP();var WP="firebase",KP="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt(WP,KP,"app");function d1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GP=d1,f1=new zr("auth","Firebase",d1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Uf("@firebase/auth");function qP(e,...t){Ha.logLevel<=ae.WARN&&Ha.warn(`Auth (${po}): ${e}`,...t)}function la(e,...t){Ha.logLevel<=ae.ERROR&&Ha.error(`Auth (${po}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(e,...t){throw Gf(e,...t)}function Qt(e,...t){return Gf(e,...t)}function h1(e,t,n){const r={...GP(),[t]:n};return new zr("auth","Firebase",r).create(t,{appName:e.name})}function Pr(e){return h1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gf(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return f1.create(e,...t)}function B(e,t,...n){if(!e)throw Gf(t,...n)}function ln(e){const t="INTERNAL ASSERTION FAILED: "+e;throw la(t),new Error(t)}function kn(e,t){e||ln(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function YP(){return sg()==="http:"||sg()==="https:"}function sg(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YP()||Lf()||"connection"in navigator)?navigator.onLine:!0}function ZP(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n){this.shortDelay=t,this.longDelay=n,kn(n>t,"Short delay should be less than long delay!"),this.isMobile=tC()||rC()}get(){return XP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(e,t){kn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eA=new mo(3e4,6e4);function Yf(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ks(e,t,n,r,s={}){return m1(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=ho({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...i};return nC()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&yl(e.emulatorConfig.host)&&(c.credentials="include"),p1.fetch()(await g1(e,e.config.apiHost,n,a),c)})}async function m1(e,t,n){e._canInitEmulator=!1;const r={...QP,...t};try{const s=new nA(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ho(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ho(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ho(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ho(e,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw h1(e,u,c);Sn(e,u)}}catch(s){if(s instanceof tn)throw s;Sn(e,"network-request-failed",{message:String(s)})}}async function tA(e,t,n,r,s={}){const i=await Ks(e,t,n,r,s);return"mfaPendingCredential"in i&&Sn(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function g1(e,t,n,r){const s=`${t}${n}?${r}`,i=e,o=i.config.emulator?qf(e.config,s):`${e.config.apiScheme}://${s}`;return JP.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class nA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qt(this.auth,"network-request-failed")),eA.get())})}}function Ho(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qt(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(e,t){return Ks(e,"POST","/v1/accounts:delete",t)}async function Wa(e,t){return Ks(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sA(e,t=!1){const n=Ft(e),r=await n.getIdToken(t),s=Xf(r);B(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_i(Ec(s.auth_time)),issuedAtTime:_i(Ec(s.iat)),expirationTime:_i(Ec(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ec(e){return Number(e)*1e3}function Xf(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return la("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nx(n);return s?JSON.parse(s):(la("Failed to decode base64 JWT payload"),null)}catch(s){return la("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ig(e){const t=Xf(e);return B(t,"internal-error"),B(typeof t.exp<"u","internal-error"),B(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof tn&&iA(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function iA({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(e){var f;const t=e.auth,n=await e.getIdToken(),r=await eo(e,Wa(t,{idToken:n}));B(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?y1(s.providerUserInfo):[],o=lA(e.providerData,i),a=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ed(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function aA(e){const t=Ft(e);await Ka(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lA(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function y1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(e,t){const n=await m1(e,{},async()=>{const r=ho({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=await g1(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&yl(e.emulatorConfig.host)&&(l.credentials="include"),p1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uA(e,t){return Ks(e,"POST","/v2/accounts:revokeToken",Yf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){B(t.idToken,"internal-error"),B(typeof t.idToken<"u","internal-error"),B(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ig(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){B(t.length!==0,"internal-error");const n=ig(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(B(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await cA(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ss;return r&&(B(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(B(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(B(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ss,this.toJSON())}_performRefresh(){return ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(e,t){B(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Lt{constructor({uid:t,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new oA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ed(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await eo(this,this.stsTokenManager.getToken(this.auth,t));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return sA(this,t)}reload(){return aA(this)}_assign(t){this!==t&&(B(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Lt({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ka(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(Pr(this.auth));const t=await this.getIdToken();return await eo(this,rA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:y,stsTokenManager:w}=n;B(f&&w,t,"internal-error");const b=Ss.fromJSON(this.name,w);B(typeof f=="string",t,"internal-error"),An(r,t.name),An(s,t.name),B(typeof h=="boolean",t,"internal-error"),B(typeof p=="boolean",t,"internal-error"),An(i,t.name),An(o,t.name),An(a,t.name),An(l,t.name),An(c,t.name),An(u,t.name);const m=new Lt({uid:f,auth:t,email:s,emailVerified:h,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:u});return y&&Array.isArray(y)&&(m.providerData=y.map(g=>({...g}))),l&&(m._redirectEventId=l),m}static async _fromIdTokenResponse(t,n,r=!1){const s=new Ss;s.updateFromServerResponse(n);const i=new Lt({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Ka(i),i}static async _fromGetAccountInfoResponse(t,n,r){const s=n.users[0];B(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?y1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ss;a.updateFromIdToken(r);const l=new Lt({uid:s.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ed(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=new Map;function cn(e){kn(e instanceof Function,"Expected a class definition");let t=og.get(e);return t?(kn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,og.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}v1.type="NONE";const ag=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(e,t,n){return`firebase:${e}:${t}:${n}`}class ks{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ca(this.userKey,s.apiKey,i),this.fullPersistenceKey=ca("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wa(this.auth,{idToken:t}).catch(()=>{});return n?Lt._fromGetAccountInfoResponse(this.auth,n,t):null}return Lt._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ks(cn(ag),t,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||cn(ag);const o=ca(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await Wa(t,{idToken:u}).catch(()=>{});if(!h)break;f=await Lt._fromGetAccountInfoResponse(t,h,u)}else f=Lt._fromJSON(t,u);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ks(i,t,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ks(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(x1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(T1(t))return"Blackberry";if(_1(t))return"Webos";if(w1(t))return"Safari";if((t.includes("chrome/")||S1(t))&&!t.includes("edge/"))return"Chrome";if(b1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x1(e=Xe()){return/firefox\//i.test(e)}function w1(e=Xe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function S1(e=Xe()){return/crios\//i.test(e)}function k1(e=Xe()){return/iemobile/i.test(e)}function b1(e=Xe()){return/android/i.test(e)}function T1(e=Xe()){return/blackberry/i.test(e)}function _1(e=Xe()){return/webos/i.test(e)}function Zf(e=Xe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dA(e=Xe()){var t;return Zf(e)&&!!((t=window.navigator)!=null&&t.standalone)}function fA(){return sC()&&document.documentMode===10}function E1(e=Xe()){return Zf(e)||b1(e)||_1(e)||T1(e)||/windows phone/i.test(e)||k1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(e,t=[]){let n;switch(e){case"Browser":n=lg(Xe());break;case"Worker":n=`${lg(Xe())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,a)=>{try{const l=t(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(e,t={}){return Ks(e,"GET","/v2/passwordPolicy",Yf(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=6;class gA{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cg(this),this.idTokenSubscription=new cg(this),this.beforeStateQueue=new hA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ks.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wa(this,{idToken:t}),r=await Lt._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ka(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ZP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(sn(this.app))return Promise.reject(Pr(this));const n=t?Ft(t):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&B(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return sn(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pA(this),n=new gA(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zr("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uA(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cn(t)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=await ks.create(this,[cn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=C1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&qP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Qf(e){return Ft(e)}class cg{constructor(t){this.auth=t,this.observer=null,this.addObserver=cC(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vA(e){Jf=e}function xA(e){return Jf.loadJS(e)}function wA(){return Jf.gapiScript}function SA(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(e,t){const n=Ws(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Or(i,t??{}))return s;Sn(s,"already-initialized")}return n.initialize({options:t})}function bA(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function TA(e,t,n){const r=Qf(e);B(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=I1(t),{host:o,port:a}=_A(t),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){B(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),B(Or(c,r.config.emulator)&&Or(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,yl(o)?(ZE(`${i}//${o}${l}`),eC("Auth",!0)):s||EA()}function I1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _A(e){const t=I1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ug(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ug(o)}}}function ug(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function EA(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ln("not implemented")}_getIdTokenResponse(t){return ln("not implemented")}_linkToIdToken(t,n){return ln("not implemented")}_getReauthenticationResolver(t){return ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(e,t){return tA(e,"POST","/v1/accounts:signInWithIdp",Yf(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="http://localhost";class Fr extends P1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Fr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return bs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,bs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bs(t,n)}buildRequest(){const t={requestUri:CA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ho(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends A1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends go{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ln.credentialFromTaggedObject(t)}static credentialFromError(t){return Ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ln.credential(t.oauthAccessToken)}catch{return null}}}Ln.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ln.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends go{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fr._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return On.credentialFromTaggedObject(t)}static credentialFromError(t){return On.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return On.credential(n,r)}catch{return null}}}On.GOOGLE_SIGN_IN_METHOD="google.com";On.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends go{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vn.credentialFromTaggedObject(t)}static credentialFromError(t){return Vn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vn.credential(t.oauthAccessToken)}catch{return null}}}Vn.GITHUB_SIGN_IN_METHOD="github.com";Vn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends go{constructor(){super("twitter.com")}static credential(t,n){return Fr._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Un.credentialFromTaggedObject(t)}static credentialFromError(t){return Un.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Un.credential(n,r)}catch{return null}}}Un.TWITTER_SIGN_IN_METHOD="twitter.com";Un.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Lt._fromIdTokenResponse(t,r,s),o=dg(r);return new Ls({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=dg(r);return new Ls({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function dg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends tn{constructor(t,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new Ga(t,n,r,s)}}function N1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ga._fromErrorAndOperation(e,i,t,r):i})}async function IA(e,t,n=!1){const r=await eo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ls._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(e,t,n=!1){const{auth:r}=e;if(sn(r.app))return Promise.reject(Pr(r));const s="reauthenticate";try{const i=await eo(e,N1(r,s,t,e),n);B(i.idToken,r,"internal-error");const o=Xf(i.idToken);B(o,r,"internal-error");const{sub:a}=o;return B(e.uid===a,r,"user-mismatch"),Ls._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Sn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(e,t,n=!1){if(sn(e.app))return Promise.reject(Pr(e));const r="signIn",s=await N1(e,r,t),i=await Ls._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function NA(e,t,n,r){return Ft(e).onIdTokenChanged(t,n,r)}function MA(e,t,n){return Ft(e).beforeAuthStateChanged(t,n)}const qa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qa,"1"),this.storage.removeItem(qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=1e3,jA=10;class R1 extends M1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);fA()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,jA):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},RA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}R1.type="LOCAL";const DA=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends M1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}j1.type="SESSION";const D1=j1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new wl(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await LA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=eh("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return window}function VA(e){Jt().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}async function UA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FA(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function $A(){return L1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebaseLocalStorageDb",BA=1,Ya="firebaseLocalStorage",V1="fbase_key";class yo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sl(e,t){return e.transaction([Ya],t?"readwrite":"readonly").objectStore(Ya)}function zA(){const e=indexedDB.deleteDatabase(O1);return new yo(e).toPromise()}function td(){const e=indexedDB.open(O1,BA);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ya,{keyPath:V1})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ya)?t(r):(r.close(),await zA(),t(await td()))})})}async function fg(e,t,n){const r=Sl(e,!0).put({[V1]:t,value:n});return new yo(r).toPromise()}async function HA(e,t){const n=Sl(e,!1).get(t),r=await new yo(n).toPromise();return r===void 0?null:r.value}function hg(e,t){const n=Sl(e,!0).delete(t);return new yo(n).toPromise()}const WA=800,KA=3;class U1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await td(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>KA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wl._getInstance($A()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await UA(),!this.activeServiceWorker)return;this.sender=new OA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await td();return await fg(t,qa,"1"),await hg(t,qa),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fg(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>HA(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hg(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Sl(s,!1).getAll();return new yo(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U1.type="LOCAL";const GA=U1;new mo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(e,t){return t?cn(t):(B(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends P1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function YA(e){return AA(e.auth,new th(e),e.bypassAuthState)}function XA(e){const{auth:t,user:n}=e;return B(n,t,"internal-error"),PA(n,new th(e),e.bypassAuthState)}async function ZA(e){const{auth:t,user:n}=e;return B(n,t,"internal-error"),IA(n,new th(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return YA;case"linkViaPopup":case"linkViaRedirect":return ZA;case"reauthViaPopup":case"reauthViaRedirect":return XA;default:Sn(this.auth,"internal-error")}}resolve(t){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new mo(2e3,1e4);class hs extends F1{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,hs.currentPopupAction&&hs.currentPopupAction.cancel(),hs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return B(t,this.auth,"internal-error"),t}async onExecution(){kn(this.filter.length===1,"Popup operations only handle one event");const t=eh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QA.get())};t()}}hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="pendingRedirect",ua=new Map;class eN extends F1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ua.get(this.auth._key());if(!t){try{const r=await tN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ua.set(this.auth._key(),t)}return this.bypassAuthState||ua.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tN(e,t){const n=sN(t),r=rN(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function nN(e,t){ua.set(e._key(),t)}function rN(e){return cn(e._redirectPersistence)}function sN(e){return ca(JA,e.config.apiKey,e.name)}async function iN(e,t,n=!1){if(sn(e.app))return Promise.reject(Pr(e));const r=Qf(e),s=qA(r,t),o=await new eN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=10*60*1e3;class aN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!$1(t)){const s=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qt(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oN&&this.cachedEventUids.clear(),this.cachedEventUids.has(pg(t))}saveEventToCache(t){this.cachedEventUids.add(pg(t)),this.lastProcessedEventTime=Date.now()}}function pg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function $1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(e,t={}){return Ks(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^https?/;async function fN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await cN(e);for(const n of t)try{if(hN(n))return}catch{}Sn(e,"unauthorized-domain")}function hN(e){const t=Ju(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dN.test(n))return!1;if(uN.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new mo(3e4,6e4);function mg(){const e=Jt().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function mN(e){return new Promise((t,n)=>{var s,i,o;function r(){mg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mg(),n(Qt(e,"network-request-failed"))},timeout:pN.get()})}if((i=(s=Jt().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((o=Jt().gapi)!=null&&o.load)r();else{const a=SA("iframefcb");return Jt()[a]=()=>{gapi.load?r():n(Qt(e,"network-request-failed"))},xA(`${wA()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw da=null,t})}let da=null;function gN(e){return da=da||mN(e),da}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new mo(5e3,15e3),vN="__/auth/iframe",xN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kN(e){const t=e.config;B(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qf(t,xN):`https://${e.config.authDomain}/${vN}`,r={apiKey:t.apiKey,appName:e.name,v:po},s=SN.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ho(r).slice(1)}`}async function bN(e){const t=await gN(e),n=Jt().gapi;return B(n,e,"internal-error"),t.open({where:document.body,url:kN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Qt(e,"network-request-failed"),a=Jt().setTimeout(()=>{i(o)},yN.get());function l(){Jt().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,EN=600,CN="_blank",IN="http://localhost";class gg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(e,t,n,r=_N,s=EN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...TN,width:r.toString(),height:s.toString(),top:i,left:o},c=Xe().toLowerCase();n&&(a=S1(c)?CN:n),x1(c)&&(t=t||IN,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(dA(c)&&a!=="_self")return AN(t||"",a),new gg(null);const f=window.open(t||"",a,u);B(f,e,"popup-blocked");try{f.focus()}catch{}return new gg(f)}function AN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="__/auth/handler",MN="emulator/auth/handler",RN=encodeURIComponent("fac");async function yg(e,t,n,r,s,i){B(e.config.authDomain,e,"auth-domain-config-required"),B(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:po,eventId:s};if(t instanceof A1){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",lC(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries(i||{}))o[u]=f}if(t instanceof go){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${RN}=${encodeURIComponent(l)}`:"";return`${jN(e)}?${ho(a).slice(1)}${c}`}function jN({config:e}){return e.emulator?qf(e,MN):`https://${e.authDomain}/${NN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="webStorageSupport";class DN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=iN,this._overrideRedirectResult=nN}async _openPopup(t,n,r,s){var o;kn((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await yg(t,n,r,Ju(),s);return PN(t,i,eh())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await yg(t,n,r,Ju(),s);return VA(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(kn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await bN(t),r=new aN(t);return n.register("authEvent",s=>(B(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cc,{type:Cc},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Cc];i!==void 0&&n(!!i),Sn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return E1()||w1()||Zf()}}const LN=DN;var vg="@firebase/auth",xg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UN(e){wn(new en("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C1(e)},c=new yA(r,s,i,l);return bA(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),wn(new en("auth-internal",t=>{const n=Qf(t.getProvider("auth").getImmediate());return(r=>new ON(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zt(vg,xg,VN(e)),Zt(vg,xg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=5*60,$N=Rx("authIdTokenMaxAge")||FN;let wg=null;const BN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$N)return;const s=n==null?void 0:n.token;wg!==s&&(wg=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function zN(e=Ux()){const t=Ws(e,"auth");if(t.isInitialized())return t.getImmediate();const n=kA(e,{popupRedirectResolver:LN,persistence:[GA,DA,D1]}),r=Rx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=BN(i.toString());MA(n,o,()=>o(n.currentUser)),NA(n,a=>o(a))}}const s=YE("auth");return s&&TA(n,`http://${s}`),n}function HN(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}vA({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=Qt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",HN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UN("Browser");const B1={apiKey:"AIzaSyCqXy7dPQjWHNwY6bU00qwFF_QbNsAGyHA",authDomain:"eraone-methere.firebaseapp.com",projectId:"eraone-methere",storageBucket:"eraone-methere.firebasestorage.app",messagingSenderId:"149505713742",appId:"1:149505713742:web:00d963c3d4057f4700451f",measurementId:"G-3Q93SD72N4"},nd=Object.entries(B1).filter(([,e])=>!e);nd.length&&console.warn(`Firebase configuration is incomplete: ${nd.map(([e])=>e).join(", ")}. Check your environment variables.`);let Os=null,z1=null;nd.length?console.warn("Firebase config missing. Analytics disabled until VITE_FIREBASE_* env vars are provided."):(Os=Vx(B1),z1=zN(Os));let Ei=null;if(Os&&typeof window<"u")try{Ei=u1(Os),Kf(Ei,"app_started"),console.log("Firebase Auth initialized:",z1),console.log("Firebase Analytics initialized:",Ei)}catch(e){console.warn("Unable to initialize Firebase Analytics immediately",e)}let Ic=null;const WN=()=>Os?(Ic||(Ic=BP().then(e=>e?Ei||u1(Os):null)),Ic):Promise.resolve(null),un=async(e,t)=>{try{if(ht.getPlatform()==="ios"){await FE.logEvent({name:e,params:t});return}const n=await WN();n&&Kf(n,e,t)}catch{}},KN={trackEvent:un},H1=x.createContext({trackEvent:async()=>{}}),GN=({children:e})=>d.jsx(H1.Provider,{value:KN,children:e}),Hr=()=>x.useContext(H1),W1=x.createContext(void 0),qN=({children:e})=>{const{showNotification:t}=Hs(),{trackEvent:n}=Hr(),r=x.useCallback(u=>{t(`Problem ${u==="read"?"loading":"saving"} tags. Changes may not persist.`,"error")},[t]),[s,i]=Rs("tags",_x,{onError:r}),o=u=>{const f=s.find(h=>h.id===u);return f?f.name:""},a=u=>{const f=u.trim().toLowerCase(),h=s.find(p=>p.name.toLowerCase()===f);return h?h.id:null},l=u=>{const f=u.trim().toLowerCase(),h=s.find(y=>y.name.toLowerCase()===f);if(h)return h;const p={id:crypto.randomUUID(),name:f,count:0,lastUsed:Date.now()};return i(y=>[...y,p]),n("tag_created",{name:f}),p},c=u=>{i(()=>[...u])};return d.jsx(W1.Provider,{value:{tags:s,createTag:l,getTagNameById:o,getTagIdByName:a,replaceTags:c},children:e})},nh=()=>{const e=x.useContext(W1);if(!e)throw new Error("useTags must be used within a TagProvider");return e},K1=x.createContext(void 0),YN=({children:e})=>{const{showNotification:t}=Hs(),n=x.useCallback(c=>{t(`Problem ${c==="read"?"loading":"saving"} people data. Changes may not persist.`,"error")},[t]),[r,s]=Rs("people",Ex,{onError:n}),i=c=>{s(u=>[c,...u])},o=c=>{s(u=>u.map(f=>f.id===c.id?c:f))},a=c=>{s(u=>u.filter(f=>f.id!==c))},l=c=>{s(()=>[...c])};return d.jsx(K1.Provider,{value:{people:r,addPerson:i,updatePerson:o,deletePerson:a,replacePeople:l},children:e})},G1=()=>{const e=x.useContext(K1);if(!e)throw new Error("usePeople must be used within a PeopleProvider");return e},q1=x.createContext(void 0),XN=({children:e})=>{const{showNotification:t}=Hs(),n=x.useCallback(l=>{t(`Problem ${l==="read"?"loading":"saving"} venues. Changes may not persist.`,"error")},[t]),[r,s]=Rs("venues",we,{onError:n}),i=l=>s(c=>[...c,l]),o=l=>s(c=>c.map(u=>u.id===l.id?l:u)),a=l=>{s(()=>[...l])};return d.jsx(q1.Provider,{value:{venues:r,addVenue:i,updateVenue:o,replaceVenues:a},children:e})},kl=()=>{const e=x.useContext(q1);if(!e)throw new Error("useVenues must be used within VenueProvider");return e},Bn="Unclassified";function ZN(e,t){return x.useMemo(()=>e.reduce((n,r)=>{var i;const s=r.venueId?((i=t[r.venueId])==null?void 0:i.name)??Bn:Bn;return n[s]||(n[s]=[]),n[s].push(r),n},{}),[e,t])}function QN(e,t){return x.useMemo(()=>({favorites:e.filter(n=>t.includes(n)),others:e.filter(n=>!t.includes(n))}),[e,t])}function JN(e){const[t,n]=x.useState(()=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):[]}catch{return[]}});return x.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(t))}catch{}},[e,t]),[t,n]}const eM=[{id:"people_first",type:"people",target:1,title:"Icebreaker",description:"Add your first person."},{id:"people_5",type:"people",target:5,title:"Circle of Five",description:"Track your first 5 people."},{id:"people_20",type:"people",target:20,title:"Network Builder",description:"Reach 20 tracked people."},{id:"people_50",type:"people",target:50,title:"Community Maven",description:"Log 50 people or more."},{id:"people_75",type:"people",target:75,title:"City Connector",description:"Keep tabs on 75 contacts."},{id:"people_100",type:"people",target:100,title:"Social Curator",description:"Reach 100 logged people."},{id:"venues_first",type:"venues",target:1,title:"First Venue",description:"Log someone at a venue."},{id:"venues_3",type:"venues",target:3,title:"Neighborhood Scout",description:"Add people from 3 different venues."},{id:"venues_10",type:"venues",target:10,title:"City Guide",description:"Tag 10 venues across the city."},{id:"venues_25",type:"venues",target:25,title:"Urban Explorer",description:"Log people from 25 venues."},{id:"venues_40",type:"venues",target:40,title:"City Curator",description:"Tag 40 unique venues."},{id:"venues_50",type:"venues",target:50,title:"Metropolitan Maven",description:"Map out 50 venues."},{id:"tags_first",type:"tags",target:1,title:"First Tag",description:"Categorize someone with a tag."},{id:"tags_5",type:"tags",target:5,title:"Trend Spotter",description:"Use 5 unique tags across your people."},{id:"tags_15",type:"tags",target:15,title:"Culture Curator",description:"Apply 15 different tags."},{id:"tags_30",type:"tags",target:30,title:"Storyteller",description:"Craft rich profiles with 30 tags."},{id:"tags_40",type:"tags",target:40,title:"Narrator",description:"Use 40 different tags."},{id:"tags_50",type:"tags",target:50,title:"Archivist",description:"Capture nuances with 50 tags."},{id:"favorites_first",type:"favorites",target:1,title:"First Favourite",description:"Mark your first favourite venue."},{id:"favorites_3",type:"favorites",target:3,title:"Venue Regular",description:"Have 3 go-to venues."},{id:"favorites_5",type:"favorites",target:5,title:"Community Builder",description:"Pin 5 favourite venues."},{id:"favorites_8",type:"favorites",target:8,title:"Neighborhood VIP",description:"Keep 8 venues on speed dial."},{id:"favorites_10",type:"favorites",target:10,title:"Scene Setter",description:"Highlight 10 go-to venues."}];function tM(e,t,n){const[r,s]=Rs("achievementEarned",{}),[i,o]=Rs("achievementLifetimeStats",{peopleMax:0,venuesMax:0,tagsMax:0,favoritesMax:0}),a=x.useMemo(()=>{const u=new Set,f=new Set;return e.forEach(h=>{h.venueId&&u.add(h.venueId),(h.tags??[]).forEach(p=>f.add(p))}),{peopleCount:e.length,venueCount:t.length,venuesWithPeople:u.size,uniqueTagCount:f.size,favoriteVenueCount:n.length}},[n,e,t]);x.useEffect(()=>{o(u=>{const f={peopleMax:Math.max(u.peopleMax,a.peopleCount),venuesMax:Math.max(u.venuesMax,a.venuesWithPeople),tagsMax:Math.max(u.tagsMax,a.uniqueTagCount),favoritesMax:Math.max(u.favoritesMax,a.favoriteVenueCount)};return f.peopleMax!==u.peopleMax||f.venuesMax!==u.venuesMax||f.tagsMax!==u.tagsMax||f.favoritesMax!==u.favoritesMax?f:u})},[o,a]);const l=x.useMemo(()=>{const u={people:Math.max(a.peopleCount,i.peopleMax),venues:Math.max(a.venuesWithPeople,i.venuesMax),tags:Math.max(a.uniqueTagCount,i.tagsMax),favorites:Math.max(a.favoriteVenueCount,i.favoritesMax)};return eM.map(f=>{const h=f.type==="people"?u.people:f.type==="venues"?u.venues:f.type==="tags"?u.tags:u.favorites,p=Math.min(h/f.target,1);return{...f,current:h,progress:p,unlocked:h>=f.target||!!r[f.id],unlockedAt:r[f.id]}})},[r,i,a]);x.useEffect(()=>{s(u=>{let f=!1;const h={...u};return l.forEach(p=>{p.current>=p.target&&!h[p.id]&&(h[p.id]=new Date().toISOString(),f=!0)}),f?h:u})},[l,s]);const c=x.useCallback(()=>{s({}),o({peopleMax:0,venuesMax:0,tagsMax:0,favoritesMax:0})},[s,o]);return{achievements:l,stats:a,resetAchievements:c}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Sg=e=>{const t=rM(e);return t.charAt(0).toUpperCase()+t.slice(1)},Y1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),sM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...iM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Y1("lucide",s),...!i&&!sM(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(e,t)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(oM,{ref:i,iconNode:t,className:Y1(`lucide-${nM(Sg(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Sg(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lM=q("award",aM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X1=q("check",cM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Z1=q("chevron-down",uM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fM=q("chevron-right",dM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pM=q("circle-check",hM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gM=q("clock",mM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],vM=q("cloud-upload",yM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wM=q("download",xM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Pc=q("globe",SM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],rh=q("heart",kM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TM=q("info",bM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],EM=q("leaf",_M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IM=q("lock",CM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ar=q("map-pin",PM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],NM=q("moon",AM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Q1=q("palette",MM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],jM=q("pencil",RM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LM=q("search",DM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J1=q("settings",OM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],UM=q("sparkles",VM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bl=q("star",FM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],BM=q("sun-medium",$M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ci=q("tag",zM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],WM=q("trash-2",HM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],GM=q("trending-up",KM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ew=q("triangle-alert",qM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],XM=q("upload",YM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],QM=q("user-pen",ZM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],eR=q("user-round-plus",JM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],sh=q("user-round",tR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rR=q("user",nR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],iR=q("users",sR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],aR=q("waves",oR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],cR=q("wrench",lR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tl=q("x",uR);var H;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(H||(H={}));var kg;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(kg||(kg={}));const dR=Tn("Haptics",{web:()=>gl(()=>import("./web-edbedf1b.js"),[]).then(e=>new e.HapticsWeb)}),fR=ht.isNativePlatform(),hR=typeof navigator<"u"&&"vibrate"in navigator;let _l=!0;const tw="rememberme:haptics-enabled",pR=()=>{if(!(typeof window>"u"))try{const e=window.localStorage.getItem(tw);e!==null&&(_l=e==="true")}catch(e){console.warn("Unable to read haptics preference",e)}};pR();const mR=()=>_l,gR=e=>{if(_l=e,typeof window<"u")try{window.localStorage.setItem(tw,String(e))}catch(t){console.warn("Unable to persist haptics preference",t)}},yR=async e=>{if(!fR)return!1;try{return await e(),!0}catch(t){return console.warn("Native haptics failed",t),!1}},vR=(e=20)=>{hR&&navigator.vibrate(e)},J=async(e=H.Light)=>{if(!_l)return;await yR(()=>dR.impact({style:e}))||vR()},xR=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");function Wo({text:e,query:t}){if(!e)return null;const n=t.trim();if(!n)return d.jsx(d.Fragment,{children:e});const r=new RegExp(`(${xR(n)})`,"ig"),s=e.split(r),i=n.toLowerCase();return d.jsx(d.Fragment,{children:s.map((o,a)=>o.toLowerCase()===i?d.jsx("mark",{className:"bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] px-0.5 rounded",children:o},a):d.jsx("span",{children:o},a))})}function wR({person:e,onEdit:t,onDelete:n,onToggleFavorite:r,getTagNameById:s,activeTags:i,setActiveTags:o,searchQuery:a}){const l=c=>{J(H.Light),o(u=>u.includes(c)?u.filter(f=>f!==c):[...u,c])};return d.jsxs("div",{className:"bg-[var(--color-card)] rounded-3xl p-5 shadow-level1/60",children:[d.jsxs("div",{className:"flex justify-between items-start gap-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-semibold tracking-tight text-[var(--color-text-primary)] flex items-center gap-2",children:[d.jsx(Wo,{text:e.name,query:a}),d.jsxs("button",{onClick:async()=>{await J(e.favorite?H.Light:H.Medium),r(e.id)},title:"Toggle favorite",className:`w-7 h-7 flex items-center justify-center rounded-full border relative overflow-hidden ${e.favorite?"bg-[var(--color-accent-muted)] text-[var(--color-accent)] border-[var(--color-accent)]":"bg-[var(--color-card)] text-[var(--color-text-secondary)] border-[var(--color-card-border)]"}`,children:[d.jsx("span",{className:`absolute inset-0 rounded-full bg-[var(--color-accent)]/10 blur-lg transition-opacity duration-300 ${e.favorite?"opacity-100":"opacity-0"}`}),d.jsx(Y.span,{className:"absolute inset-0 rounded-full border border-[var(--color-accent)]/60 pointer-events-none",animate:e.favorite?{scale:[1,1.25,.6],opacity:[.6,.4,0]}:{scale:[1,.7,1],opacity:[.3,.6,0]},transition:{duration:.35},style:{boxShadow:e.favorite?"0 0 12px var(--color-accent)":"0 0 6px rgba(0,0,0,0.12)"}}),d.jsx(Y.span,{animate:e.favorite?{scale:[.8,1.3,1],rotate:[0,10,0]}:{scale:[1.1,.9,1],rotate:[0,-10,0]},transition:{duration:.35},className:"relative inline-flex",children:d.jsx(bl,{size:16,fill:e.favorite?"currentColor":"transparent"})})]})]}),e.position&&d.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)] mt-1",children:d.jsx(Wo,{text:e.position,query:a})}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)] mt-1.5 tracking-wide",children:["Date Met: ",new Date(e.dateMet).toLocaleDateString()]}),e.description&&d.jsx("p",{className:"whitespace-pre-wrap text-[15px] leading-relaxed text-[var(--color-text-primary)]/85 mt-3",children:d.jsx(Wo,{text:e.description,query:a})})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-full text-[var(--color-text-secondary)] hover:text-[var(--color-accent)] transition",title:"Edit",children:d.jsx(jM,{size:16})}),d.jsx("button",{onClick:()=>n(e.id,e.name),className:"p-2 rounded-full text-red-500 hover:text-red-600 transition",title:"Delete",children:d.jsx(WM,{size:16})})]})]}),e.tags&&e.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:e.tags.map(c=>{const u=s(c),f=i.includes(c);return u?d.jsx(Y.button,{onClick:()=>l(c),className:`px-3 py-1 rounded-full text-sm transition-colors ${f?"bg-[var(--color-accent)] text-white shadow-sm":"bg-[var(--color-accent-muted)] text-[var(--color-text-primary)]/85 hover:bg-[var(--color-accent-muted)]/90"}`,title:f?`Remove filter "${u}"`:`Filter by "${u}"`,whileTap:{scale:.94},animate:f?{scale:[.95,1.1,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 8px 16px rgba(0,0,0,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:[1.05,.96,1],boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.3},children:d.jsx(Wo,{text:u,query:a})},c):null})})]})}function SR({venue:e,group:t,isOpen:n,toggleGroup:r,personSort:s,onEdit:i,onDelete:o,onToggleFavorite:a,activeTags:l,setActiveTags:c,favoriteVenues:u,setFavoriteVenues:f,getTagNameById:h,searchQuery:p,distanceLabel:y}){const{trackEvent:w}=Hr(),b=Array.isArray(t)?t:[],m=[...b].sort((S,k)=>{if(S.favorite&&!k.favorite)return-1;if(!S.favorite&&k.favorite)return 1;switch(s){case"name-asc":return S.name.localeCompare(k.name);case"name-desc":return k.name.localeCompare(S.name);case"position-asc":return(S.position||"").localeCompare(k.position||"");case"position-desc":return(k.position||"").localeCompare(S.position||"");case"date-newest":return new Date(k.dateMet).getTime()-new Date(S.dateMet).getTime();case"date-oldest":return new Date(S.dateMet).getTime()-new Date(k.dateMet).getTime();default:return 0}}),g=e===Bn,v=g?!1:u.includes(e);return d.jsxs("div",{className:`mb-2.5 glass-panel border border-[var(--color-card-border)]/70 px-4 py-3 rounded-3xl shadow-level1 ${g?"border-dashed":""}`,children:[d.jsxs("div",{className:"flex items-center justify-between gap-3 py-1",children:[d.jsxs("button",{onClick:async()=>{await w("venue_toggle",{venue:e,open:!n}),r(e)},className:"text-left text-lg font-semibold text-[var(--color-text-primary)] flex items-center gap-2","aria-label":`Toggle ${e}`,children:[d.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:n?d.jsx(Z1,{size:16}):d.jsx(fM,{size:16})}),e,d.jsxs("span",{className:"text-sm text-[var(--color-text-secondary)]",children:["(",b.length,")"]})]}),!g&&d.jsxs("button",{onClick:async S=>{S.stopPropagation(),await J(v?H.Light:H.Medium),f(k=>k.includes(e)?k.filter(_=>_!==e):[...k,e]),w(v?"venue_unfavorited":"venue_favorited",{venue:e})},className:`w-9 h-9 flex items-center justify-center rounded-full border relative overflow-hidden ${v?"bg-[var(--color-accent)] text-white border-[var(--color-accent)]":"bg-[var(--color-card)] text-[var(--color-text-secondary)] border-[var(--color-card-border)]"}`,title:v?"Unmark Favorite Venue":"Mark as Favorite Venue",children:[d.jsx("span",{className:`absolute inset-0 rounded-full bg-white/20 blur-lg transition-opacity duration-300 ${v?"opacity-60":"opacity-0"}`}),d.jsx(Y.span,{className:"absolute inset-0 rounded-full border border-white/70 pointer-events-none",animate:v?{scale:[1,1.3,.7],opacity:[.6,.4,0]}:{scale:[1,.75,1],opacity:[.3,.6,0]},transition:{duration:.4}}),d.jsx(Y.span,{animate:v?{scale:[.85,1.25,1],rotate:[0,-12,0]}:{scale:[1.1,.9,1],rotate:[0,8,0]},transition:{duration:.35},className:"relative inline-flex",children:d.jsx(bl,{size:16,fill:v?"currentColor":"transparent"})})]})]}),y&&d.jsxs("p",{className:"flex items-center gap-1 text-xs text-[var(--color-text-secondary)] ml-7 -mt-1",children:[d.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-[var(--color-accent-muted)]"}),y]}),g&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mb-2",children:"Assign a venue to move people out of Unclassified."}),d.jsx(Y.div,{initial:!1,animate:{height:n?"auto":0,opacity:n?1:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:d.jsx(vn,{mode:"popLayout",children:d.jsx(Y.div,{layout:!0,className:"flex flex-col",children:m.map((S,k)=>d.jsxs(x.Fragment,{children:[d.jsx(Y.div,{layout:!0,layoutId:`person-${S.id}`,initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25,ease:"easeInOut"},children:d.jsx(wR,{person:S,onEdit:i,onDelete:o,onToggleFavorite:a,getTagNameById:h,activeTags:l,setActiveTags:c,searchQuery:p})}),k<m.length-1&&d.jsx("div",{className:"mx-2 my-3 border-t border-[var(--color-accent-muted)]"})]},S.id))})})})]})}const kR="/assets/MetHere-inline-clean-transparent-tight-4ce265c5.svg";function bR({groupedPeople:e,favoriteVenues:t,visibleVenueNames:n,viewMode:r,personSort:s,activeTags:i,setActiveTags:o,getTagNameById:a,openGroups:l,toggleGroup:c,setFavoriteVenues:u,onEdit:f,onDelete:h,onToggleFavorite:p,searchQuery:y,distanceLabels:w}){const b=r==="favs"?"No favourite venues yet. Tap the star next to a venue to pin it here.":"No venues to show. Try adding a person or clearing filters.";return n.length===0?d.jsxs("div",{className:"glass-panel px-6 py-10 text-center text-[var(--color-text-secondary)] space-y-4",children:[d.jsx("div",{className:"w-full flex items-center justify-center pb-1",children:d.jsx("img",{src:kR,alt:"MetHere logo",className:"h-6 w-auto opacity-70"})}),d.jsx("p",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Nothing to show yet"}),d.jsx("p",{className:"text-sm",children:b})]}):d.jsx("div",{className:"grid gap-4 md:gap-6 lg:gap-8 md:grid-cols-2",children:n.map(m=>d.jsx(SR,{venue:m,group:e[m]??[],personSort:s,activeTags:i,setActiveTags:o,getTagNameById:a,favoriteVenues:t,setFavoriteVenues:u,isOpen:l[m]??!0,toggleGroup:c,onEdit:f,onDelete:h,onToggleFavorite:p,searchQuery:y,distanceLabel:w[m]},m))})}function TR({initialTags:e,allTags:t,maxCount:n=15,maxLength:r=25}){const[s,i]=x.useState(()=>[...e]),[o,a]=x.useState(""),[l,c]=x.useState([]),[u,f]=x.useState(null),[h,p]=x.useState(""),[y,w]=x.useState(""),b=x.useRef(null),m=E=>E.trim().toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s{2,}/g," "),g=E=>{const I=m(E);if(I){if(I.length>r){p(`Tag must be ${r} chars`);return}if(s.includes(I)){w(`${I} already added`);return}if(s.length>=n){p(`Max ${n} tags reached`);return}i(V=>[...V,I]),w(`Added ${I}`)}};x.useEffect(()=>(b.current&&window.clearTimeout(b.current),b.current=window.setTimeout(()=>{const E=o.trim().toLowerCase(),I=E?t.filter(V=>V.name.includes(E)):[...t].sort((V,ne)=>ne.count-V.count);c(I.slice(0,5)),f(null)},200),()=>{b.current&&window.clearTimeout(b.current)}),[o,t]);const v=E=>{const I=E.target.value;I.includes(",")?(I.split(",").slice(0,-1).forEach(g),a(I.split(",").slice(-1)[0])):a(I)},S=E=>{const I=l.length;E.key==="Enter"&&(E.preventDefault(),g(o),a("")),E.key==="ArrowDown"&&I&&(E.preventDefault(),f(V=>V===null?0:(V+1)%I)),E.key==="ArrowUp"&&I&&(E.preventDefault(),f(V=>V===null?I-1:(V-1+I)%I)),E.key==="Escape"&&(a(""),c([]))},k=()=>{c([]),f(null)},_=E=>{i(I=>I.filter(V=>V!==E))},C=()=>{a("")};return{tags:s,input:o,suggestions:l,highlightedIndex:u,error:h,liveMsg:y,handlers:{onInputChange:v,onInputKeyDown:S,onInputBlur:k,commit:g,remove:_,resetInput:()=>{C(),c([]),f(null)},clearInput:C}}}function _R({initialName:e,venues:t,addVenue:n,mode:r,venueUsage:s={}}){const[i,o]=x.useState(e),[a,l]=x.useState(!1),[c,u]=x.useState([]);return x.useEffect(()=>{r==="add"&&(o(""),l(!1))},[r]),x.useEffect(()=>{const y=t.map(b=>({name:b.name,count:s[b.id]??0})),w=i.trim().toLowerCase();u(w?y.filter(b=>b.name.toLowerCase().includes(w)).slice(0,5).map(b=>b.name):y.sort((b,m)=>m.count-b.count).slice(0,5).map(b=>b.name))},[i,t,s]),{value:i,touched:a,suggestions:c,onChange:y=>{o(y),l(!0)},onSelect:y=>{o(y),u([])},resolveVenue:()=>{const y=i.trim(),w=t.find(m=>m.name===y);if(w)return w;const b={id:se(),name:y||Bn,locationTag:void 0,coords:void 0,favorite:!1,proximityAlertsEnabled:!0};return n(b),b}}}function ER(e){var i,o;const t={},n=new Date().toISOString().split("T")[0];e.name.trim()||(t.name="Name is required"),e.dateMet?e.dateMet>n&&(t.dateMet="Date Met cannot be in the future"):t.dateMet="Date Met is required",e.venue.length>50&&(t.venue="Venue name must be 50 characters or fewer"),e.tags.length>15&&(t.tags="Maximum of 15 tags allowed"),e.position&&e.position.length>60&&(t.position="Position must be 60 characters or fewer"),e.description&&e.description.length>500&&(t.description="Description must be 500 characters or fewer");const r=(i=e.latitude)==null?void 0:i.trim(),s=(o=e.longitude)==null?void 0:o.trim();if(r||s){const a=r?parseFloat(r):NaN,l=s?parseFloat(s):NaN;(!r||!s||Number.isNaN(a)||Number.isNaN(l)||a<-90||a>90||l<-180||l>180)&&(t.coords="Enter valid latitude (-90 to 90) and longitude (-180 to 180)")}return{isValid:Object.keys(t).length===0,errors:t}}function CR(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return new Proxy({},{get(r,s){return(i,o,a)=>{const l=e.Capacitor.Plugins[n];if(l===void 0){a(new Error(`Capacitor plugin ${n} not found`));return}if(typeof l[s]!="function"){a(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const c=await l[s](i);o(c)}catch(c){a(c)}})()}}})}})}function IR(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return e.cordova.plugins[n]}})}function PR(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?CR(window):window.cordova!==void 0&&IR(window))}const ps=Tn("Geolocation",{web:()=>gl(()=>import("./web-105e7116.js"),[]).then(e=>new e.GeolocationWeb)});PR();class AR extends fo{async echo(t){return t}async ping(){return{value:"pong"}}async searchPlaces(){return console.warn("MapKitBridge search is only available on native platforms."),{results:[]}}async getSnapshot(){throw this.unimplemented("Map snapshots are only available on device.")}}const bg=Tn("MapKitBridge",{web:()=>Promise.resolve(new AR)}),NR="data:image/svg+xml,%3Csvg width='640' height='360' viewBox='0 0 640 360' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='640' height='360' fill='%23f8f4ef'/%3E%3Cpath d='M0 40h640M0 120h640M0 200h640M0 280h640' stroke='%23e5dbcf' stroke-width='2'/%3E%3Cpath d='M80 0v360M200 0v360M320 0v360M440 0v360M560 0v360' stroke='%23e5dbcf' stroke-width='2'/%3E%3Cpath d='M0 260l80-40 60 30 100-50 90 60 90-80 120 40 100-70 0 210H0z' fill='%23d5e5f0'/%3E%3Cpath d='M0 300l90-60 120 70 120-70 120 50 190-140V360H0z' fill='%23c7e0da'/%3E%3C/svg%3E",Tg="Search by name or address",MR=({venueName:e,canUseLocation:t,labelClass:n,formError:r,resolveVenue:s,getSelectedVenue:i,onValidationCoordsChange:o,onPendingChange:a})=>{const{showNotification:l}=Hs(),{trackEvent:c}=Hr(),u=x.useMemo(()=>i(),[i]),[f,h]=x.useState((u==null?void 0:u.coords)??null),[p,y]=x.useState((u==null?void 0:u.locationTag)??""),[w,b]=x.useState((u==null?void 0:u.proximityAlertsEnabled)!==!1),[m,g]=x.useState(!1),[v,S]=x.useState(null),[k,_]=x.useState(!1),[C,T]=x.useState(null),[E,I]=x.useState(!1),[V,ne]=x.useState(null),[le,Ie]=x.useState(null),[_e,ct]=x.useState(!1),[z,N]=x.useState(""),[D,F]=x.useState([]),[ee,W]=x.useState(!1),[ut,Ee]=x.useState(null),[Je,xe]=x.useState(Tg);x.useEffect(()=>{o&&o(f?{lat:f.lat.toFixed(4),lon:f.lon.toFixed(4)}:null)},[f,o]),x.useEffect(()=>{if(!t){a==null||a(null);return}a==null||a({coords:f,locationTag:p,proximityEnabled:w})},[f,p,w,t,a]),x.useEffect(()=>{if(!e.trim()){b(!0);return}const M=i();b(M?M.proximityAlertsEnabled!==!1:!0)},[e,i]),x.useEffect(()=>{if(!e.trim()){h(null),y(""),S(null),T(null);return}const K=i();if(!K)return;if(!K.coords){h(null);return}f&&Math.abs(f.lat-K.coords.lat)<1e-6&&Math.abs(f.lon-K.coords.lon)<1e-6||h({lat:K.coords.lat,lon:K.coords.lon}),K.locationTag&&K.locationTag!==p&&y(K.locationTag)},[e,f,p,i]),x.useEffect(()=>{let M=!1;if(!f){S(null),T(null),_(!1);return}if(!ht.isNativePlatform()){S(null),T("Preview available on device");return}return(async()=>{const te=e.trim()||"unspecified";try{_(!0);const ie=await bg.getSnapshot({lat:f.lat,lng:f.lon,width:640,height:288,spanMeters:800});if(!M){const _n=ie.address||`${f.lat.toFixed(4)}, ${f.lon.toFixed(4)}`;S(`data:image/png;base64,${ie.imageData}`),T(null),c("map_snapshot_success",{venueName:te,hasAddress:!!ie.address}),_n!==p&&y(_n)}}catch(ie){console.warn("Map snapshot error",ie),M||(S(null),T("Preview unavailable")),c("map_snapshot_error",{venueName:e.trim()||"unspecified",message:typeof(ie==null?void 0:ie.message)=="string"?ie.message:"unknown"})}finally{M||_(!1)}})(),()=>{M=!0}},[f,e,c]),x.useEffect(()=>{if(_e){const ie=e.trim();xe(ie?`Search (e.g. ${ie})`:Tg)}if(!_e){N(""),F([]),W(!1),Ee(null);return}const M=z.trim();if(M.length<2||!ht.isNativePlatform()){F([]),W(!1);return}let K=!1;const te=window.setTimeout(async()=>{try{W(!0),Ee(null);const{results:ie}=await bg.searchPlaces({query:M,near:f?{lat:f.lat,lng:f.lon}:void 0});K||(F(ie),c("place_search_results",{query_length:M.length,result_count:ie.length}))}catch(ie){console.warn("Place search error",ie),K||Ee("Couldn't search right now"),c("place_search_error",{message:typeof(ie==null?void 0:ie.message)=="string"?ie.message:"unknown"})}finally{K||W(!1)}},250);return()=>{K=!0,window.clearTimeout(te)}},[z,_e,f,e,c]),x.useEffect(()=>{if(!_e)return;const M=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=M}},[_e]);const dt=async()=>{if(!ht.isNativePlatform())return!0;try{const M=await ps.requestPermissions();return(M==null?void 0:M.location)==="granted"||(M==null?void 0:M.location)==="grantedWhenInUse"?!0:(l("Enable location access for MetHere in Settings to capture venue pins.","info"),!1)}catch(M){return console.warn("Permission request error",M),l("Unable to request location permission right now.","error"),!1}},cr=async()=>{try{if(ht.isNativePlatform()){const M=await ps.getCurrentPosition({enableHighAccuracy:!0});return{lat:M.coords.latitude,lon:M.coords.longitude}}}catch(M){throw console.warn("Native geolocation error",M),M}if(!navigator.geolocation)throw new Error("Geolocation not supported on this device.");return new Promise((M,K)=>{navigator.geolocation.getCurrentPosition(te=>{M({lat:te.coords.latitude,lon:te.coords.longitude})},te=>K(te),{enableHighAccuracy:!0})})},Wr=async M=>{h(M);const K=`${M.lat.toFixed(4)}, ${M.lon.toFixed(4)}`;y(te=>te||K),l("Location captured","info")},ur=(M,K)=>{const te=i();return te!=null&&te.coords?M&&Math.abs(te.coords.lat-M.lat)<5e-4&&Math.abs(te.coords.lon-M.lon)<5e-4?!1:(ne(te),Ie(()=>K),I(!0),!0):!1},et=async()=>{try{if(g(!0),!await dt())return;const K=await cr(),te=()=>Wr(K);if(ur(K,te))return;await te(),c("venue_pin_captured",{source:"current_location",venueName:e})}catch(M){console.warn("Location capture error",M);const K=typeof(M==null?void 0:M.message)=="string"&&M.message||"Couldn't access your location.";l(K,"error")}finally{g(!1)}},$t=M=>{ct(!1),N(""),F([]);const K={lat:M.lat,lon:M.lng},te=()=>(h(K),y(M.address),l(`Location set to ${M.name}`,"info"),c("venue_pin_captured",{source:"search",venueName:e}),Promise.resolve());ur(K,te)||te()},Kr=()=>{b(!w)},tt=async()=>{I(!1),ne(null);const M=le;Ie(null),M&&await M()},Bt=()=>{I(!1),ne(null),Ie(null)};return d.jsxs(d.Fragment,{children:[d.jsx(vn,{mode:"sync",children:t&&d.jsxs(Y.section,{layout:!0,layoutId:"location-section",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3,ease:[.4,0,.2,1]},className:"mt-1.5 space-y-4 will-change-transform",children:[d.jsxs("div",{children:[d.jsx("p",{className:n.replace("mb-2",""),children:"Location (optional)"}),d.jsx("p",{className:"mt-1 text-xs text-[var(--color-text-secondary)]",children:"Add a map pin for this venue (optional)."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{if(!ht.isNativePlatform()){l("Search is available on device only.","info");return}c("place_search_opened",{venueName:e.trim()||"unspecified"}),ct(!0)},className:"rounded-full bg-[var(--color-accent)] px-4 py-1.5 text-xs font-semibold text-white shadow-[0_10px_24px_rgba(0,0,0,0.18)] transition hover:brightness-110 disabled:opacity-60",children:"Choose a place"}),d.jsx("button",{type:"button",onClick:()=>{J(H.Light),et()},disabled:m,className:"rounded-full border border-white/40 bg-[var(--color-card)] px-4 py-1.5 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_6px_18px_rgba(0,0,0,0.08)]",children:m?"Capturing":"Use current location"})]}),d.jsx(vn,{mode:"wait",initial:!1,children:f?d.jsxs(Y.div,{initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:12,scale:.98},transition:{duration:.22,ease:"easeOut"},className:"space-y-4 rounded-[30px] border border-[var(--color-card-border)] bg-[var(--color-card)]/95 p-5 shadow-[0_18px_40px_rgba(15,23,42,0.15)]",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-[26px] border border-white/15 bg-[var(--color-card)]/60",children:[d.jsx("img",{src:v??NR,alt:"Map preview",className:"h-48 w-full object-cover transition-opacity"}),!v&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/90",children:d.jsx("div",{className:"h-6 w-6 rounded-full bg-[var(--color-accent)] shadow-lg"})})}),k&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center bg-[var(--color-card)]/50 text-xs font-semibold text-[var(--color-text-secondary)]",children:"Generating preview"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:e.trim()||"The Broadview Rooftop"}),d.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:p||`${f.lat.toFixed(4)}, ${f.lon.toFixed(4)}`})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var K;const M=(p==null?void 0:p.trim())||`${f.lat.toFixed(4)}, ${f.lon.toFixed(4)}`;(K=navigator.clipboard)==null||K.writeText(M).then(()=>l("Coordinates copied","info")).catch(()=>l("Unable to copy coordinates.","error"))},className:"rounded-full border border-[var(--color-card-border)] px-3 py-1 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_3px_10px_rgba(15,23,42,0.08)]",children:"Copy address"}),d.jsx("button",{type:"button",disabled:!f,onClick:()=>{f&&(ht.isNativePlatform()?window.open(`maps://?ll=${f.lat},${f.lon}`,"_blank"):window.open(`https://maps.google.com/?q=${f.lat},${f.lon}`,"_blank"))},className:"rounded-full border border-[var(--color-card-border)] px-3 py-1 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_3px_10px_rgba(15,23,42,0.08)]",children:"Open in Maps"})]})]},"map-card"):null}),f&&d.jsxs("div",{className:"rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)]/80 px-4 py-3 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Proximity alert"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Notify me when Im near this venue."})]}),d.jsx("button",{type:"button",onClick:()=>{J(H.Light),Kr()},className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${w?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${w?"translate-x-6":"translate-x-1"}`})})]}),r&&d.jsx("p",{className:"text-red-500 text-xs",children:r})]},"location-section")}),E&&V&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-sm rounded-[32px] bg-[var(--color-card)] p-6 shadow-[0_20px_50px_rgba(15,23,42,0.4)] text-center space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Replace saved pin?"}),d.jsxs("p",{className:"mt-2 text-sm text-[var(--color-text-secondary)]",children:["",V.name," already has a location. Replacing it will update the pin for everyone linked to this venue."]})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-center",children:[d.jsx("button",{type:"button",onClick:Bt,className:"rounded-full border border-[var(--color-card-border)] px-4 py-2 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/80",children:"Keep existing"}),d.jsx("button",{type:"button",onClick:tt,className:"rounded-full bg-[var(--color-accent)] px-4 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(0,0,0,0.25)] hover:brightness-110",children:"Replace location"})]})]})}),_e&&d.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center pointer-events-none bg-[var(--color-card)]/50 backdrop-blur-md",children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"pointer-events-auto w-[min(80vw,380px)] rounded-[30px] bg-white p-5 shadow-[0_25px_60px_rgba(15,23,42,0.45)] space-y-4 max-h-[80vh] flex flex-col border border-black/5",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Search by name or address"}),d.jsx("button",{type:"button",onClick:()=>ct(!1),className:"text-lg font-semibold text-[var(--color-text-secondary)] hover:text-[var(--color-accent)]",children:""})]}),d.jsxs("div",{className:"rounded-[26px] border border-black/10 bg-white px-4 py-2 flex items-center gap-3 shadow-[inset_0_1px_2px_rgba(15,23,42,0.08)]",children:[d.jsx("span",{className:"text-[var(--color-text-secondary)]",children:""}),d.jsx("input",{type:"text",value:z,onChange:M=>N(M.target.value),placeholder:Je,className:"flex-1 bg-transparent text-base text-[var(--color-text-primary)] outline-none placeholder:text-[var(--color-text-secondary)]",autoFocus:!0})]}),d.jsxs("div",{className:"max-h-[55vh] overflow-y-auto pr-1 flex-1 bg-white rounded-[20px] px-2 py-2 space-y-1",children:[ee&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] px-1",children:"Searching"}),ut&&d.jsx("p",{className:"text-xs text-red-500 px-1",children:ut}),!ee&&!ut&&D.length===0&&z.trim().length>=2&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] px-1",children:"No matches found."}),!ee&&!ut&&D.slice(0,5).map(M=>d.jsxs("button",{type:"button",onClick:()=>$t(M),className:"w-full text-left rounded-[18px] border border-black/5 bg-white px-3 py-2 shadow-[0_4px_12px_rgba(15,23,42,0.05)] hover:bg-[var(--color-card)]/30 transition",children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:M.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:M.address})]},`${M.lat}-${M.lng}-${M.address}`))]})]})})]})};function RR({initialData:e={},onSubmit:t,onCancel:n,mode:r,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l,hideActions:c=!1,onSubmittingChange:u}){const{trackEvent:f}=Hr(),[h,p]=x.useState(e.name||""),[y,w]=x.useState(e.position||""),[b,m]=x.useState(e.description||""),{venues:g,addVenue:v,updateVenue:S}=kl(),k=e.venueId?g.find(R=>R.id===e.venueId):void 0,_=()=>{const R=E.trim().toLowerCase();return R?g.find(ce=>ce.name.trim().toLowerCase()===R)??null:null},C=(k==null?void 0:k.name)??"",T=x.useMemo(()=>g.reduce((R,ce)=>(R[ce.id]=i.filter(Fe=>Fe.venueId===ce.id).length,R),{}),[g,i]),{value:E,touched:I,suggestions:V,onChange:ne,onSelect:le,resolveVenue:Ie}=_R({initialName:C,venues:g,addVenue:v,mode:r,venueUsage:T}),[_e,ct]=x.useState(!1),[z,N]=x.useState({}),[D,F]=x.useState(null),[ee,W]=x.useState(null),[ut,Ee]=x.useState(!1);x.useEffect(()=>()=>{u==null||u(!1)},[u]),x.useEffect(()=>{if(!D)return;const R=window.setTimeout(()=>F(null),250);return()=>window.clearTimeout(R)},[D]);const{tags:Je,input:xe,suggestions:dt,highlightedIndex:cr,error:Wr,liveMsg:ur,handlers:{onInputChange:et,onInputKeyDown:$t,onInputBlur:Kr,commit:tt,remove:Bt,resetInput:M,clearInput:K}}=TR({initialTags:r==="edit"&&e.tags?e.tags.map(R=>a(R).trim().toLowerCase()):[],allTags:s}),[te,ie]=x.useState(null);x.useEffect(()=>{if(!te)return;const R=window.setTimeout(()=>ie(null),250);return()=>window.clearTimeout(R)},[te]);const _n=()=>{if(Cn.current){Cn.current=!1;return}xe.trim()&&tt(xe),et({target:{value:""}}),Kr()},Gs=new Date().toISOString().split("T")[0],[qs,xo]=x.useState(e.dateMet?e.dateMet.split("T")[0]:Gs),[En,El]=x.useState(()=>k!=null&&k.coords?{lat:k.coords.lat.toFixed(4),lon:k.coords.lon.toFixed(4)}:null),Cn=x.useRef(!1),wo=R=>{if(!ee)return;const{coords:ce,locationTag:Fe,proximityEnabled:A}=ee,O=R.locationTag??"",L=Fe||O,U=R.proximityAlertsEnabled!==!1;!(ce&&(!R.coords||Math.abs(R.coords.lat-ce.lat)>1e-6||Math.abs(R.coords.lon-ce.lon)>1e-6))&&!(Fe&&Fe!==O)&&!(A!==U)||(S({...R,coords:ce??R.coords,locationTag:L,proximityAlertsEnabled:A}),W(null))},lh=R=>{if(R.preventDefault(),ut)return;if(!h.trim()){J(H.Heavy),ct(!0);return}const ce=qs||Gs,{isValid:Fe,errors:A}=ER({name:h,dateMet:ce,venue:E,tags:Je,position:y,description:b,latitude:(En==null?void 0:En.lat)??"",longitude:(En==null?void 0:En.lon)??""});if(!Fe){J(H.Heavy),N(A);return}N({}),qs||xo(ce),N({});const O=xe.trim();O&&tt(O);const L=Je.map(nt=>o(nt)??l(nt).id),U=new Date().toISOString(),Z=Ie(),Q={id:e.id||se(),name:h.trim(),position:y.trim()||void 0,venueId:Z.id,description:b.trim()||void 0,dateMet:ce,createdAt:r==="add"?U:e.createdAt,updatedAt:r==="edit"?U:void 0,tags:L,favorite:e.favorite??!1};Ee(!0),u==null||u(!0);try{t(Q),wo(Z)}finally{Ee(!1),u==null||u(!1)}},At="block text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)] mb-2",dr="w-full px-3 py-2 rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] text-base text-[var(--color-text-primary)] placeholder:text-[var(--color-text-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] shadow-level1",Gr=R=>{const ce=x.useRef(null),[Fe,A]=x.useState(!1),[O,L]=x.useState(!1);return x.useEffect(()=>{const U=ce.current;if(!U)return;const Z=()=>{const Q=U.scrollWidth-U.clientWidth>4;A(Q),Q&&L(!0)};return Z(),window.addEventListener("resize",Z),()=>{window.removeEventListener("resize",Z)}},R),x.useEffect(()=>{if(!Fe)return;const U=window.setTimeout(()=>L(!1),700);return()=>window.clearTimeout(U)},[Fe]),{ref:ce,hasOverflow:Fe,showHint:O}},Cl=Gr([V.length]),Ys=Gr([Je.length]),Il=Gr([dt.length,xe]),So=!!E.trim();return d.jsx(d.Fragment,{children:d.jsxs("form",{id:"person-form",onSubmit:lh,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"name",className:At,children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{id:"name",type:"text",value:h,onChange:R=>p(R.target.value),onBlur:()=>ct(!0),className:`${dr} ${_e&&!h.trim()?"border-red-400":""}`,required:!0}),_e&&!h.trim()&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Name is required"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"date-met",className:At,children:["Date Met ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{id:"date-met",type:"date",value:qs,onChange:R=>xo(R.target.value),className:`${dr} ${z.dateMet?"border-red-400":""}`,required:!0,max:Gs}),z.dateMet&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.dateMet})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"position",className:At,children:"Position / Role"}),d.jsx("input",{id:"position",type:"text",value:y,onChange:R=>w(R.target.value),className:dr}),z.position&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.position})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"venue",className:At,children:"Venue (optional)"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mb-2",children:"Name or select the venue to enable location tools."}),d.jsx("input",{id:"venue",type:"text",value:E,onChange:R=>ne(R.target.value),className:dr}),I&&E.length>50&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Venue name is too long"}),z.venue&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.venue})]}),V.length>0&&d.jsxs("div",{className:"mt-1.5 mb-1 space-y-1",children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Suggested venues"}),d.jsx("div",{ref:Cl.ref,className:"relative overflow-x-auto whitespace-nowrap gap-2 px-1 pb-1.5 pr-10 tag-suggestion-rail",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:V.map(R=>{const ce=D===R;return d.jsx(Y.button,{type:"button",className:"inline-block mr-3 px-3 py-1 rounded-full text-sm bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] border border-[var(--color-accent-muted)] hover:bg-[var(--color-accent-muted)]/80",onPointerDown:()=>{Cn.current=!0},onClick:async()=>{await J(H.Light),le(R),F(R),Cn.current=!1},animate:ce?{scale:[.94,1.05,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 10px 20px rgba(15,23,42,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:1,boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.22,ease:"easeOut"},onAnimationComplete:()=>{ce&&F(null)},children:R},R)})})]}),d.jsx(MR,{venueName:E,canUseLocation:So,labelClass:At,formError:z.coords,resolveVenue:Ie,getSelectedVenue:_,onValidationCoordsChange:El,onPendingChange:W}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:At,children:"Description (optional)"}),d.jsx("textarea",{id:"description",value:b,onChange:R=>m(R.target.value),className:`${dr} min-h-[120px]`,rows:3}),z.description&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.description})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tag-input",className:At,children:"Tags"}),d.jsx("div",{role:"list",ref:Ys.ref,className:"relative overflow-x-auto whitespace-nowrap mb-2 px-1 pb-4 pr-10",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:Je.length>0?Je.map(R=>d.jsxs("button",{type:"button",onClick:async()=>{await J(H.Light),Bt(R)},className:"inline-flex items-center mr-3 bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] px-3 py-1 rounded-full text-sm hover:bg-[var(--color-accent-muted)]/80 transition focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]","aria-label":`Remove tag ${R}`,children:[R,d.jsx("span",{className:"ml-2 text-red-500 text-base",children:""})]},R)):d.jsx("span",{className:"inline-block mr-3 text-[var(--color-text-secondary)] text-sm italic",children:"no tags added"})}),d.jsx("input",{id:"tag-input",type:"text",placeholder:"Add a tag",value:xe,onChange:et,onKeyDown:$t,onBlur:_n,autoComplete:"off",className:dr}),d.jsxs("div",{className:"text-xs text-[var(--color-text-secondary)] text-right mt-1",children:[xe.length," / 25"]}),d.jsxs("div",{className:"mt-3 space-y-1",children:[dt.length>0&&d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Suggested tags"}),d.jsxs("div",{ref:Il.ref,className:"relative overflow-x-auto whitespace-nowrap px-3 pb-3 pr-12 tag-suggestion-rail",onWheel:R=>R.stopPropagation(),onTouchStart:R=>R.stopPropagation(),style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:[dt.map((R,ce)=>{const Fe=te===R.id;return d.jsx(Y.button,{type:"button",onPointerDown:()=>{Cn.current=!0},onClick:async()=>{await J(H.Light),tt(R.name),K(),ie(R.id)},className:`inline-block mr-3 px-3 py-1 rounded-full text-sm bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] border border-[var(--color-accent-muted)] hover:bg-[var(--color-accent-muted)]/80 ${ce===cr?"ring-2 ring-[var(--color-accent)]":""}`,animate:Fe?{scale:[.94,1.05,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 10px 20px rgba(15,23,42,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:1,boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.22,ease:"easeOut"},onAnimationComplete:()=>{Fe&&ie(null)},children:R.name},R.id)}),(()=>{const R=xe.trim().toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s{2,}/g," ");return R&&!Je.includes(R)&&!s.some(ce=>ce.name===R)?d.jsxs("button",{type:"button",onPointerDown:()=>{Cn.current=!0},onClick:async()=>{await J(H.Light),tt(R),K(),f("custom_tag_created",{tag:R})},className:"inline-block mr-3 px-3 py-1 rounded-full text-sm border border-dashed border-[var(--color-accent)] text-[var(--color-accent)] bg-white/70 hover:bg-white",children:["Create ",R,""]}):null})()]})]}),Wr&&d.jsx("div",{className:"text-red-500 text-xs mt-1",children:Wr}),ur&&d.jsx("div",{className:"text-sm text-[var(--color-text-secondary)] mt-1",children:ur}),z.tags&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.tags})]}),!c&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",disabled:!h.trim(),className:`flex-1 py-2 rounded-full text-white text-center font-semibold transition ${h.trim()?"bg-[var(--color-accent)] hover:brightness-110 shadow":"bg-[var(--color-accent-muted)]/50 text-[var(--color-text-secondary)]/70 cursor-not-allowed"}`,children:"Save"}),n&&d.jsx("button",{type:"button",onClick:n,className:"flex-1 py-2 border border-white/70 rounded-full text-sm text-[var(--color-text-secondary)] hover:bg-white transition",children:"Cancel"})]})]})})}function _g({mode:e,person:t,onSubmit:n,onCancel:r,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l}){const c=e==="add"?"Add Person":"Edit Person",[u,f]=x.useState(!1),h=e==="edit"?t:void 0,p=typeof document<"u"?document.getElementById("modal-root")??document.body:null;return p?q0.createPortal(d.jsx(Y.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeInOut"},onClick:r,style:{willChange:"opacity",overscrollBehavior:"contain",touchAction:"none",paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(Y.div,{role:"dialog","aria-modal":"true",className:"glass-panel w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:y=>y.stopPropagation(),style:{willChange:"transform, opacity"},children:[d.jsxs("div",{className:"flex-none sticky top-0 z-10 bg-[var(--color-surface)]/95 backdrop-blur-lg border-b border-white/40 px-6 py-4 shadow-[0_6px_18px_rgba(15,23,42,0.08)] pr-14",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-[0_8px_20px_rgba(15,23,42,0.12)]",children:e==="add"?d.jsx(eR,{size:18}):d.jsx(QM,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]/80",children:e==="add"?"Create new connection":"Update connection"}),d.jsx("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:c})]})]}),d.jsx("button",{type:"button","aria-label":"Close modal",className:"absolute top-3 right-3 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 transition flex items-center justify-center",onClick:y=>{y.stopPropagation(),J(H.Light),r()},children:d.jsx(Tl,{size:16})})]}),d.jsx("div",{className:"relative flex-1 overflow-y-auto px-6 py-4 bg-[var(--color-card)]",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"},children:d.jsx(RR,{initialData:h,onSubmit:n,onCancel:r,mode:e,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l,hideActions:!0,onSubmittingChange:f})}),d.jsxs("div",{className:"flex-none sticky bottom-0 z-10 bg-[var(--color-surface)]/95 backdrop-blur-lg border-t border-white/40 px-6 py-4 flex justify-end gap-2 shadow-[0_-6px_18px_rgba(15,23,42,0.08)]",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-full border border-white/70 text-sm text-[var(--color-text-secondary)] hover:bg-white transition",children:"Cancel"}),d.jsx("button",{type:"submit",form:"person-form",disabled:u,className:"px-4 py-2 rounded-full bg-[var(--color-accent)] text-white text-sm font-semibold shadow-level1 hover:brightness-105 transition disabled:opacity-60 disabled:cursor-not-allowed",children:u?"Saving":"Save"})]})]})}),p):null}function jR({name:e,onConfirm:t,onCancel:n,isDeleting:r=!1}){return d.jsx(Y.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:d.jsxs(Y.div,{className:"glass-panel w-full max-w-md overflow-hidden flex flex-col shadow-[0_30px_80px_rgba(15,23,42,0.2)]",initial:{opacity:0,scale:.94,y:18},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:18},transition:{duration:.25,ease:"easeInOut"},onClick:s=>s.stopPropagation(),style:{willChange:"transform, opacity"},children:[d.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 bg-[var(--color-surface)]/90 backdrop-blur-lg",children:[d.jsx("div",{className:"w-11 h-11 rounded-2xl bg-red-500/15 text-red-400 flex items-center justify-center shadow-[0_8px_18px_rgba(15,23,42,0.18)] border border-white/20",children:d.jsx(ew,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-red-400/80",children:"Caution"}),d.jsx("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Confirm Delete"})]})]}),d.jsx("div",{className:"px-6 py-5 bg-[var(--color-card)] text-sm text-[var(--color-text-secondary)] leading-relaxed",children:d.jsxs("p",{children:["Are you sure you want to delete ",d.jsx("strong",{className:"text-[var(--color-text-primary)]",children:e}),"? This action cannot be undone."]})}),d.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 bg-[var(--color-card)]",children:[d.jsx("button",{onClick:()=>{J(H.Light),n()},className:"px-4 py-2 rounded-full border border-white/40 text-sm text-[var(--color-text-secondary)] hover:bg-white/60 hover:text-[var(--color-text-primary)] transition",children:"Cancel"}),d.jsx("button",{onClick:()=>{J(H.Heavy),t()},disabled:r,className:"px-4 py-2 rounded-full bg-red-500 text-white text-sm font-semibold shadow-level1 hover:brightness-105 transition disabled:opacity-60 disabled:cursor-not-allowed",children:r?"Deleting":"Delete"})]})]})})}function DR({showAdd:e,onAddCancel:t,onAdd:n,tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,editingPerson:l,onEditCancel:c,onEdit:u,personToDelete:f,onDeleteCancel:h,onDeleteConfirm:p}){return d.jsxs(d.Fragment,{children:[d.jsxs(vn,{mode:"wait",initial:!1,children:[e&&d.jsx(_g,{mode:"add",tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,onSubmit:n,onCancel:t},"add-person"),l&&d.jsx(_g,{mode:"edit",person:l,tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,onSubmit:u,onCancel:c},"edit-person")]}),d.jsx(vn,{mode:"wait",initial:!1,children:f&&d.jsx(jR,{name:f.name,onCancel:h,onConfirm:()=>p(f.id)},"delete-person")})]})}function LR({segments:e,value:t,onChange:n,className:r=""}){const{trackEvent:s}=Hr();return d.jsx(UT,{children:d.jsx("div",{className:`relative inline-flex rounded-full bg-[var(--color-card)]/90 backdrop-blur-lg overflow-hidden shadow-[0_8px_18px_rgba(15,23,42,0.07)] border border-[var(--color-card-border)]/70 p-0.5 ${r}`,style:{WebkitMaskImage:"radial-gradient(circle, white 99%, transparent 100%)"},children:e.map(i=>{const o=i.key===t,a=i.key==="all"?d.jsx(UM,{size:14,className:"mr-1.5"}):d.jsx(rh,{size:14,className:"mr-1.5"}),l=async()=>{o||(await J(H.Medium),s("segmented_control_change",{segment:i.key}),n(i.key))};return d.jsxs("button",{type:"button","aria-pressed":o,onClick:l,className:`relative isolate flex items-center gap-1.5 px-[11px] min-h-[30px] text-[0.82rem] font-medium transition-all duration-250 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-accent)]/25 ${o?"text-white drop-shadow-[0_2px_8px_rgba(15,23,42,0.25)] opacity-100":"text-[var(--color-text-secondary)] opacity-70 hover:opacity-100 hover:text-[var(--color-text-primary)]"}`,children:[o&&d.jsx(Y.span,{layoutId:"segmentHighlight",className:"absolute inset-[1px] rounded-full border",style:{backgroundColor:"var(--color-accent)",borderColor:"var(--color-accent)",boxShadow:"0 10px 24px rgba(15,23,42,0.18)"},transition:{type:"spring",stiffness:420,damping:32,mass:.35}}),d.jsxs(Y.span,{className:"relative flex items-center",animate:o?{scale:[1,1.1,1]}:{scale:1},transition:{duration:.25},children:[a,i.label]})]},i.key)})})})}const OR=x.memo(LR),VR=[{key:"name",dir:"asc",label:"Name AZ",description:"Alphabetical ascending"},{key:"name",dir:"desc",label:"Name ZA",description:"Alphabetical descending"},{key:"recentVisit",dir:"desc",label:"Recent visits first",description:"Newest activity at the top"},{key:"recentVisit",dir:"asc",label:"Oldest visits first",description:"Revisit older spots"},{key:"knownCount",dir:"desc",label:"Most known people",description:"Heaviest activity first"},{key:"knownCount",dir:"asc",label:"Least known people",description:"Discover quieter venues"}],UR=[{value:"name-asc",label:"Name AZ",description:"Alphabetical ascending"},{value:"name-desc",label:"Name ZA",description:"Alphabetical descending"},{value:"dateMet-desc",label:"Newest meetings",description:"People you met most recently"},{value:"dateMet-asc",label:"Oldest meetings",description:"Older connections first"},{value:"updatedAt-desc",label:"Recently updated",description:"Latest edits to profiles"},{value:"updatedAt-asc",label:"Oldest updates",description:"See older notes again"}];function FR({variant:e,venueSortKey:t,venueSortDir:n,setVenueSortKey:r,setVenueSortDir:s,personSort:i,setPersonSort:o,onClose:a}){const l=`${t}-${n}`,c=e==="venue",u=c?VR.map(({key:p,dir:y,label:w,description:b})=>{const m=`${p}-${y}`,g=m===l;return{key:m,label:w,description:b,active:g,onSelect:async()=>{await J(g?H.Light:H.Medium),r(p),s(y),a==null||a()}}}):UR.map(({value:p,label:y,description:w})=>{const b=p===i;return{key:p,label:y,description:w,active:b,onSelect:async()=>{await J(b?H.Light:H.Medium),o(p),a==null||a()}}}),f=c?"Sort venues":"Sort people",h=c?Ar:iR;return d.jsxs("div",{className:"space-y-4 text-left",children:[d.jsxs("div",{className:"flex items-center gap-3 px-1",children:[d.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-[0_8px_18px_rgba(15,23,42,0.15)]",children:d.jsx(h,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:f}),d.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)]/90",children:["Choose how ",c?"venues":"people"," are ordered."]})]})]}),d.jsx("div",{className:"rounded-2xl bg-[var(--color-card)]/95 px-3 py-3 shadow-level1/40",children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-[13px]",children:u.map(({key:p,label:y,description:w,active:b,onSelect:m})=>d.jsxs("button",{onClick:m,className:`w-full text-left px-4 py-3 rounded-2xl border transition duration-200 flex items-start justify-between gap-2 ${b?"border-[color:var(--color-accent)] bg-[color:var(--color-accent-muted)] text-[var(--color-accent)]":"border-[color:var(--color-card-border)] bg-[var(--color-card)] text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold",children:y}),d.jsx("p",{className:`text-xs ${b?"text-[var(--color-accent)]/90":"text-[var(--color-text-secondary)]"}`,children:w})]}),b&&d.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center self-center rounded-full bg-[var(--color-card)] text-[var(--color-accent)] shadow-[0_4px_10px_rgba(15,23,42,0.12)]",children:d.jsx(X1,{size:14,className:"translate-y-[0.5px]"})})]},p))})})]})}const $R=({searchQuery:e,setSearchQuery:t,activeTags:n,setActiveTags:r,venueSortKey:s,venueSortDir:i,setVenueSortKey:o,setVenueSortDir:a,personSort:l,setPersonSort:c,onOpenSettings:u,onOpenProfile:f,venueView:h,setVenueView:p,favoriteVenueCount:y,totalVenueCount:w,sortSheet:b,setSortSheet:m})=>{const g=S=>{m(k=>k===S?null:S)},v=x.useMemo(()=>[{key:"all",label:`All Venues (${w})`},{key:"favs",label:`Favourites (${y})`}],[w,y]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"sticky z-40",style:{top:0},children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-x-0 pointer-events-none bg-[var(--color-surface)]/92 backdrop-blur-[30px] border-b border-[var(--color-card-border)]/70 shadow-[0_12px_28px_rgba(15,23,42,0.18)]",style:{top:"calc(-1 * env(safe-area-inset-top))",height:"calc(100% + env(safe-area-inset-top))"}}),d.jsxs("div",{className:"relative space-y-2.5",style:{paddingTop:"calc(env(safe-area-inset-top) + 6px)"},children:[d.jsx("div",{className:"px-4 sm:px-6 md:px-8 lg:px-10 pb-1",children:d.jsxs("div",{className:"flex items-center gap-3 max-w-3xl mx-auto w-full",children:[d.jsx("button",{"aria-label":"Settings",onClick:u,className:"p-2 rounded-md hover:bg-white/60 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition",children:d.jsx(J1,{size:20})}),d.jsxs("div",{className:"relative flex-1",children:[d.jsx(LM,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--color-accent)] drop-shadow-[0_2px_4px_rgba(15,23,42,0.3)] z-10",size:20,strokeWidth:2.4}),d.jsx("input",{type:"text",value:e,onChange:S=>t(S.target.value),placeholder:"Search by person, tag or venue",className:"w-full h-12 pl-11 pr-12 rounded-full bg-[var(--color-card)] backdrop-blur-sm border border-[var(--color-card-border)] text-[var(--color-text-primary)] placeholder:text-[var(--color-text-secondary)]/80 placeholder:text-[0.9rem] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] shadow-level1"}),e&&d.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]",onClick:()=>t(""),"aria-label":"Clear search",children:""})]}),d.jsx("button",{"aria-label":"Profile",className:"p-2 rounded-md hover:bg-white/60 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition",onClick:f,children:d.jsx(rR,{size:20})})]})}),d.jsx("div",{className:"bg-transparent",children:d.jsxs("div",{className:"px-4 sm:px-6 md:px-8 lg:px-10 pt-1 pb-2 space-y-1.5",children:[d.jsx("div",{className:"flex flex-col items-center gap-1.5 text-[12px]",children:d.jsxs("div",{className:"flex justify-center gap-3 w-full flex-wrap",children:[d.jsxs("button",{onClick:()=>g("venue"),className:`px-4 py-1 rounded-full text-xs font-semibold transition pill-chip ${b==="venue"?"border-[color:var(--color-accent)] bg-[color:var(--color-accent-muted)] text-[var(--color-accent)] shadow-level1":"border-[color:var(--color-card-border)] bg-[var(--color-card)] text-[var(--color-text-primary)]"}`,children:["Venues  ",s==="name"?"Name":s==="recentVisit"?"Recent":"Known",i==="asc"?" ":" "]}),d.jsxs("button",{onClick:()=>g("people"),className:`px-4 py-1 rounded-full text-xs font-semibold transition pill-chip ${b==="people"?"border-[color:var(--color-accent)] bg-[color:var(--color-accent-muted)] text-[var(--color-accent)] shadow-level1":"border-[color:var(--color-card-border)] bg-[var(--color-card)] text-[var(--color-text-primary)]"}`,children:["People  ",l.replace("dateMet","Met").replace("updatedAt","Updated").replace("asc"," ").replace("desc"," ")]})]})}),d.jsx("div",{className:"flex justify-center pt-1.5",children:d.jsx(OR,{segments:v,value:h,onChange:p,className:"shadow-level1"})})]})})]})]})}),d.jsx(vn,{children:b&&d.jsx(Y.div,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(null),children:d.jsxs(Y.div,{className:"glass-panel w-full max-w-md max-h-[80vh] overflow-hidden flex flex-col relative bg-[var(--color-card)]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:S=>S.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:S=>{S.stopPropagation(),J(H.Light),m(null)},"aria-label":"Close sort options",children:d.jsx(Tl,{size:16})}),d.jsx("div",{className:"overflow-y-auto px-5 pb-5 pt-6 space-y-4",style:{scrollbarGutter:"stable"},children:d.jsx(FR,{variant:b,venueSortKey:s,venueSortDir:i,setVenueSortKey:o,setVenueSortDir:a,personSort:l,setPersonSort:c,onClose:()=>m(null)})})]})})})]})};function BR(e,t){return!e.tags||!t?[]:e.tags.map(t)}function zR(e,t,n){const r=t.trim().toLowerCase();return r?[e.name,e.position??"",e.description??"",...BR(e,n)].some(i=>i.toLowerCase().includes(r)):!0}function HR(e,t){return t.length===0?!0:t.every(n=>(e.tags??[]).includes(n))}function WR(e,t,n=!0){return[...e].sort((r,s)=>{let i,o;switch(t){case"name":i=r.name.toLowerCase(),o=s.name.toLowerCase();break;case"dateMet":i=new Date(r.dateMet).getTime(),o=new Date(s.dateMet).getTime();break;case"createdAt":i=new Date(r.createdAt).getTime(),o=new Date(s.createdAt).getTime();break;case"updatedAt":i=new Date(r.updatedAt??r.createdAt).getTime(),o=new Date(s.updatedAt??s.createdAt).getTime();break;case"favorite":i=r.favorite?0:1,o=s.favorite?0:1;break;default:i=r.name.toLowerCase(),o=s.name.toLowerCase()}return i<o?n?-1:1:i>o?n?1:-1:0})}function Eg(e,t){const n=t.filter(r=>r.venueId===e.id).map(r=>new Date(r.updatedAt??r.createdAt).getTime());return n.length?Math.max(...n):0}function KR(e,t,n,r=!0){return[...e].sort((s,i)=>{let o,a;switch(n){case"name":o=s.name.toLowerCase(),a=i.name.toLowerCase();break;case"recentVisit":o=Eg(s,t),a=Eg(i,t);break;case"knownCount":o=t.filter(l=>l.venueId===s.id).length,a=t.filter(l=>l.venueId===i.id).length;break;default:o=s.name.toLowerCase(),a=i.name.toLowerCase()}return o<a?r?-1:1:o>a?r?1:-1:0})}function GR(e,t,n,r,s=!0){const{venues:i}=kl(),{getTagNameById:o}=nh(),a=x.useMemo(()=>Object.fromEntries(i.map(l=>[l.id,l.name])),[i]);return x.useMemo(()=>{const l=t.trim().toLowerCase();let c=e;return l&&(c=c.filter(u=>{var y;const f=zR(u,t,o),p=(u.venueId?(y=a[u.venueId])==null?void 0:y.toLowerCase():"").includes(l);return f||p})),c=c.filter(u=>HR(u,n)),WR(c,r,s)},[e,t,n,r,s,a])}function qR(e,t,n="recentVisit",r=!1){return x.useMemo(()=>KR(e,t,n,r),[e,t,n,r])}function YR(e="",t=[],n="updatedAt-desc"){const[r,s]=x.useState(e),[i,o]=x.useState(t),[a,l]=x.useState(n);return{searchQuery:r,setSearchQuery:s,activeTags:i,setActiveTags:o,personSort:a,setPersonSort:l}}const XR={success:{label:"Success",icon:d.jsx(pM,{size:18}),badgeBg:"bg-[var(--color-success)]/15",iconColor:"text-[var(--color-success)]",accentBorder:"border-[var(--color-success)]/30",animation:"glow"},info:{label:"Heads up",icon:d.jsx(TM,{size:18}),badgeBg:"bg-[var(--color-info)]/15",iconColor:"text-[var(--color-info)]",accentBorder:"border-[var(--color-info)]/30",animation:"wave"},error:{label:"Oops",icon:d.jsx(ew,{size:18}),badgeBg:"bg-[var(--color-error)]/15",iconColor:"text-[var(--color-error)]",accentBorder:"border-[var(--color-error)]/30",animation:"pulse"}};function ZR({message:e,type:t="success",onDismiss:n,meta:r={}}){if(t==="celebration")return d.jsx(Y.div,{initial:{opacity:0,y:40,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.4,ease:"easeOut"},role:"status","aria-live":"polite",children:d.jsxs("div",{className:"celebration-toast relative pointer-events-auto rounded-3xl px-5 py-4 shadow-[0_20px_45px_rgba(168,85,247,0.35)] bg-[var(--color-accent)] text-white overflow-hidden w-full max-w-sm ml-auto border border-white/30",children:[d.jsx(Y.div,{className:"absolute inset-0 bg-white/15",initial:{opacity:0,scale:.8},animate:{opacity:[0,.35,0],scale:[.8,1.4,1.7]},transition:{duration:.9,ease:"easeOut"}}),d.jsxs("div",{className:"relative flex items-start gap-4",children:[d.jsx(Y.div,{className:"h-11 w-11 rounded-2xl bg-white/25 flex items-center justify-center shadow-lg",initial:{scale:.8,rotate:-10},animate:{scale:1,rotate:0},transition:{duration:.45,ease:"easeOut"},children:d.jsx("svg",{viewBox:"0 0 32 32",className:"h-6 w-6 text-white",fill:"currentColor",children:d.jsx("path",{d:"M16 3l3.09 6.26L26 10.27l-5 4.87L22.18 22 16 18.27 9.82 22 11 15.14 6 10.27l6.91-1.01L16 3z"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/80",children:"Achievement"}),d.jsx("p",{className:"text-lg font-semibold leading-snug",children:e}),d.jsx("p",{className:"text-sm text-white/80 mt-1",children:typeof(r==null?void 0:r.description)=="string"?r.description:"Keep goingyoure on a streak."})]})]})]})});const s=XR[t];return d.jsx(Y.div,{initial:{opacity:0,y:20,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.96},transition:{duration:.25,ease:"easeOut"},className:"pointer-events-auto",role:"status","aria-live":"polite",children:d.jsxs("div",{className:`relative pointer-events-auto rounded-3xl px-5 py-4 flex items-start gap-3 border backdrop-blur-xl shadow-[0_18px_36px_rgba(15,23,42,0.25)] bg-[var(--color-surface)]/95 ${s.accentBorder}`,children:[n&&d.jsx("button",{type:"button",className:"absolute -top-2 -right-2 h-7 w-7 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center","aria-label":"Dismiss notification",onClick:i=>{i.stopPropagation(),n()},children:""}),d.jsxs(Y.div,{className:`relative h-9 w-9 rounded-2xl flex items-center justify-center shadow-level1/40 overflow-hidden ${s.badgeBg} ${s.iconColor}`,initial:{scale:.85},animate:{scale:1,rotate:s.animation==="wave"?[0,-6,6,0]:[0,-4,0]},transition:{duration:.45,ease:"easeOut"},children:[s.animation==="glow"&&d.jsx(Y.div,{className:"absolute inset-0 rounded-2xl bg-white/30",initial:{opacity:0,scale:.6},animate:{opacity:[0,.8,0],scale:[.6,1.1,1.4]},transition:{duration:.7,ease:"easeOut"}}),s.animation==="pulse"&&d.jsx(Y.div,{className:"absolute inset-0 rounded-2xl border-2 border-white/30",initial:{opacity:0,scale:.9},animate:{opacity:[.2,.8,0],scale:[.9,1.05,1.25]},transition:{duration:.45,ease:"easeOut"}}),s.animation==="wave"&&d.jsx(Y.span,{className:"absolute inset-0 bg-white/20",style:{transformOrigin:"left center"},initial:{opacity:0,scaleX:0},animate:{opacity:[0,.6,0],scaleX:[0,1,1.2],x:[0,4,6]},transition:{duration:.7,ease:"easeInOut"}}),s.icon]}),d.jsxs("div",{className:"flex-1 text-[var(--color-text-primary)]",children:[d.jsx("p",{className:"text-sm font-semibold leading-tight opacity-80",children:s.label}),d.jsx("p",{className:"text-sm text-[var(--color-text-primary)] mt-0.5 leading-snug",children:e})]})]})})}const nw=x.createContext({theme:"light",setTheme:()=>{}}),QR=({children:e})=>{const t=()=>{if(typeof window>"u")return"light";const o=localStorage.getItem("theme");return o&&["light","coral","midnight","pink","emerald"].includes(o)?o:window.matchMedia("(prefers-color-scheme: dark)").matches?"midnight":"light"},[n,r]=x.useState(()=>t()),{trackEvent:s}=Hr(),i=x.useCallback(o=>{o!==n&&(r(o),s("theme_changed",{theme:o}))},[n,s]);return x.useEffect(()=>{document.documentElement.setAttribute("data-theme",n);try{localStorage.setItem("theme",n)}catch{}},[n]),d.jsx(nw.Provider,{value:{theme:n,setTheme:i},children:e})},rd=1,Cg=2*1024*1024,Ig=2e3,Pg=500,Ag=500,Ng=512,vo=e=>typeof e=="object"&&e!==null,Ac=e=>typeof e=="string"&&!Number.isNaN(Date.parse(e)),Nr=e=>e.length>Ng?e.slice(0,Ng):e,JR=e=>{if(!vo(e))return;const{lat:t,lon:n}=e;return typeof t=="number"&&typeof n=="number"?{lat:t,lon:n}:void 0};function ej(e){if(!Array.isArray(e))throw new Error("People data missing or malformed.");if(e.length>Ig)throw new Error(`Backup has too many people (max ${Ig}).`);return e.map((t,n)=>{if(!vo(t))throw new Error(`Person entry #${n+1} is invalid.`);const r=typeof t.name=="string"?Nr(t.name.trim()):"";if(!r)throw new Error(`Person entry #${n+1} is missing a name.`);const s=typeof t.id=="string"&&t.id.trim()?t.id:crypto.randomUUID(),i=Ac(t.dateMet)?t.dateMet:new Date().toISOString(),o=Ac(t.createdAt)?t.createdAt:i,a=Ac(t.updatedAt)?t.updatedAt:void 0,l=Array.isArray(t.tags)?t.tags.filter(c=>typeof c=="string"&&c.trim().length>0):[];return{id:s,name:r,position:typeof t.position=="string"?Nr(t.position):void 0,description:typeof t.description=="string"?Nr(t.description):void 0,venueId:typeof t.venueId=="string"?t.venueId:void 0,dateMet:i,createdAt:o,updatedAt:a,tags:l,favorite:!!t.favorite,proximityAlertsEnabled:t.proximityAlertsEnabled!==!1}})}function tj(e){if(!Array.isArray(e))throw new Error("Venue data missing or malformed.");if(e.length>Pg)throw new Error(`Backup has too many venues (max ${Pg}).`);return e.map((t,n)=>{if(!vo(t))throw new Error(`Venue entry #${n+1} is invalid.`);const r=typeof t.name=="string"?Nr(t.name.trim()):"";if(!r)throw new Error(`Venue entry #${n+1} is missing a name.`);return{id:typeof t.id=="string"&&t.id.trim()?t.id:crypto.randomUUID(),name:r,locationTag:typeof t.locationTag=="string"?Nr(t.locationTag):void 0,coords:JR(t.coords),favorite:!!t.favorite,proximityAlertsEnabled:t.proximityAlertsEnabled!==!1}})}function nj(e){if(!Array.isArray(e))throw new Error("Tag data missing or malformed.");if(e.length>Ag)throw new Error(`Backup has too many tags (max ${Ag}).`);return e.map((t,n)=>{if(!vo(t))throw new Error(`Tag entry #${n+1} is invalid.`);const r=typeof t.id=="string"&&t.id.trim()?t.id:crypto.randomUUID(),s=typeof t.name=="string"?Nr(t.name.trim()):"";if(!s)throw new Error(`Tag entry #${n+1} is missing a name.`);const i=typeof t.count=="number"&&t.count>=0?t.count:0,o=typeof t.lastUsed=="number"&&t.lastUsed>=0?t.lastUsed:Date.now();return{id:r,name:s,count:i,lastUsed:o}})}const rj=(e,t)=>{if(!Array.isArray(e))return[];const n=new Set(t.map(s=>s.name)),r=new Set;return e.filter(s=>typeof s=="string"&&s.trim().length>0).map(s=>Nr(s.trim())).filter(s=>!n.has(s)||r.has(s)?!1:(r.add(s),!0))};function sj(e){let t;try{t=JSON.parse(e)}catch{throw new Error("The selected file is not valid JSON.")}if(!vo(t))throw new Error("Backup payload is malformed.");const n=typeof t.version=="number"?t.version:rd;if(n>rd)throw new Error("This backup was created by a newer app version.");const r=tj(t.venues);return{version:n,exportedAt:typeof t.exportedAt=="string"?t.exportedAt:new Date().toISOString(),people:ej(t.people),venues:r,tags:nj(t.tags),favoriteVenues:rj(t.favoriteVenues,r)}}function ij(e,t){const{people:n,replacePeople:r}=G1(),{tags:s,replaceTags:i}=nh(),{venues:o,replaceVenues:a}=kl(),{showNotification:l}=Hs(),c=x.useCallback(()=>{try{const f={version:rd,exportedAt:new Date().toISOString(),people:n,venues:o,tags:s,favoriteVenues:e},h=JSON.stringify(f,null,2),p=new Blob([h],{type:"application/json"}),y=URL.createObjectURL(p),w=document.createElement("a");w.href=y,w.download=`remember-me-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(y),l("Backup downloaded.","success")}catch(f){console.error(f),l("Unable to export data.","error")}},[e,n,l,s,o]),u=x.useCallback(async f=>{if(f.size>Cg){const p=(Cg/1048576).toFixed(1),y=new Error(`Backup file is too large (max ${p} MB).`);throw l(y.message,"error"),y}const h=await f.text();try{const p=sj(h),y={people:[...n],venues:[...o],tags:[...s],favorites:[...e]};try{r(p.people),a(p.venues),i(p.tags),t(p.favoriteVenues)}catch(w){throw r(y.people),a(y.venues),i(y.tags),t(y.favorites),w}return l("Backup imported successfully.","success"),p}catch(p){throw console.error(p),l(p instanceof Error?p.message:"Import failed.","error"),p}},[e,n,r,i,a,t,l,s,o]);return{exportBackup:c,importBackupFromFile:u}}const oj={}.VITE_APP_VERSION||"0.0.0",aj=[{key:"light",name:"Light",description:"Soft gradient background, bright surfaces.",icon:d.jsx(BM,{size:16})},{key:"coral",name:"Coral",description:"Warm tones inspired by sunsets.",icon:d.jsx(Q1,{size:16})},{key:"pink",name:"Pink Pop",description:"Playful blush palette with vibrant accents.",icon:d.jsx(rh,{size:16})},{key:"emerald",name:"Emerald",description:"Fresh glass greens with lush accents.",icon:d.jsx(EM,{size:16})},{key:"midnight",name:"Midnight",description:"Moody dark mode for late-night sessions.",icon:d.jsx(NM,{size:16})}];function lj({open:e,onClose:t,favoriteVenues:n,setFavoriteVenues:r,onResetData:s,onResetApp:i,onClearAchievements:o,proximityEnabled:a,onToggleProximity:l,proximitySupported:c}){const{theme:u,setTheme:f}=x.useContext(nw),{exportBackup:h,importBackupFromFile:p}=ij(n,r),[y,w]=x.useState(!1),[b,m]=x.useState(!1),[g,v]=x.useState(mR()),S=x.useRef(null),k=()=>{w(!0);try{h()}finally{w(!1)}},_=async()=>{const E=!g;v(E),gR(E),E&&await J(H.Light)},C=()=>{var E;(E=S.current)==null||E.click()},T=async E=>{var V;const I=(V=E.target.files)==null?void 0:V[0];if(I){m(!0);try{await p(I)}finally{m(!1),E.target.value=""}}};return d.jsx(vn,{children:e&&d.jsx(Y.div,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,style:{paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(Y.div,{className:"glass-panel w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:E=>E.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 z-10 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:E=>{E.stopPropagation(),J(H.Light),t()},"aria-label":"Close settings",children:d.jsx(Tl,{size:16})}),d.jsxs("div",{className:"overflow-y-auto px-6 pb-6 pt-6 space-y-5",style:{scrollbarGutter:"stable"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-level1",children:d.jsx(J1,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Personalize"}),d.jsx("h3",{className:"text-xl font-semibold text-[var(--color-text-primary)]",children:"Settings"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Tune the theme, data tools, and notifications."})]})]}),d.jsxs("section",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Q1,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Theme"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Pick the palette that suits your vibe."})]})]}),d.jsx("div",{className:"grid gap-3 mt-1.5",children:aj.map(E=>{const I=E.key===u;return d.jsxs("button",{onClick:async()=>{await J(I?H.Light:H.Medium),f(E.key)},className:`relative overflow-hidden w-full text-left px-4 py-3 rounded-2xl border transition flex items-start gap-3 ${I?"border-[color:var(--color-accent)] bg-[color:var(--color-accent-muted)] text-[var(--color-accent)] shadow-[0_12px_30px_rgba(15,23,42,0.18)]":"border-[color:var(--color-card-border)] bg-[var(--color-card)] text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90"}`,children:[I&&d.jsx(Y.span,{className:"absolute inset-0 rounded-2xl pointer-events-none bg-gradient-to-r from-white/50 via-white/10 to-transparent",initial:{opacity:0,x:-80},animate:{opacity:[0,.7,0],x:[-80,80]},transition:{duration:.6}}),d.jsx(Y.div,{animate:I?{rotate:[0,-8,0],scale:[1,1.1,1]}:{rotate:0,scale:1},transition:{duration:.35},className:"mt-0.5",children:E.icon}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:E.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:E.description})]})]},E.key)})})]}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 50%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-accent)]",children:[d.jsx(Ar,{size:20,strokeWidth:2.3}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Proximity alerts"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Get a notification when youre near saved venues. iOS will ask for Always Allow so alerts keep working when MetHere is in the background."})]})]}),d.jsxs("button",{type:"button",onClick:c?l:void 0,disabled:!c,className:"w-full flex items-center justify-between rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-left hover:bg-[var(--color-card)]/90 transition disabled:opacity-60 disabled:cursor-not-allowed",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:c?a?"Enabled":"Disabled":"Unavailable"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:c?a?"Tap to pause alerts.":"Tap to enable alerts.":"Requires the iOS app."})]}),d.jsx("span",{className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${a&&c?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${a&&c?"translate-x-6":"translate-x-1"}`})})]})]}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 50%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(aR,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Haptic feedback"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Feel a subtle tap on key actions."})]})]}),d.jsxs("button",{type:"button",onClick:_,className:"w-full flex items-center justify-between rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-left hover:bg-[var(--color-card)]/90 transition",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:g?"Enabled":"Disabled"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:g?"Tap to mute haptics.":"Tap to enable haptics."})]}),d.jsx("span",{className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${g?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${g?"translate-x-6":"translate-x-1"}`})})]})]}),d.jsxs("section",{className:"space-y-2 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(vM,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Data backup"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Export or import all venues, people, and tags when you switch devices."})]})]}),d.jsxs("div",{className:"space-y-3 mt-1.5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsx("div",{children:d.jsx("span",{className:"text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-[var(--color-accent-muted)] text-[var(--color-accent)]",children:"Premium"})}),d.jsx(IM,{size:16,className:"text-[var(--color-accent)]"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("button",{onClick:async()=>{await J(H.Light),k()},disabled:y,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[color:var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90 disabled:opacity-60",children:[d.jsx(wM,{size:16}),y?"Exporting":"Export JSON"]}),d.jsxs("button",{onClick:async()=>{await J(H.Light),C()},disabled:b,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[var(--color-accent)] text-[var(--color-accent)] px-4 py-3 text-sm font-semibold hover:bg-[var(--color-accent-muted)] disabled:opacity-60",children:[d.jsx(XM,{size:16}),b?"Importing":"Import JSON"]})]}),d.jsx("input",{ref:S,type:"file",accept:"application/json",className:"hidden",onChange:T})]})]}),d.jsxs("section",{className:"space-y-2 border-t border-[var(--color-accent)]/60 pt-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(cR,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Data tools"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Quickly restore sample data or clear achievements."})]})]}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)]/95 space-y-3 shadow-level1/40 mt-1.5",children:[d.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[d.jsx("button",{onClick:async()=>{await J(H.Light),s()},className:"px-4 py-3 rounded-2xl border border-[color:var(--color-card-border)] bg-[var(--color-card)] text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90 transition",children:"Reset sample data"}),d.jsx("button",{onClick:async()=>{await J(H.Light),o()},className:"px-4 py-3 rounded-2xl border border-[var(--color-accent)] text-[var(--color-accent)] text-sm font-semibold hover:bg-[var(--color-accent-muted)] transition",children:"Clear achievements"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:async()=>{await J(H.Heavy),i()},className:"w-full px-4 py-3 rounded-2xl border border-red-200/60 bg-red-500/10 text-sm font-semibold text-red-500 hover:bg-red-500/15 transition",children:"Reset app (blank state)"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Removes all venues, people, favourites, tags, and achievements to mimic a first-time install."})]})]})]}),d.jsxs("section",{className:"space-y-2 border-t border-white/40 pt-4 text-[var(--color-text-secondary)]",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide",children:"About"}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)]/95 text-xs space-y-1 shadow-level1/40 mt-1.5",children:[d.jsxs("p",{children:["Version v",oj,"  Made by Era One"]}),d.jsxs("div",{className:"flex gap-4 text-[var(--color-text-secondary)]",children:[d.jsx("button",{className:"underline-offset-2 hover:underline",type:"button",children:"Privacy"}),d.jsx("button",{className:"underline-offset-2 hover:underline",type:"button",children:"Terms"})]})]})]})]})]})})})}const cj="/assets/MetHere-pin-79f5f724.svg",uj={people:d.jsx(sh,{size:16}),venues:d.jsx(Ar,{size:16}),tags:d.jsx(Ci,{size:16}),favorites:d.jsx(bl,{size:16})},Mg={people:{label:"People",icon:d.jsx(sh,{size:14})},venues:{label:"Venues",icon:d.jsx(Ar,{size:14})},tags:{label:"Tags",icon:d.jsx(Ci,{size:14})},favorites:{label:"Favourites",icon:d.jsx(bl,{size:14})}};function dj({open:e,onClose:t,achievements:n,stats:r,insights:s}){const[i,o]=x.useState({people:!1,venues:!1,tags:!1,favorites:!1}),a=n.reduce((c,u)=>(c[u.type]||(c[u.type]=[]),c[u.type].push(u),c),{}),l=c=>{o(u=>({...u,[c]:!u[c]}))};return d.jsx(vn,{children:e&&d.jsx(Y.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,style:{paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(Y.div,{className:"glass-panel w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:c=>c.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 z-10 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:async c=>{c.stopPropagation(),await J(H.Light),t()},"aria-label":"Close profile",children:d.jsx(Tl,{size:16})}),d.jsxs("div",{className:"overflow-y-auto px-6 pb-6 pt-6 space-y-6",style:{scrollbarGutter:"stable"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[var(--color-accent-muted)] flex items-center justify-center shadow-level1",children:d.jsx("img",{src:cj,alt:"MetHere badge",className:"h-7 w-7"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Your Profile"}),d.jsx("h2",{className:"text-2xl font-semibold text-[var(--color-text-primary)] leading-tight",children:"Insights"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Lifetime overview of your connections"})]})]}),d.jsx("div",{className:"grid grid-cols-2 gap-2.5 text-center",children:[{label:"People tracked",value:r.peopleCount,icon:d.jsx(sh,{size:16,className:"text-[var(--color-accent)]"})},{label:"Venues logged",value:r.venuesWithPeople,icon:d.jsx(Ar,{size:16,className:"text-[var(--color-accent)]"})},{label:"Tags applied",value:r.uniqueTagCount,icon:d.jsx(Ci,{size:16,className:"text-[var(--color-accent)]"})},{label:"Regions pinned",value:s.regionCount??0,icon:d.jsx(Pc,{size:16,className:"text-[var(--color-accent)]"})}].map(c=>d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 shadow-level1 flex flex-col items-center gap-1.5",children:[d.jsx("div",{className:"h-7 w-7 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-level1/40",children:c.icon}),d.jsx("p",{className:"text-xl font-semibold text-[var(--color-text-primary)]",children:c.value}),d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:c.label})]},c.label))}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(GM,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold",children:"Usage Insights"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Quick highlights from your recent activity."})]})]}),d.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.topVenue?d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Ar,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top venue"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.topVenue.name}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[s.topVenue.count," people logged"]})]})]}):d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Ar,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top venue"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No venue data yet."})]})]}),s.topRegion?d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Pc,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Most active region"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.topRegion.name}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[s.topRegion.count," people logged here"]})]})]}):d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Pc,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Most active region"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Add map pins to unlock this insight."})]})]}),s.topTag?d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Ci,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top tag"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)] capitalize",children:s.topTag.name}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[s.topTag.count," mentions"]})]})]}):d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Ci,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top tag"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No tag usage yet."})]})]}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left flex items-center gap-3 shadow-level1",children:[d.jsx(rh,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Favourite people"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.favoritesCount})]})]}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left flex items-center gap-3 shadow-level1",children:[d.jsx(gM,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Last interaction"}),s.lastInteraction?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.lastInteraction.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:new Date(s.lastInteraction.date).toLocaleDateString()})]}):d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No recent meetings yet."})]})]})]})]}),d.jsxs("section",{className:"space-y-2 pb-2 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(lM,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold",children:"Achievements"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Unlock milestones as you connect with more people."})]})]}),d.jsx("div",{className:"space-y-2",children:Object.keys(Mg).map(c=>{const u=a[c]??[];if(u.length===0)return null;const f=i[c],h=Mg[c],p=u.find(y=>!y.unlocked);return d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] shadow-level1",children:[d.jsxs("button",{onClick:()=>l(c),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--color-text-primary)]",children:[h.icon,d.jsx("span",{children:h.label})]}),p?d.jsxs("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:["Next: ",p.title,"  ",p.current,"/",p.target]}):d.jsx("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:"All achievements unlocked"})]}),d.jsx(Z1,{size:16,className:`transition-transform ${f?"rotate-180":"rotate-0"}`})]}),d.jsx("div",{className:`overflow-hidden transition-[max-height,opacity] duration-300 ${f?"max-h-[800px] opacity-100":"max-h-0 opacity-0"}`,children:d.jsx("div",{className:"px-3 pb-3 space-y-2",children:u.map(y=>d.jsxs("div",{className:`rounded-xl px-3 py-2 transition relative border ${y.unlocked?"border-[var(--color-accent)] bg-[var(--color-accent-muted)]/70":"border-[var(--color-card-border)] bg-[var(--color-card)]/85"}`,children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"h-9 w-9 rounded-2xl flex items-center justify-center border border-[var(--color-card-border)] text-[var(--color-text-primary)]",children:uj[y.type]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("p",{className:"font-semibold text-sm text-[var(--color-text-primary)]",children:y.title}),!y.unlocked&&d.jsxs("span",{className:"text-[11px] font-semibold text-[var(--color-text-secondary)]",children:[y.current,"/",y.target]})]}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:y.description}),y.unlocked&&y.unlockedAt&&d.jsx("p",{className:"text-[10px] uppercase tracking-wide text-[var(--color-text-secondary)] mt-1",children:new Date(y.unlockedAt).toLocaleDateString()}),!y.unlocked&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"h-1.5 rounded-full overflow-hidden bg-[var(--color-card-border)]/60",children:d.jsx("div",{className:"h-full bg-[var(--color-accent-muted)]",style:{width:`${Math.round(y.progress*100)}%`}})})})]})]}),y.unlocked&&d.jsx("div",{className:"absolute top-2 right-2 h-5 w-5 rounded-full bg-gradient-to-br from-[#FBBF24] to-[#F59E0B] text-white flex items-center justify-center shadow",children:d.jsx(X1,{size:12})})]},y.id))})})]},c)})})]})]})]})})})}const rw="rememberme:proximity-alerts-enabled";let ih=!0;const fj=()=>{if(!(typeof window>"u"))try{const e=window.localStorage.getItem(rw);e!==null&&(ih=e==="true")}catch(e){console.warn("Unable to read proximity preference",e)}};fj();const sd=()=>ih,Nc=e=>{if(ih=e,typeof window<"u")try{window.localStorage.setItem(rw,String(e))}catch(t){console.warn("Unable to persist proximity preference",t)}};var Rg;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(Rg||(Rg={}));const sw=Tn("LocalNotifications",{web:()=>gl(()=>import("./web-da07af69.js"),[]).then(e=>new e.LocalNotificationsWeb)});class hj extends fo{async requestPermissions(){return{location:"denied",notifications:"denied"}}async startMonitoring(){console.warn("GeofenceBridge: startMonitoring is only available on native platforms.")}async stopMonitoring(){}async openSettings(){}addListener(){return Promise.resolve({remove:async()=>{}})}}const to=Tn("GeofenceBridge",{web:()=>Promise.resolve(new hj)}),oh=ht.isNativePlatform(),pj=30*60*1e3;let zn=null;const Mc={};let ah=[];const mj=async e=>{var l,c;const t=ah.find(u=>u.id===e);if(!t)return;const n=Date.now();if(Mc[e]&&n-Mc[e]<pj)return;const r=((l=t.proximityMeta)==null?void 0:l.totalPeople)??0,s=((c=t.proximityMeta)==null?void 0:c.favoriteNames)??[],i=r>0?`You know ${r} ${r===1?"person":"people"} here.`:"You haven't logged anyone here yet.";let o="";if(s.length>0){const u=s.slice(0,2).join(", "),f=s.length-2;o=s.length>2?` Favorites: ${u} +${f} more.`:` Favorites: ${u}.`}const a=`You're near ${t.name}.`;await sw.schedule({notifications:[{title:"Nearby venue",body:`${a} ${i}${o}`.trim(),id:Number.parseInt(e.replace(/\D/g,"").slice(-6),10)||Date.now()}]}),Mc[e]=n,un("proximity_notification_sent",{venue_id:e,total_people:r,favorite_count:s.length})},gj=async()=>{zn==null||zn.remove(),zn=await to.addListener("regionEnter",async e=>{sd()&&(un("proximity_region_enter",{venue_id:e.id}),await mj(e.id))})},yj=async e=>{if(ah=e,!oh)return{ok:!1,error:"Proximity alerts are only available on device."};try{const t=await to.requestPermissions();if(un("proximity_permission_checked",{scope:"location",status:t.location}),t.location!=="granted")return{ok:!1,error:"Location access is required to enable proximity alerts."};const n=await sw.requestPermissions();if(un("proximity_permission_checked",{scope:"notifications",status:n.display}),n.display!=="granted")return{ok:!1,error:"Notifications are disabled. Enable them in Settings."};await gj();const r=e.filter(s=>s.coords&&s.proximityAlertsEnabled!==!1).map(s=>({id:s.id,lat:s.coords.lat,lon:s.coords.lon,name:s.name}));return await to.startMonitoring({venues:r}),un("proximity_monitoring_update",{action:"start",venue_count:r.length}),{ok:!0}}catch(t){return console.warn("Unable to start proximity alerts",t),un("proximity_monitoring_error",{stage:"start",message:typeof(t==null?void 0:t.message)=="string"?t.message:"unknown"}),{ok:!1,error:"Unable to start proximity alerts right now."}}},jg=async()=>{if(zn==null||zn.remove(),zn=null,!!oh)try{await to.stopMonitoring()}catch(e){console.warn("Unable to stop geofence monitoring",e)}},vj=async e=>{if(ah=e,!!oh)try{const t=e.filter(n=>n.coords&&n.proximityAlertsEnabled!==!1).map(n=>({id:n.id,lat:n.coords.lat,lon:n.coords.lon,name:n.name}));await to.startMonitoring({venues:t}),un("proximity_monitoring_update",{action:"refresh",venue_count:t.length})}catch(t){console.warn("Unable to refresh geofence monitoring",t),un("proximity_monitoring_error",{stage:"refresh",message:typeof(t==null?void 0:t.message)=="string"?t.message:"unknown"})}},xj=12;function wj(){const e=ht.isNativePlatform(),{tags:t,createTag:n,getTagIdByName:r,getTagNameById:s,replaceTags:i}=nh(),[o,a]=x.useState({}),{people:l,addPerson:c,updatePerson:u,deletePerson:f,replacePeople:h}=G1(),[p,y]=JN("favoriteVenues"),[w,b]=x.useState(null),[m,g]=x.useState(null),[v,S]=x.useState(!1),[k,_]=x.useState(!1),[C,T]=x.useState(!1),[E,I]=x.useState(null),[V,ne]=x.useState(()=>e&&sd()),[le,Ie]=x.useState("recentVisit"),[_e,ct]=x.useState("desc"),[z,N]=x.useState("all"),[D,F]=x.useState(null);x.useEffect(()=>{let A=!1,O=null;return(async()=>{try{await ps.requestPermissions();const U=await ps.getCurrentPosition();A||F({lat:U.coords.latitude,lon:U.coords.longitude}),O=await ps.watchPosition({enableHighAccuracy:!1,distanceFilter:500},(Z,Q)=>{Q||!Z||A||F({lat:Z.coords.latitude,lon:Z.coords.longitude})})}catch(U){console.warn("Unable to fetch current location",U)}})(),()=>{A=!0,O&&ps.clearWatch({id:O})}},[]);const{toasts:ee,showNotification:W,dismissToast:ut}=Hs(),{searchQuery:Ee,setSearchQuery:Je,activeTags:xe,setActiveTags:dt,personSort:cr,setPersonSort:Wr}=YR(),ur=x.useDeferredValue(Ee),{trackEvent:et}=Hr(),{venues:$t,replaceVenues:Kr}=kl(),tt=x.useMemo(()=>Object.fromEntries($t.map(A=>[A.id,A])),[$t]),Bt=x.useMemo(()=>$t.map(A=>{if(!A.id)return A;const O=l.filter(U=>U.venueId===A.id),L=O.filter(U=>U.favorite).map(U=>U.name);return{...A,proximityMeta:{totalPeople:O.length,favoriteNames:L}}}),[$t,l]),M=x.useMemo(()=>{if(!D)return Bt;const A=Q=>Q*Math.PI/180,O=6371e3,U=Bt.filter(Q=>Q.coords).map(Q=>{const nt=A(Q.coords.lat-D.lat),qr=A(Q.coords.lon-D.lon),In=Math.sin(nt/2)**2+Math.cos(A(D.lat))*Math.cos(A(Q.coords.lat))*Math.sin(qr/2)**2,fr=2*Math.atan2(Math.sqrt(In),Math.sqrt(1-In)),Pl=O*fr;return{venue:Q,distance:Pl}}).sort((Q,nt)=>Q.distance-nt.distance).slice(0,xj).map(Q=>Q.venue),Z=Bt.filter(Q=>!Q.coords);return[...U,...Z]},[Bt,D]),K=x.useMemo(()=>{if(!D)return{};const A=L=>L*Math.PI/180,O=6371e3;return Bt.reduce((L,U)=>{if(!U.coords)return L;const Z=A(U.coords.lat-D.lat),Q=A(U.coords.lon-D.lon),nt=Math.sin(Z/2)**2+Math.cos(A(D.lat))*Math.cos(A(U.coords.lat))*Math.sin(Q/2)**2,qr=2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt)),In=O*qr,fr=In<1e3?`${Math.round(In)} m away`:`${(In/1e3).toFixed(1)} km away`;return L[U.name]=fr,L},{})},[Bt,D]),[te,ie]=cr.split("-"),_n=GR(l,ur,xe,te,ie==="asc");x.useEffect(()=>{const A=Ee.trim();if(!A)return;const O=window.setTimeout(()=>{et("search_used",{query_length:A.length,results:_n.length})},500);return()=>window.clearTimeout(O)},[Ee,_n.length,et]);const Gs=A=>{a(O=>{const L=O[A]??!1;return{...O,[A]:!L}})},qs=(A,O)=>{g({id:A,name:O})},xo=()=>{if(!window.confirm("Reset to sample data? This will overwrite all people, venues, tags, and favourites."))return;const A=Ex.map(U=>({...U,tags:U.tags?[...U.tags]:[]})),O=we.map(U=>({...U,coords:U.coords?{...U.coords}:void 0})),L=_x.map(U=>({...U}));h(A),Kr(O),i(L),y([]),W("App data reset to sample set.","info")},En=()=>{window.confirm("Reset app to a blank state? This will permanently remove all people, venues, tags, favourites, and achievements.")&&(h([]),Kr([]),i([]),y([]),So(),W("App reset to a blank state.","info"))},El=async()=>{if(!e){W("Proximity alerts are only available in the iOS app.","info");return}const A=!V;Nc(A),ne(A),et("proximity_toggle",{enabled:A})},Cn=()=>{window.confirm("Clear achievement progress? Existing milestones will need to be re-earned.")&&(So(),W("Achievements cleared.","info"))},wo=ZN(_n,tt);x.useEffect(()=>{const A=Object.keys(l.reduce((O,L)=>{var Z;const U=L.venueId?((Z=tt[L.venueId])==null?void 0:Z.name)??Bn:Bn;return O[U]=!0,O},{}));a(O=>{const L={...O};return A.forEach(U=>{L[U]===void 0&&(L[U]=!0)}),L})},[l,tt]),x.useEffect(()=>{const A=k||C||v||w||m||E!==null;return document.body.style.overflow=A?"hidden":"auto",()=>{document.body.style.overflow="auto"}},[k,C,v,w,m,E]),x.useEffect(()=>{!e&&sd()&&(Nc(!1),ne(!1))},[e]),x.useEffect(()=>{let A=!1;if(!V||!e){jg();return}return(async()=>{const O=await yj(M);!A&&!O.ok&&(Nc(!1),ne(!1),W(O.error??"Unable to enable proximity alerts.","error"),et("proximity_error",{message:O.error??"unknown"})),!A&&O.ok&&et("proximity_started",{monitoredVenues:M.length})})(),()=>{A=!0,jg()}},[V,W,M,e]),x.useEffect(()=>{!V||!e||vj(M)},[M,V,e]);const At=qR($t,l,le,_e==="asc").map(A=>A.name).filter(A=>wo[A]),Gr=QN(At,p).favorites,Cl=z==="favs"?Gr:At,{achievements:Ys,stats:Il,resetAchievements:So}=tM(l,$t,p),R=A=>{if(!A)return{venue_name:"Unclassified",venue_type:"unclassified"};const O=tt[A];return O?{venue_name:O.name,venue_type:p.includes(O.name)?"favorite":"existing"}:{venue_name:"Custom Venue",venue_type:"new"}},ce=Wg.useRef(new Set);x.useEffect(()=>{const A=ce.current,O=new Set(A);Ys.forEach(L=>{L.unlocked&&!L.unlockedAt&&!A.has(L.id)&&(J(H.Heavy),et("achievement_unlocked",{id:L.id,type:L.type,title:L.title}),W(`Achievement unlocked: ${L.title}`,"celebration",{description:L.description}),O.add(L.id))}),ce.current=O},[Ys,W]);const Fe=x.useMemo(()=>{const A=oe=>{if(!oe)return null;const Ne=tt[oe],wt=Ne==null?void 0:Ne.locationTag;if(!wt)return null;const hr=wt.split(",").map(aw=>aw.trim()).filter(Boolean);return hr.length===0?null:hr.slice(-2).join(", ")||null},O=l.reduce((oe,Ne)=>{var hr;const wt=Ne.venueId?((hr=tt[Ne.venueId])==null?void 0:hr.name)??Bn:Bn;return oe[wt]=(oe[wt]||0)+1,oe},{}),L=Object.entries(O).sort((oe,Ne)=>Ne[1]-oe[1])[0],U=L?{name:L[0],count:L[1]}:void 0,Z=l.reduce((oe,Ne)=>{const wt=A(Ne.venueId);return wt&&(oe[wt]=(oe[wt]||0)+1),oe},{}),Q=Object.keys(Z).length,nt=Object.entries(Z).sort((oe,Ne)=>Ne[1]-oe[1])[0],qr=nt?{name:nt[0],count:nt[1]}:void 0,In=l.reduce((oe,Ne)=>{var wt;return(wt=Ne.tags)==null||wt.forEach(hr=>{const ko=s(hr);ko&&(oe[ko]=(oe[ko]||0)+1)}),oe},{}),fr=Object.entries(In).sort((oe,Ne)=>Ne[1]-oe[1])[0],Pl=fr?{name:fr[0],count:fr[1]}:void 0,iw=l.filter(oe=>oe.favorite).length,Al=[...l].filter(oe=>oe.dateMet).sort((oe,Ne)=>new Date(Ne.dateMet).getTime()-new Date(oe.dateMet).getTime())[0],ow=Al?{name:Al.name,date:Al.dateMet}:void 0;return{topVenue:U,topRegion:qr,topTag:Pl,favoritesCount:iw,lastInteraction:ow,regionCount:Q}},[l,tt,s]);return x.useEffect(()=>{const A=new Map;l.forEach(U=>{var Z;(Z=U.tags)==null||Z.forEach(Q=>{A.set(Q,(A.get(Q)??0)+1)})});const O=t.map(U=>{const Z=A.get(U.id)??0;return U.count!==Z?{...U,count:Z}:U});O.some((U,Z)=>U!==t[Z])&&i(O)},[l,t,i]),d.jsxs("div",{className:"flex flex-col min-h-screen bg-[var(--color-background)] text-[var(--color-text-primary)]",style:{paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:[d.jsx($R,{searchQuery:Ee,setSearchQuery:Je,activeTags:xe,setActiveTags:dt,venueSortKey:le,venueSortDir:_e,setVenueSortKey:Ie,setVenueSortDir:ct,personSort:cr,setPersonSort:Wr,onOpenSettings:()=>_(!0),onOpenProfile:()=>T(!0),getTagNameById:s,venueView:z,setVenueView:N,favoriteVenueCount:Gr.length,totalVenueCount:At.length,sortSheet:E,setSortSheet:I}),d.jsx("main",{className:"flex-1 pb-24 w-full",style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))"},children:d.jsxs("div",{className:"p-4 sm:p-6 md:p-8 lg:p-10 grid gap-4 md:gap-6 lg:gap-8 max-w-3xl lg:max-w-5xl mx-auto w-full",children:[d.jsx(DR,{showAdd:v,onAddCancel:()=>S(!1),onAdd:async A=>{var L;await J(H.Heavy),c(A),S(!1),W(`${A.name} added`,"success");const O=R(A.venueId);et("person_added",{...O,tags:((L=A.tags)==null?void 0:L.length)??0,favorite:!!A.favorite})},tags:t,people:l,getTagIdByName:r,getTagNameById:s,createTag:n,editingPerson:w,onEditCancel:()=>b(null),onEdit:async A=>{var L;await J(H.Heavy),u(A),b(null),W(`${A.name} updated`,"success");const O=R(A.venueId);et("person_updated",{id:A.id,...O,tags:((L=A.tags)==null?void 0:L.length)??0,favorite:!!A.favorite})},personToDelete:m,onDeleteCancel:()=>g(null),onDeleteConfirm:A=>{var Z;const O=(m==null?void 0:m.name)??"Person",L=l.find(Q=>Q.id===A),U=R(L==null?void 0:L.venueId);et("person_deleted",{id:A,...U,tags:((Z=L==null?void 0:L.tags)==null?void 0:Z.length)??0,favorite:(L==null?void 0:L.favorite)??!1}),f(A),g(null),W(`${O} deleted`,"info")}}),d.jsx(bR,{groupedPeople:wo,favoriteVenues:p,visibleVenueNames:Cl,viewMode:z,personSort:cr,activeTags:xe,setActiveTags:dt,getTagNameById:s,openGroups:o,toggleGroup:Gs,setFavoriteVenues:y,onEdit:b,onDelete:qs,onToggleFavorite:A=>{const O=l.find(L=>L.id===A);O&&u({...O,favorite:!O.favorite})},searchQuery:Ee,distanceLabels:K})]})}),d.jsx("button",{onClick:async()=>{await J(H.Light),S(!0)},className:"fixed sm:bottom-8 md:bottom-10 right-6 bg-[var(--color-accent)] text-white text-3xl rounded-full w-14 h-14 hover:brightness-110 transition z-40",style:{bottom:"calc(1.5rem + env(safe-area-inset-bottom))"},"aria-label":"Add Person",children:""}),d.jsx(lj,{open:k,onClose:()=>_(!1),favoriteVenues:p,setFavoriteVenues:y,onResetData:xo,onResetApp:En,onClearAchievements:Cn,proximityEnabled:V,onToggleProximity:El,proximitySupported:e}),d.jsx(dj,{open:C,onClose:()=>T(!1),achievements:Ys,stats:Il,insights:Fe}),d.jsx("div",{className:"fixed right-6 z-[120] flex flex-col gap-3 pointer-events-none",style:{bottom:"calc(6rem + env(safe-area-inset-bottom))"},children:d.jsx(vn,{children:ee.map(A=>d.jsx(ZR,{message:A.message,type:A.type,meta:A.meta,onDismiss:()=>ut(A.id)},A.id))})})]})}Rc.createRoot(document.getElementById("root")).render(d.jsx(Wg.StrictMode,{children:d.jsx(QR,{children:d.jsx(GN,{children:d.jsx(CE,{children:d.jsx(qN,{children:d.jsx(YN,{children:d.jsx(XN,{children:d.jsx(wj,{})})})})})})})}));export{Vm as C,H as I,kg as N,fo as W,Om as a,zP as b,_j as c,Ej as d,u1 as g,Kf as l,Tj as s};
