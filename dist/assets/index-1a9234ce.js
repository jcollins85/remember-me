(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function fw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $g={exports:{}},sl={},Bg={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=Symbol.for("react.element"),hw=Symbol.for("react.portal"),pw=Symbol.for("react.fragment"),mw=Symbol.for("react.strict_mode"),gw=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),vw=Symbol.for("react.context"),xw=Symbol.for("react.forward_ref"),ww=Symbol.for("react.suspense"),Sw=Symbol.for("react.memo"),bw=Symbol.for("react.lazy"),gh=Symbol.iterator;function kw(e){return e===null||typeof e!="object"?null:(e=gh&&e[gh]||e["@@iterator"],typeof e=="function"?e:null)}var zg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hg=Object.assign,Wg={};function Us(e,t,n){this.props=e,this.context=t,this.refs=Wg,this.updater=n||zg}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gg(){}Gg.prototype=Us.prototype;function fd(e,t,n){this.props=e,this.context=t,this.refs=Wg,this.updater=n||zg}var hd=fd.prototype=new Gg;hd.constructor=fd;Hg(hd,Us.prototype);hd.isPureReactComponent=!0;var yh=Array.isArray,Kg=Object.prototype.hasOwnProperty,pd={current:null},qg={key:!0,ref:!0,__self:!0,__source:!0};function Yg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Kg.call(t,r)&&!qg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:io,type:e,key:i,ref:o,props:s,_owner:pd.current}}function Tw(e,t){return{$$typeof:io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function md(e){return typeof e=="object"&&e!==null&&e.$$typeof===io}function _w(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vh=/\/+/g;function Ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_w(""+e.key):t.toString(36)}function Zo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case io:case hw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ul(o,0):r,yh(s)?(n="",e!=null&&(n=e.replace(vh,"$&/")+"/"),Zo(s,t,n,"",function(c){return c})):s!=null&&(md(s)&&(s=Tw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",yh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ul(i,a);o+=Zo(i,t,n,l,s)}else if(l=kw(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ul(i,a++),o+=Zo(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Eo(e,t,n){if(e==null)return e;var r=[],s=0;return Zo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ew(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},Qo={transition:null},Cw={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Qo,ReactCurrentOwner:pd};function Xg(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Eo,forEach:function(e,t,n){Eo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Eo(e,function(){t++}),t},toArray:function(e){return Eo(e,function(t){return t})||[]},only:function(e){if(!md(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Us;K.Fragment=pw;K.Profiler=gw;K.PureComponent=fd;K.StrictMode=mw;K.Suspense=ww;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cw;K.act=Xg;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Hg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=pd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Kg.call(t,l)&&!qg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:io,type:e.type,key:s,ref:i,props:r,_owner:o}};K.createContext=function(e){return e={$$typeof:vw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yw,_context:e},e.Consumer=e};K.createElement=Yg;K.createFactory=function(e){var t=Yg.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:xw,render:e}};K.isValidElement=md;K.lazy=function(e){return{$$typeof:bw,_payload:{_status:-1,_result:e},_init:Ew}};K.memo=function(e,t){return{$$typeof:Sw,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Qo.transition;Qo.transition={};try{e()}finally{Qo.transition=t}};K.unstable_act=Xg;K.useCallback=function(e,t){return et.current.useCallback(e,t)};K.useContext=function(e){return et.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return et.current.useDeferredValue(e)};K.useEffect=function(e,t){return et.current.useEffect(e,t)};K.useId=function(){return et.current.useId()};K.useImperativeHandle=function(e,t,n){return et.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return et.current.useMemo(e,t)};K.useReducer=function(e,t,n){return et.current.useReducer(e,t,n)};K.useRef=function(e){return et.current.useRef(e)};K.useState=function(e){return et.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return et.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return et.current.useTransition()};K.version="18.3.1";Bg.exports=K;var w=Bg.exports;const Zg=fw(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=w,Pw=Symbol.for("react.element"),Nw=Symbol.for("react.fragment"),Aw=Object.prototype.hasOwnProperty,Mw=Iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jw={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Aw.call(t,r)&&!jw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Pw,type:e,key:i,ref:o,props:s,_owner:Mw.current}}sl.Fragment=Nw;sl.jsx=Qg;sl.jsxs=Qg;$g.exports=sl;var d=$g.exports,Fc={},Jg={exports:{}},mt={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,P){var R=A.length;A.push(P);e:for(;0<R;){var W=R-1>>>1,X=A[W];if(0<s(X,P))A[W]=P,A[R]=X,R=W;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var P=A[0],R=A.pop();if(R!==P){A[0]=R;e:for(var W=0,X=A.length,Be=X>>>1;W<Be;){var oe=2*(W+1)-1,nt=A[oe],ze=oe+1,ae=A[ze];if(0>s(nt,R))ze<X&&0>s(ae,nt)?(A[W]=ae,A[ze]=R,W=ze):(A[W]=nt,A[oe]=R,W=oe);else if(ze<X&&0>s(ae,R))A[W]=ae,A[ze]=R,W=ze;else break e}}return P}function s(A,P){var R=A.sortIndex-P.sortIndex;return R!==0?R:A.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=A)r(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(c)}}function S(A){if(x=!1,y(A),!v)if(n(l)!==null)v=!0,de(k);else{var P=n(c);P!==null&&H(S,P.startTime-A)}}function k(A,P){v=!1,x&&(x=!1,m(T),T=-1),p=!0;var R=h;try{for(y(P),f=n(l);f!==null&&(!(f.expirationTime>P)||A&&!V());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var X=W(f.expirationTime<=P);P=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),y(P)}else r(l);f=n(l)}if(f!==null)var Be=!0;else{var oe=n(c);oe!==null&&H(S,oe.startTime-P),Be=!1}return Be}finally{f=null,h=R,p=!1}}var _=!1,E=null,T=-1,M=5,C=-1;function V(){return!(e.unstable_now()-C<M)}function Q(){if(E!==null){var A=e.unstable_now();C=A;var P=!0;try{P=E(!0,A)}finally{P?J():(_=!1,E=null)}}else _=!1}var J;if(typeof g=="function")J=function(){g(Q)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Ae=ue.port2;ue.port1.onmessage=Q,J=function(){Ae.postMessage(null)}}else J=function(){b(Q,0)};function de(A){E=A,_||(_=!0,J())}function H(A,P){T=b(function(){A(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,de(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var R=h;h=P;try{return A()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,P){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var R=h;h=A;try{return P()}finally{h=R}},e.unstable_scheduleCallback=function(A,P,R){var W=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,A){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=R+X,A={id:u++,callback:P,priorityLevel:A,startTime:R,expirationTime:X,sortIndex:-1},R>W?(A.sortIndex=R,t(c,A),n(l)===null&&A===n(c)&&(x?(m(T),T=-1):x=!0,H(S,R-W))):(A.sortIndex=X,t(l,A),v||p||(v=!0,de(k))),A},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(A){var P=h;return function(){var R=h;h=P;try{return A.apply(this,arguments)}finally{h=R}}}})(ty);ey.exports=ty;var Rw=ey.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw=w,pt=Rw;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ny=new Set,Ai={};function Wr(e,t){_s(e,t),_s(e+"Capture",t)}function _s(e,t){for(Ai[e]=t,e=0;e<t.length;e++)ny.add(t[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=Object.prototype.hasOwnProperty,Dw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xh={},wh={};function Ow(e){return $c.call(wh,e)?!0:$c.call(xh,e)?!1:Dw.test(e)?wh[e]=!0:(xh[e]=!0,!1)}function Vw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uw(e,t,n,r){if(t===null||typeof t>"u"||Vw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gd=/[\-:]([a-z])/g;function yd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gd,yd);$e[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gd,yd);$e[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gd,yd);$e[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function vd(e,t,n,r){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uw(t,n,s,r)&&(n=null),r||s===null?Ow(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var In=Lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),sy=Symbol.for("react.context"),wd=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),Hc=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),Sh=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Sh&&e[Sh]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,Fl;function li(e){if(Fl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fl=t&&t[1]||""}return`
`+Fl+e}var $l=!1;function Bl(e,t){if(!e||$l)return"";$l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{$l=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?li(e):""}function Fw(e){switch(e.tag){case 5:return li(e.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 2:case 15:return e=Bl(e.type,!1),e;case 11:return e=Bl(e.type.render,!1),e;case 1:return e=Bl(e.type,!0),e;default:return""}}function Wc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Zr:return"Portal";case Bc:return"Profiler";case xd:return"StrictMode";case zc:return"Suspense";case Hc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sy:return(e.displayName||"Context")+".Consumer";case ry:return(e._context.displayName||"Context")+".Provider";case wd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sd:return t=e.displayName||null,t!==null?t:Wc(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return Wc(e(t))}catch{}}return null}function $w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wc(t);case 8:return t===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bw(e){var t=oy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Io(e){e._valueTracker||(e._valueTracker=Bw(e))}function ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gc(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ly(e,t){t=t.checked,t!=null&&vd(e,"checked",t,!1)}function Kc(e,t){ly(e,t);var n=ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qc(e,t.type,n):t.hasOwnProperty("defaultValue")&&qc(e,t.type,ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qc(e,t,n){(t!=="number"||ya(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ci=Array.isArray;function gs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Th(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(ci(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ur(n)}}function cy(e,t){var n=ur(t.value),r=ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _h(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,dy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zw=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){zw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function fy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function hy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hw=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zc(e,t){if(t){if(Hw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Qc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function bd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,ys=null,vs=null;function Eh(e){if(e=lo(e)){if(typeof eu!="function")throw Error(N(280));var t=e.stateNode;t&&(t=cl(t),eu(e.stateNode,e.type,t))}}function py(e){ys?vs?vs.push(e):vs=[e]:ys=e}function my(){if(ys){var e=ys,t=vs;if(vs=ys=null,Eh(e),t)for(e=0;e<t.length;e++)Eh(t[e])}}function gy(e,t){return e(t)}function yy(){}var zl=!1;function vy(e,t,n){if(zl)return e(t,n);zl=!0;try{return gy(e,t,n)}finally{zl=!1,(ys!==null||vs!==null)&&(yy(),my())}}function ji(e,t){var n=e.stateNode;if(n===null)return null;var r=cl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var tu=!1;if(yn)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){tu=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{tu=!1}function Ww(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var pi=!1,va=null,xa=!1,nu=null,Gw={onError:function(e){pi=!0,va=e}};function Kw(e,t,n,r,s,i,o,a,l){pi=!1,va=null,Ww.apply(Gw,arguments)}function qw(e,t,n,r,s,i,o,a,l){if(Kw.apply(this,arguments),pi){if(pi){var c=va;pi=!1,va=null}else throw Error(N(198));xa||(xa=!0,nu=c)}}function Gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ch(e){if(Gr(e)!==e)throw Error(N(188))}function Yw(e){var t=e.alternate;if(!t){if(t=Gr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ch(s),e;if(i===r)return Ch(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function wy(e){return e=Yw(e),e!==null?Sy(e):null}function Sy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sy(e);if(t!==null)return t;e=e.sibling}return null}var by=pt.unstable_scheduleCallback,Ih=pt.unstable_cancelCallback,Xw=pt.unstable_shouldYield,Zw=pt.unstable_requestPaint,Ce=pt.unstable_now,Qw=pt.unstable_getCurrentPriorityLevel,kd=pt.unstable_ImmediatePriority,ky=pt.unstable_UserBlockingPriority,wa=pt.unstable_NormalPriority,Jw=pt.unstable_LowPriority,Ty=pt.unstable_IdlePriority,il=null,qt=null;function eS(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(il,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:rS,tS=Math.log,nS=Math.LN2;function rS(e){return e>>>=0,e===0?32:31-(tS(e)/nS|0)|0}var No=64,Ao=4194304;function ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ui(a):(i&=o,i!==0&&(r=ui(i)))}else o=n&~s,o!==0?r=ui(o):i!==0&&(r=ui(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),s=1<<n,r|=e[n],t&=~s;return r}function sS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Dt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=sS(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _y(){var e=No;return No<<=1,!(No&4194240)&&(No=64),e}function Hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function oS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Td(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ne=0;function Ey(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cy,_d,Iy,Py,Ny,su=!1,Mo=[],Jn=null,er=null,tr=null,Ri=new Map,Li=new Map,Bn=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ph(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function ti(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=lo(t),t!==null&&_d(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lS(e,t,n,r,s){switch(t){case"focusin":return Jn=ti(Jn,e,t,n,r,s),!0;case"dragenter":return er=ti(er,e,t,n,r,s),!0;case"mouseover":return tr=ti(tr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ri.set(i,ti(Ri.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Li.set(i,ti(Li.get(i)||null,e,t,n,r,s)),!0}return!1}function Ay(e){var t=_r(e.target);if(t!==null){var n=Gr(t);if(n!==null){if(t=n.tag,t===13){if(t=xy(n),t!==null){e.blockedOn=t,Ny(e.priority,function(){Iy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jc=r,n.target.dispatchEvent(r),Jc=null}else return t=lo(n),t!==null&&_d(t),e.blockedOn=n,!1;t.shift()}return!0}function Nh(e,t,n){Jo(e)&&n.delete(t)}function cS(){su=!1,Jn!==null&&Jo(Jn)&&(Jn=null),er!==null&&Jo(er)&&(er=null),tr!==null&&Jo(tr)&&(tr=null),Ri.forEach(Nh),Li.forEach(Nh)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,su||(su=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,cS)))}function Di(e){function t(s){return ni(s,e)}if(0<Mo.length){ni(Mo[0],e);for(var n=1;n<Mo.length;n++){var r=Mo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jn!==null&&ni(Jn,e),er!==null&&ni(er,e),tr!==null&&ni(tr,e),Ri.forEach(t),Li.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)Ay(n),n.blockedOn===null&&Bn.shift()}var xs=In.ReactCurrentBatchConfig,ba=!0;function uS(e,t,n,r){var s=ne,i=xs.transition;xs.transition=null;try{ne=1,Ed(e,t,n,r)}finally{ne=s,xs.transition=i}}function dS(e,t,n,r){var s=ne,i=xs.transition;xs.transition=null;try{ne=4,Ed(e,t,n,r)}finally{ne=s,xs.transition=i}}function Ed(e,t,n,r){if(ba){var s=iu(e,t,n,r);if(s===null)ec(e,t,r,ka,n),Ph(e,r);else if(lS(s,e,t,n,r))r.stopPropagation();else if(Ph(e,r),t&4&&-1<aS.indexOf(e)){for(;s!==null;){var i=lo(s);if(i!==null&&Cy(i),i=iu(e,t,n,r),i===null&&ec(e,t,r,ka,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ec(e,t,r,null,n)}}var ka=null;function iu(e,t,n,r){if(ka=null,e=bd(r),e=_r(e),e!==null)if(t=Gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ka=e,null}function My(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qw()){case kd:return 1;case ky:return 4;case wa:case Jw:return 16;case Ty:return 536870912;default:return 16}default:return 16}}var qn=null,Cd=null,ea=null;function jy(){if(ea)return ea;var e,t=Cd,n=t.length,r,s="value"in qn?qn.value:qn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ea=s.slice(e,1<r?1-r:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function Ah(){return!1}function gt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jo:Ah,this.isPropagationStopped=Ah,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Id=gt(Fs),ao=Se({},Fs,{view:0,detail:0}),fS=gt(ao),Wl,Gl,ri,ol=Se({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(Wl=e.screenX-ri.screenX,Gl=e.screenY-ri.screenY):Gl=Wl=0,ri=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),Mh=gt(ol),hS=Se({},ol,{dataTransfer:0}),pS=gt(hS),mS=Se({},ao,{relatedTarget:0}),Kl=gt(mS),gS=Se({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),yS=gt(gS),vS=Se({},Fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xS=gt(vS),wS=Se({},Fs,{data:0}),jh=gt(wS),SS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kS[e])?!!t[e]:!1}function Pd(){return TS}var _S=Se({},ao,{key:function(e){if(e.key){var t=SS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(e){return e.type==="keypress"?ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ES=gt(_S),CS=Se({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=gt(CS),IS=Se({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),PS=gt(IS),NS=Se({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=gt(NS),MS=Se({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jS=gt(MS),RS=[9,13,27,32],Nd=yn&&"CompositionEvent"in window,mi=null;yn&&"documentMode"in document&&(mi=document.documentMode);var LS=yn&&"TextEvent"in window&&!mi,Ry=yn&&(!Nd||mi&&8<mi&&11>=mi),Lh=String.fromCharCode(32),Dh=!1;function Ly(e,t){switch(e){case"keyup":return RS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function DS(e,t){switch(e){case"compositionend":return Dy(t);case"keypress":return t.which!==32?null:(Dh=!0,Lh);case"textInput":return e=t.data,e===Lh&&Dh?null:e;default:return null}}function OS(e,t){if(Jr)return e==="compositionend"||!Nd&&Ly(e,t)?(e=jy(),ea=Cd=qn=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ry&&t.locale!=="ko"?null:t.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VS[e.type]:t==="textarea"}function Oy(e,t,n,r){py(r),t=Ta(t,"onChange"),0<t.length&&(n=new Id("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gi=null,Oi=null;function US(e){qy(e,0)}function al(e){var t=ns(e);if(ay(t))return e}function FS(e,t){if(e==="change")return t}var Vy=!1;if(yn){var ql;if(yn){var Yl="oninput"in document;if(!Yl){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),Yl=typeof Vh.oninput=="function"}ql=Yl}else ql=!1;Vy=ql&&(!document.documentMode||9<document.documentMode)}function Uh(){gi&&(gi.detachEvent("onpropertychange",Uy),Oi=gi=null)}function Uy(e){if(e.propertyName==="value"&&al(Oi)){var t=[];Oy(t,Oi,e,bd(e)),vy(US,t)}}function $S(e,t,n){e==="focusin"?(Uh(),gi=t,Oi=n,gi.attachEvent("onpropertychange",Uy)):e==="focusout"&&Uh()}function BS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Oi)}function zS(e,t){if(e==="click")return al(t)}function HS(e,t){if(e==="input"||e==="change")return al(t)}function WS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:WS;function Vi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$c.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function Fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,t){var n=Fh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fh(n)}}function Fy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $y(){for(var e=window,t=ya();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ya(e.document)}return t}function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GS(e){var t=$y(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fy(n.ownerDocument.documentElement,n)){if(r!==null&&Ad(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=$h(n,i);var o=$h(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KS=yn&&"documentMode"in document&&11>=document.documentMode,es=null,ou=null,yi=null,au=!1;function Bh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;au||es==null||es!==ya(r)||(r=es,"selectionStart"in r&&Ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yi&&Vi(yi,r)||(yi=r,r=Ta(ou,"onSelect"),0<r.length&&(t=new Id("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=es)))}function Ro(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ts={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionend:Ro("Transition","TransitionEnd")},Xl={},By={};yn&&(By=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function ll(e){if(Xl[e])return Xl[e];if(!ts[e])return e;var t=ts[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in By)return Xl[e]=t[n];return e}var zy=ll("animationend"),Hy=ll("animationiteration"),Wy=ll("animationstart"),Gy=ll("transitionend"),Ky=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(e,t){Ky.set(e,t),Wr(t,[e])}for(var Zl=0;Zl<zh.length;Zl++){var Ql=zh[Zl],qS=Ql.toLowerCase(),YS=Ql[0].toUpperCase()+Ql.slice(1);pr(qS,"on"+YS)}pr(zy,"onAnimationEnd");pr(Hy,"onAnimationIteration");pr(Wy,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(Gy,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function Hh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qw(r,t,void 0,e),e.currentTarget=null}function qy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hh(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hh(s,a,c),i=l}}}if(xa)throw e=nu,xa=!1,nu=null,e}function pe(e,t){var n=t[fu];n===void 0&&(n=t[fu]=new Set);var r=e+"__bubble";n.has(r)||(Yy(t,e,2,!1),n.add(r))}function Jl(e,t,n){var r=0;t&&(r|=4),Yy(n,e,r,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Lo]){e[Lo]=!0,ny.forEach(function(n){n!=="selectionchange"&&(XS.has(n)||Jl(n,!1,e),Jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lo]||(t[Lo]=!0,Jl("selectionchange",!1,t))}}function Yy(e,t,n,r){switch(My(t)){case 1:var s=uS;break;case 4:s=dS;break;default:s=Ed}n=s.bind(null,t,n,e),s=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ec(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_r(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}vy(function(){var c=i,u=bd(n),f=[];e:{var h=Ky.get(e);if(h!==void 0){var p=Id,v=e;switch(e){case"keypress":if(ta(n)===0)break e;case"keydown":case"keyup":p=ES;break;case"focusin":v="focus",p=Kl;break;case"focusout":v="blur",p=Kl;break;case"beforeblur":case"afterblur":p=Kl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PS;break;case zy:case Hy:case Wy:p=yS;break;case Gy:p=AS;break;case"scroll":p=fS;break;case"wheel":p=jS;break;case"copy":case"cut":case"paste":p=xS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rh}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var g=c,y;g!==null;){y=g;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,m!==null&&(S=ji(g,m),S!=null&&x.push(Fi(g,S,y)))),b)break;g=g.return}0<x.length&&(h=new p(h,v,null,n,u),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Jc&&(v=n.relatedTarget||n.fromElement)&&(_r(v)||v[vn]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?_r(v):null,v!==null&&(b=Gr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(x=Mh,S="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Rh,S="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?h:ns(p),y=v==null?h:ns(v),h=new x(S,g+"leave",p,n,u),h.target=b,h.relatedTarget=y,S=null,_r(u)===c&&(x=new x(m,g+"enter",v,n,u),x.target=y,x.relatedTarget=b,S=x),b=S,p&&v)t:{for(x=p,m=v,g=0,y=x;y;y=Xr(y))g++;for(y=0,S=m;S;S=Xr(S))y++;for(;0<g-y;)x=Xr(x),g--;for(;0<y-g;)m=Xr(m),y--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=Xr(x),m=Xr(m)}x=null}else x=null;p!==null&&Wh(f,h,p,x,!1),v!==null&&b!==null&&Wh(f,b,v,x,!0)}}e:{if(h=c?ns(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=FS;else if(Oh(h))if(Vy)k=HS;else{k=BS;var _=$S}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=zS);if(k&&(k=k(e,c))){Oy(f,k,n,u);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&qc(h,"number",h.value)}switch(_=c?ns(c):window,e){case"focusin":(Oh(_)||_.contentEditable==="true")&&(es=_,ou=c,yi=null);break;case"focusout":yi=ou=es=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,Bh(f,n,u);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":Bh(f,n,u)}var E;if(Nd)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Jr?Ly(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ry&&n.locale!=="ko"&&(Jr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Jr&&(E=jy()):(qn=u,Cd="value"in qn?qn.value:qn.textContent,Jr=!0)),_=Ta(c,T),0<_.length&&(T=new jh(T,e,null,n,u),f.push({event:T,listeners:_}),E?T.data=E:(E=Dy(n),E!==null&&(T.data=E)))),(E=LS?DS(e,n):OS(e,n))&&(c=Ta(c,"onBeforeInput"),0<c.length&&(u=new jh("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}qy(f,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ta(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ji(e,n),i!=null&&r.unshift(Fi(e,i,s)),i=ji(e,t),i!=null&&r.push(Fi(e,i,s))),e=e.return}return r}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ji(n,i),l!=null&&o.unshift(Fi(n,l,a))):s||(l=ji(n,i),l!=null&&o.push(Fi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ZS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function Gh(e){return(typeof e=="string"?e:""+e).replace(ZS,`
`).replace(QS,"")}function Do(e,t,n){if(t=Gh(t),Gh(e)!==t&&n)throw Error(N(425))}function _a(){}var lu=null,cu=null;function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,eb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(tb)}:du;function tb(e){setTimeout(function(){throw e})}function tc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Di(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Di(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $s=Math.random().toString(36).slice(2),Kt="__reactFiber$"+$s,$i="__reactProps$"+$s,vn="__reactContainer$"+$s,fu="__reactEvents$"+$s,nb="__reactListeners$"+$s,rb="__reactHandles$"+$s;function _r(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qh(e);e!==null;){if(n=e[Kt])return n;e=qh(e)}return t}e=n,n=e.parentNode}return null}function lo(e){return e=e[Kt]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function cl(e){return e[$i]||null}var hu=[],rs=-1;function mr(e){return{current:e}}function me(e){0>rs||(e.current=hu[rs],hu[rs]=null,rs--)}function ce(e,t){rs++,hu[rs]=e.current,e.current=t}var dr={},Ye=mr(dr),ot=mr(!1),Dr=dr;function Es(e,t){var n=e.type.contextTypes;if(!n)return dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function Ea(){me(ot),me(Ye)}function Yh(e,t,n){if(Ye.current!==dr)throw Error(N(168));ce(Ye,t),ce(ot,n)}function Xy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,$w(e)||"Unknown",s));return Se({},n,r)}function Ca(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Dr=Ye.current,ce(Ye,e),ce(ot,ot.current),!0}function Xh(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Xy(e,t,Dr),r.__reactInternalMemoizedMergedChildContext=e,me(ot),me(Ye),ce(Ye,e)):me(ot),ce(ot,n)}var cn=null,ul=!1,nc=!1;function Zy(e){cn===null?cn=[e]:cn.push(e)}function sb(e){ul=!0,Zy(e)}function gr(){if(!nc&&cn!==null){nc=!0;var e=0,t=ne;try{var n=cn;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cn=null,ul=!1}catch(s){throw cn!==null&&(cn=cn.slice(e+1)),by(kd,gr),s}finally{ne=t,nc=!1}}return null}var ss=[],is=0,Ia=null,Pa=0,St=[],bt=0,Or=null,dn=1,fn="";function Sr(e,t){ss[is++]=Pa,ss[is++]=Ia,Ia=e,Pa=t}function Qy(e,t,n){St[bt++]=dn,St[bt++]=fn,St[bt++]=Or,Or=e;var r=dn;e=fn;var s=32-Dt(r)-1;r&=~(1<<s),n+=1;var i=32-Dt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,dn=1<<32-Dt(t)+s|n<<s|r,fn=i+e}else dn=1<<i|n<<s|r,fn=e}function Md(e){e.return!==null&&(Sr(e,1),Qy(e,1,0))}function jd(e){for(;e===Ia;)Ia=ss[--is],ss[is]=null,Pa=ss[--is],ss[is]=null;for(;e===Or;)Or=St[--bt],St[bt]=null,fn=St[--bt],St[bt]=null,dn=St[--bt],St[bt]=null}var ft=null,dt=null,ge=!1,Rt=null;function Jy(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,dt=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Or!==null?{id:dn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,dt=null,!0):!1;default:return!1}}function pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mu(e){if(ge){var t=dt;if(t){var n=t;if(!Zh(e,t)){if(pu(e))throw Error(N(418));t=nr(n.nextSibling);var r=ft;t&&Zh(e,t)?Jy(r,n):(e.flags=e.flags&-4097|2,ge=!1,ft=e)}}else{if(pu(e))throw Error(N(418));e.flags=e.flags&-4097|2,ge=!1,ft=e}}}function Qh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Oo(e){if(e!==ft)return!1;if(!ge)return Qh(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uu(e.type,e.memoizedProps)),t&&(t=dt)){if(pu(e))throw e0(),Error(N(418));for(;t;)Jy(e,t),t=nr(t.nextSibling)}if(Qh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ft?nr(e.stateNode.nextSibling):null;return!0}function e0(){for(var e=dt;e;)e=nr(e.nextSibling)}function Cs(){dt=ft=null,ge=!1}function Rd(e){Rt===null?Rt=[e]:Rt.push(e)}var ib=In.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jh(e){var t=e._init;return t(e._payload)}function t0(e){function t(m,g){if(e){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=or(m,g),m.index=0,m.sibling=null,m}function i(m,g,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,y,S){return g===null||g.tag!==6?(g=cc(y,m.mode,S),g.return=m,g):(g=s(g,y),g.return=m,g)}function l(m,g,y,S){var k=y.type;return k===Qr?u(m,g,y.props.children,S,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fn&&Jh(k)===g.type)?(S=s(g,y.props),S.ref=si(m,g,y),S.return=m,S):(S=la(y.type,y.key,y.props,null,m.mode,S),S.ref=si(m,g,y),S.return=m,S)}function c(m,g,y,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=uc(y,m.mode,S),g.return=m,g):(g=s(g,y.children||[]),g.return=m,g)}function u(m,g,y,S,k){return g===null||g.tag!==7?(g=Mr(y,m.mode,S,k),g.return=m,g):(g=s(g,y),g.return=m,g)}function f(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=cc(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Co:return y=la(g.type,g.key,g.props,null,m.mode,y),y.ref=si(m,null,g),y.return=m,y;case Zr:return g=uc(g,m.mode,y),g.return=m,g;case Fn:var S=g._init;return f(m,S(g._payload),y)}if(ci(g)||Js(g))return g=Mr(g,m.mode,y,null),g.return=m,g;Vo(m,g)}return null}function h(m,g,y,S){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Co:return y.key===k?l(m,g,y,S):null;case Zr:return y.key===k?c(m,g,y,S):null;case Fn:return k=y._init,h(m,g,k(y._payload),S)}if(ci(y)||Js(y))return k!==null?null:u(m,g,y,S,null);Vo(m,y)}return null}function p(m,g,y,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(y)||null,a(g,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Co:return m=m.get(S.key===null?y:S.key)||null,l(g,m,S,k);case Zr:return m=m.get(S.key===null?y:S.key)||null,c(g,m,S,k);case Fn:var _=S._init;return p(m,g,y,_(S._payload),k)}if(ci(S)||Js(S))return m=m.get(y)||null,u(g,m,S,k,null);Vo(g,S)}return null}function v(m,g,y,S){for(var k=null,_=null,E=g,T=g=0,M=null;E!==null&&T<y.length;T++){E.index>T?(M=E,E=null):M=E.sibling;var C=h(m,E,y[T],S);if(C===null){E===null&&(E=M);break}e&&E&&C.alternate===null&&t(m,E),g=i(C,g,T),_===null?k=C:_.sibling=C,_=C,E=M}if(T===y.length)return n(m,E),ge&&Sr(m,T),k;if(E===null){for(;T<y.length;T++)E=f(m,y[T],S),E!==null&&(g=i(E,g,T),_===null?k=E:_.sibling=E,_=E);return ge&&Sr(m,T),k}for(E=r(m,E);T<y.length;T++)M=p(E,m,T,y[T],S),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?T:M.key),g=i(M,g,T),_===null?k=M:_.sibling=M,_=M);return e&&E.forEach(function(V){return t(m,V)}),ge&&Sr(m,T),k}function x(m,g,y,S){var k=Js(y);if(typeof k!="function")throw Error(N(150));if(y=k.call(y),y==null)throw Error(N(151));for(var _=k=null,E=g,T=g=0,M=null,C=y.next();E!==null&&!C.done;T++,C=y.next()){E.index>T?(M=E,E=null):M=E.sibling;var V=h(m,E,C.value,S);if(V===null){E===null&&(E=M);break}e&&E&&V.alternate===null&&t(m,E),g=i(V,g,T),_===null?k=V:_.sibling=V,_=V,E=M}if(C.done)return n(m,E),ge&&Sr(m,T),k;if(E===null){for(;!C.done;T++,C=y.next())C=f(m,C.value,S),C!==null&&(g=i(C,g,T),_===null?k=C:_.sibling=C,_=C);return ge&&Sr(m,T),k}for(E=r(m,E);!C.done;T++,C=y.next())C=p(E,m,T,C.value,S),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?T:C.key),g=i(C,g,T),_===null?k=C:_.sibling=C,_=C);return e&&E.forEach(function(Q){return t(m,Q)}),ge&&Sr(m,T),k}function b(m,g,y,S){if(typeof y=="object"&&y!==null&&y.type===Qr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Co:e:{for(var k=y.key,_=g;_!==null;){if(_.key===k){if(k=y.type,k===Qr){if(_.tag===7){n(m,_.sibling),g=s(_,y.props.children),g.return=m,m=g;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fn&&Jh(k)===_.type){n(m,_.sibling),g=s(_,y.props),g.ref=si(m,_,y),g.return=m,m=g;break e}n(m,_);break}else t(m,_);_=_.sibling}y.type===Qr?(g=Mr(y.props.children,m.mode,S,y.key),g.return=m,m=g):(S=la(y.type,y.key,y.props,null,m.mode,S),S.ref=si(m,g,y),S.return=m,m=S)}return o(m);case Zr:e:{for(_=y.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=s(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=uc(y,m.mode,S),g.return=m,m=g}return o(m);case Fn:return _=y._init,b(m,g,_(y._payload),S)}if(ci(y))return v(m,g,y,S);if(Js(y))return x(m,g,y,S);Vo(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,y),g.return=m,m=g):(n(m,g),g=cc(y,m.mode,S),g.return=m,m=g),o(m)):n(m,g)}return b}var Is=t0(!0),n0=t0(!1),Na=mr(null),Aa=null,os=null,Ld=null;function Dd(){Ld=os=Aa=null}function Od(e){var t=Na.current;me(Na),e._currentValue=t}function gu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ws(e,t){Aa=e,Ld=os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Ld!==e)if(e={context:e,memoizedValue:t,next:null},os===null){if(Aa===null)throw Error(N(308));os=e,Aa.dependencies={lanes:0,firstContext:e}}else os=os.next=e;return t}var Er=null;function Vd(e){Er===null?Er=[e]:Er.push(e)}function r0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Vd(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function Ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Vd(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function na(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Td(e,n)}}function ep(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var s=e.updateQueue;$n=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(h=t,p=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Se({},f,h);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ur|=o,e.lanes=o,e.memoizedState=f}}function tp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var co={},Yt=mr(co),Bi=mr(co),zi=mr(co);function Cr(e){if(e===co)throw Error(N(174));return e}function Fd(e,t){switch(ce(zi,t),ce(Bi,e),ce(Yt,co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xc(t,e)}me(Yt),ce(Yt,t)}function Ps(){me(Yt),me(Bi),me(zi)}function i0(e){Cr(zi.current);var t=Cr(Yt.current),n=Xc(t,e.type);t!==n&&(ce(Bi,e),ce(Yt,n))}function $d(e){Bi.current===e&&(me(Yt),me(Bi))}var ve=mr(0);function ja(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rc=[];function Bd(){for(var e=0;e<rc.length;e++)rc[e]._workInProgressVersionPrimary=null;rc.length=0}var ra=In.ReactCurrentDispatcher,sc=In.ReactCurrentBatchConfig,Vr=0,we=null,Pe=null,Me=null,Ra=!1,vi=!1,Hi=0,ob=0;function He(){throw Error(N(321))}function zd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Hd(e,t,n,r,s,i){if(Vr=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=e===null||e.memoizedState===null?ub:db,e=n(r,s),vi){i=0;do{if(vi=!1,Hi=0,25<=i)throw Error(N(301));i+=1,Me=Pe=null,t.updateQueue=null,ra.current=fb,e=n(r,s)}while(vi)}if(ra.current=La,t=Pe!==null&&Pe.next!==null,Vr=0,Me=Pe=we=null,Ra=!1,t)throw Error(N(300));return e}function Wd(){var e=Hi!==0;return Hi=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=e:Me=Me.next=e,Me}function It(){if(Pe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Me===null?we.memoizedState:Me.next;if(t!==null)Me=t,Pe=e;else{if(e===null)throw Error(N(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?we.memoizedState=Me=e:Me=Me.next=e}return Me}function Wi(e,t){return typeof t=="function"?t(e):t}function ic(e){var t=It(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Vr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,we.lanes|=u,Ur|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Vt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,Ur|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oc(e){var t=It(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function o0(){}function a0(e,t){var n=we,r=It(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,Gd(u0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Gi(9,c0.bind(null,n,r,s,t),void 0,null),je===null)throw Error(N(349));Vr&30||l0(n,t,s)}return s}function l0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function c0(e,t,n,r){t.value=n,t.getSnapshot=r,d0(t)&&f0(e)}function u0(e,t,n){return n(function(){d0(t)&&f0(e)})}function d0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function f0(e){var t=xn(e,1);t!==null&&Ot(t,e,1,-1)}function np(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=cb.bind(null,we,e),[t.memoizedState,e]}function Gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function h0(){return It().memoizedState}function sa(e,t,n,r){var s=Gt();we.flags|=e,s.memoizedState=Gi(1|t,n,void 0,r===void 0?null:r)}function dl(e,t,n,r){var s=It();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,r!==null&&zd(r,o.deps)){s.memoizedState=Gi(t,n,i,r);return}}we.flags|=e,s.memoizedState=Gi(1|t,n,i,r)}function rp(e,t){return sa(8390656,8,e,t)}function Gd(e,t){return dl(2048,8,e,t)}function p0(e,t){return dl(4,2,e,t)}function m0(e,t){return dl(4,4,e,t)}function g0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y0(e,t,n){return n=n!=null?n.concat([e]):null,dl(4,4,g0.bind(null,t,e),n)}function Kd(){}function v0(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function x0(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function w0(e,t,n){return Vr&21?(Vt(n,t)||(n=_y(),we.lanes|=n,Ur|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function ab(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=sc.transition;sc.transition={};try{e(!1),t()}finally{ne=n,sc.transition=r}}function S0(){return It().memoizedState}function lb(e,t,n){var r=ir(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b0(e))k0(t,n);else if(n=r0(e,t,n,r),n!==null){var s=Qe();Ot(n,e,r,s),T0(n,t,r)}}function cb(e,t,n){var r=ir(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b0(e))k0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Vt(a,o)){var l=t.interleaved;l===null?(s.next=s,Vd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=r0(e,t,s,r),n!==null&&(s=Qe(),Ot(n,e,r,s),T0(n,t,r))}}function b0(e){var t=e.alternate;return e===we||t!==null&&t===we}function k0(e,t){vi=Ra=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function T0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Td(e,n)}}var La={readContext:Ct,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},ub={readContext:Ct,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:rp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sa(4194308,4,g0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sa(4194308,4,e,t)},useInsertionEffect:function(e,t){return sa(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lb.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:np,useDebugValue:Kd,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=np(!1),t=e[0];return e=ab.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Gt();if(ge){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),je===null)throw Error(N(349));Vr&30||l0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,rp(u0.bind(null,r,i,e),[e]),r.flags|=2048,Gi(9,c0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Gt(),t=je.identifierPrefix;if(ge){var n=fn,r=dn;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ob++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},db={readContext:Ct,useCallback:v0,useContext:Ct,useEffect:Gd,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:m0,useMemo:x0,useReducer:ic,useRef:h0,useState:function(){return ic(Wi)},useDebugValue:Kd,useDeferredValue:function(e){var t=It();return w0(t,Pe.memoizedState,e)},useTransition:function(){var e=ic(Wi)[0],t=It().memoizedState;return[e,t]},useMutableSource:o0,useSyncExternalStore:a0,useId:S0,unstable_isNewReconciler:!1},fb={readContext:Ct,useCallback:v0,useContext:Ct,useEffect:Gd,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:m0,useMemo:x0,useReducer:oc,useRef:h0,useState:function(){return oc(Wi)},useDebugValue:Kd,useDeferredValue:function(e){var t=It();return Pe===null?t.memoizedState=e:w0(t,Pe.memoizedState,e)},useTransition:function(){var e=oc(Wi)[0],t=It().memoizedState;return[e,t]},useMutableSource:o0,useSyncExternalStore:a0,useId:S0,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fl={isMounted:function(e){return(e=e._reactInternals)?Gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qe(),s=ir(e),i=gn(r,s);i.payload=t,n!=null&&(i.callback=n),t=rr(e,i,s),t!==null&&(Ot(t,e,s,r),na(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qe(),s=ir(e),i=gn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rr(e,i,s),t!==null&&(Ot(t,e,s,r),na(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qe(),r=ir(e),s=gn(n,r);s.tag=2,t!=null&&(s.callback=t),t=rr(e,s,r),t!==null&&(Ot(t,e,r,n),na(t,e,r))}};function sp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vi(n,r)||!Vi(s,i):!0}function _0(e,t,n){var r=!1,s=dr,i=t.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(s=at(t)?Dr:Ye.current,r=t.contextTypes,i=(r=r!=null)?Es(e,s):dr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ip(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fl.enqueueReplaceState(t,t.state,null)}function vu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ud(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ct(i):(i=at(t)?Dr:Ye.current,s.context=Es(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fl.enqueueReplaceState(s,s.state,null),Ma(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ns(e,t){try{var n="",r=t;do n+=Fw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ac(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hb=typeof WeakMap=="function"?WeakMap:Map;function E0(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oa||(Oa=!0,Pu=r),xu(e,t)},n}function C0(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xu(e,t),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function op(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cb.bind(null,e,t,n),t.then(e,e))}function ap(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,rr(n,t,1))),n.lanes|=1),e)}var pb=In.ReactCurrentOwner,st=!1;function Xe(e,t,n,r){t.child=e===null?n0(t,null,n,r):Is(t,e.child,n,r)}function cp(e,t,n,r,s){n=n.render;var i=t.ref;return ws(t,s),r=Hd(e,t,n,r,i,s),n=Wd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(ge&&n&&Md(t),t.flags|=1,Xe(e,t,r,s),t.child)}function up(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!tf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,I0(e,t,i,r,s)):(e=la(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vi,n(o,r)&&e.ref===t.ref)return wn(e,t,s)}return t.flags|=1,e=or(i,r),e.ref=t.ref,e.return=t,t.child=e}function I0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Vi(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,wn(e,t,s)}return wu(e,t,n,r,s)}function P0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(ls,ct),ct|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(ls,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(ls,ct),ct|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(ls,ct),ct|=r;return Xe(e,t,s,n),t.child}function N0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wu(e,t,n,r,s){var i=at(n)?Dr:Ye.current;return i=Es(t,i),ws(t,s),n=Hd(e,t,n,r,i,s),r=Wd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(ge&&r&&Md(t),t.flags|=1,Xe(e,t,n,s),t.child)}function dp(e,t,n,r,s){if(at(n)){var i=!0;Ca(t)}else i=!1;if(ws(t,s),t.stateNode===null)ia(e,t),_0(t,n,r),vu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ct(c):(c=at(n)?Dr:Ye.current,c=Es(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ip(t,o,r,c),$n=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,s),l=t.memoizedState,a!==r||h!==l||ot.current||$n?(typeof u=="function"&&(yu(t,n,u,r),l=t.memoizedState),(a=$n||sp(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,s0(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Mt(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ct(l):(l=at(n)?Dr:Ye.current,l=Es(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&ip(t,o,r,l),$n=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,s);var v=t.memoizedState;a!==f||h!==v||ot.current||$n?(typeof p=="function"&&(yu(t,n,p,r),v=t.memoizedState),(c=$n||sp(t,n,c,r,h,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Su(e,t,n,r,i,s)}function Su(e,t,n,r,s,i){N0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Xh(t,n,!1),wn(e,t,i);r=t.stateNode,pb.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Is(t,e.child,null,i),t.child=Is(t,null,a,i)):Xe(e,t,a,i),t.memoizedState=r.state,s&&Xh(t,n,!0),t.child}function A0(e){var t=e.stateNode;t.pendingContext?Yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yh(e,t.context,!1),Fd(e,t.containerInfo)}function fp(e,t,n,r,s){return Cs(),Rd(s),t.flags|=256,Xe(e,t,n,r),t.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function M0(e,t,n){var r=t.pendingProps,s=ve.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ve,s&1),e===null)return mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ml(o,r,0,null),e=Mr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ku(n),t.memoizedState=bu,e):qd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return mb(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=or(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=or(a,i):(i=Mr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ku(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=bu,r}return i=e.child,e=i.sibling,r=or(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qd(e,t){return t=ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,n,r){return r!==null&&Rd(r),Is(t,e.child,null,n),e=qd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ac(Error(N(422))),Uo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ml({mode:"visible",children:r.children},s,0,null),i=Mr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Is(t,e.child,null,o),t.child.memoizedState=ku(o),t.memoizedState=bu,i);if(!(t.mode&1))return Uo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=ac(i,r,void 0),Uo(e,t,o,r)}if(a=(o&e.childLanes)!==0,st||a){if(r=je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),Ot(r,e,s,-1))}return ef(),r=ac(Error(N(421))),Uo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ib.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,dt=nr(s.nextSibling),ft=t,ge=!0,Rt=null,e!==null&&(St[bt++]=dn,St[bt++]=fn,St[bt++]=Or,dn=e.id,fn=e.overflow,Or=t),t=qd(t,r.children),t.flags|=4096,t)}function hp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gu(e.return,t,n)}function lc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function j0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Xe(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,n,t);else if(e.tag===19)hp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ja(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),lc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ja(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}lc(t,!0,n,null,i);break;case"together":lc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ur|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=or(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=or(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gb(e,t,n){switch(t.tag){case 3:A0(t),Cs();break;case 5:i0(t);break;case 1:at(t.type)&&Ca(t);break;case 4:Fd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(Na,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?M0(e,t,n):(ce(ve,ve.current&1),e=wn(e,t,n),e!==null?e.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return j0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,P0(e,t,n)}return wn(e,t,n)}var R0,Tu,L0,D0;R0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tu=function(){};L0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cr(Yt.current);var i=null;switch(n){case"input":s=Gc(e,s),r=Gc(e,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=Yc(e,s),r=Yc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_a)}Zc(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ai.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};D0=function(e,t,n,r){n!==r&&(t.flags|=4)};function ii(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yb(e,t,n){var r=t.pendingProps;switch(jd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return at(t.type)&&Ea(),We(t),null;case 3:return r=t.stateNode,Ps(),me(ot),me(Ye),Bd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rt!==null&&(Mu(Rt),Rt=null))),Tu(e,t),We(t),null;case 5:$d(t);var s=Cr(zi.current);if(n=t.type,e!==null&&t.stateNode!=null)L0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return We(t),null}if(e=Cr(Yt.current),Oo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kt]=t,r[$i]=i,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<di.length;s++)pe(di[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":bh(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":Th(r,i),pe("invalid",r)}Zc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Do(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Do(r.textContent,a,e),s=["children",""+a]):Ai.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":Io(r),kh(r,i,!0);break;case"textarea":Io(r),_h(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_a)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kt]=t,e[$i]=r,R0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qc(n,r),n){case"dialog":pe("cancel",e),pe("close",e),s=r;break;case"iframe":case"object":case"embed":pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<di.length;s++)pe(di[s],e);s=r;break;case"source":pe("error",e),s=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=r;break;case"details":pe("toggle",e),s=r;break;case"input":bh(e,r),s=Gc(e,r),pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),pe("invalid",e);break;case"textarea":Th(e,r),s=Yc(e,r),pe("invalid",e);break;default:s=r}Zc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?hy(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dy(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mi(e,l):typeof l=="number"&&Mi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ai.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pe("scroll",e):l!=null&&vd(e,i,l,o))}switch(n){case"input":Io(e),kh(e,r,!1);break;case"textarea":Io(e),_h(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ur(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?gs(e,!!r.multiple,i,!1):r.defaultValue!=null&&gs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_a)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)D0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Cr(zi.current),Cr(Yt.current),Oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(i=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:Do(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Do(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return We(t),null;case 13:if(me(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&dt!==null&&t.mode&1&&!(t.flags&128))e0(),Cs(),t.flags|=98560,i=!1;else if(i=Oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Kt]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else Rt!==null&&(Mu(Rt),Rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ne===0&&(Ne=3):ef())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ps(),Tu(e,t),e===null&&Ui(t.stateNode.containerInfo),We(t),null;case 10:return Od(t.type._context),We(t),null;case 17:return at(t.type)&&Ea(),We(t),null;case 19:if(me(ve),i=t.memoizedState,i===null)return We(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ii(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ja(e),o!==null){for(t.flags|=128,ii(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>As&&(t.flags|=128,r=!0,ii(i,!1),t.lanes=4194304)}else{if(!r)if(e=ja(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ii(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return We(t),null}else 2*Ce()-i.renderingStartTime>As&&n!==1073741824&&(t.flags|=128,r=!0,ii(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Jd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ct&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function vb(e,t){switch(jd(t),t.tag){case 1:return at(t.type)&&Ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ps(),me(ot),me(Ye),Bd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $d(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return Ps(),null;case 10:return Od(t.type._context),null;case 22:case 23:return Jd(),null;case 24:return null;default:return null}}var Fo=!1,Ke=!1,xb=typeof WeakSet=="function"?WeakSet:Set,D=null;function as(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(e,t,r)}else n.current=null}function _u(e,t,n){try{n()}catch(r){_e(e,t,r)}}var pp=!1;function wb(e,t){if(lu=ba,e=$y(),Ad(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cu={focusedElem:e,selectionRange:n},ba=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Mt(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){_e(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return v=pp,pp=!1,v}function xi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&_u(t,n,i)}s=s.next}while(s!==r)}}function hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Eu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function O0(e){var t=e.alternate;t!==null&&(e.alternate=null,O0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[$i],delete t[fu],delete t[nb],delete t[rb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V0(e){return e.tag===5||e.tag===3||e.tag===4}function mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_a));else if(r!==4&&(e=e.child,e!==null))for(Cu(e,t,n),e=e.sibling;e!==null;)Cu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Iu(e,t,n),e=e.sibling;e!==null;)Iu(e,t,n),e=e.sibling}var Oe=null,jt=!1;function On(e,t,n){for(n=n.child;n!==null;)U0(e,t,n),n=n.sibling}function U0(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 5:Ke||as(n,t);case 6:var r=Oe,s=jt;Oe=null,On(e,t,n),Oe=r,jt=s,Oe!==null&&(jt?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(jt?(e=Oe,n=n.stateNode,e.nodeType===8?tc(e.parentNode,n):e.nodeType===1&&tc(e,n),Di(e)):tc(Oe,n.stateNode));break;case 4:r=Oe,s=jt,Oe=n.stateNode.containerInfo,jt=!0,On(e,t,n),Oe=r,jt=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_u(n,t,o),s=s.next}while(s!==r)}On(e,t,n);break;case 1:if(!Ke&&(as(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_e(n,t,a)}On(e,t,n);break;case 21:On(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,On(e,t,n),Ke=r):On(e,t,n);break;default:On(e,t,n)}}function gp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xb),t.forEach(function(r){var s=Pb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,jt=!1;break e;case 3:Oe=a.stateNode.containerInfo,jt=!0;break e;case 4:Oe=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(Oe===null)throw Error(N(160));U0(i,o,s),Oe=null,jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){_e(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F0(t,e),t=t.sibling}function F0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Wt(e),r&4){try{xi(3,e,e.return),hl(3,e)}catch(x){_e(e,e.return,x)}try{xi(5,e,e.return)}catch(x){_e(e,e.return,x)}}break;case 1:Nt(t,e),Wt(e),r&512&&n!==null&&as(n,n.return);break;case 5:if(Nt(t,e),Wt(e),r&512&&n!==null&&as(n,n.return),e.flags&32){var s=e.stateNode;try{Mi(s,"")}catch(x){_e(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ly(s,i),Qc(a,o);var c=Qc(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?hy(s,f):u==="dangerouslySetInnerHTML"?dy(s,f):u==="children"?Mi(s,f):vd(s,u,f,c)}switch(a){case"input":Kc(s,i);break;case"textarea":cy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?gs(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?gs(s,!!i.multiple,i.defaultValue,!0):gs(s,!!i.multiple,i.multiple?[]:"",!1))}s[$i]=i}catch(x){_e(e,e.return,x)}}break;case 6:if(Nt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){_e(e,e.return,x)}}break;case 3:if(Nt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(x){_e(e,e.return,x)}break;case 4:Nt(t,e),Wt(e);break;case 13:Nt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zd=Ce())),r&4&&gp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(c=Ke)||u,Nt(t,e),Ke=c):Nt(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(D=e,u=e.child;u!==null;){for(f=D=u;D!==null;){switch(h=D,p=h.child,h.tag){case 0:case 11:case 14:case 15:xi(4,h,h.return);break;case 1:as(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){_e(r,n,x)}}break;case 5:as(h,h.return);break;case 22:if(h.memoizedState!==null){vp(f);continue}}p!==null?(p.return=h,D=p):vp(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fy("display",o))}catch(x){_e(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){_e(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nt(t,e),Wt(e),r&4&&gp(e);break;case 21:break;default:Nt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(V0(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mi(s,""),r.flags&=-33);var i=mp(e);Iu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mp(e);Cu(e,a,o);break;default:throw Error(N(161))}}catch(l){_e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sb(e,t,n){D=e,$0(e)}function $0(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Fo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=Fo;var c=Ke;if(Fo=o,(Ke=l)&&!c)for(D=s;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?xp(s):l!==null?(l.return=o,D=l):xp(s);for(;i!==null;)D=i,$0(i),i=i.sibling;D=s,Fo=a,Ke=c}yp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):yp(e)}}function yp(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Di(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ke||t.flags&512&&Eu(t)}catch(h){_e(t,t.return,h)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function vp(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function xp(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(l){_e(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){_e(t,s,l)}}var i=t.return;try{Eu(t)}catch(l){_e(t,i,l)}break;case 5:var o=t.return;try{Eu(t)}catch(l){_e(t,o,l)}}}catch(l){_e(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var bb=Math.ceil,Da=In.ReactCurrentDispatcher,Yd=In.ReactCurrentOwner,_t=In.ReactCurrentBatchConfig,ee=0,je=null,Ie=null,Ue=0,ct=0,ls=mr(0),Ne=0,Ki=null,Ur=0,pl=0,Xd=0,wi=null,rt=null,Zd=0,As=1/0,ln=null,Oa=!1,Pu=null,sr=null,$o=!1,Yn=null,Va=0,Si=0,Nu=null,oa=-1,aa=0;function Qe(){return ee&6?Ce():oa!==-1?oa:oa=Ce()}function ir(e){return e.mode&1?ee&2&&Ue!==0?Ue&-Ue:ib.transition!==null?(aa===0&&(aa=_y()),aa):(e=ne,e!==0||(e=window.event,e=e===void 0?16:My(e.type)),e):1}function Ot(e,t,n,r){if(50<Si)throw Si=0,Nu=null,Error(N(185));oo(e,n,r),(!(ee&2)||e!==je)&&(e===je&&(!(ee&2)&&(pl|=n),Ne===4&&zn(e,Ue)),lt(e,r),n===1&&ee===0&&!(t.mode&1)&&(As=Ce()+500,ul&&gr()))}function lt(e,t){var n=e.callbackNode;iS(e,t);var r=Sa(e,e===je?Ue:0);if(r===0)n!==null&&Ih(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ih(n),t===1)e.tag===0?sb(wp.bind(null,e)):Zy(wp.bind(null,e)),eb(function(){!(ee&6)&&gr()}),n=null;else{switch(Ey(r)){case 1:n=kd;break;case 4:n=ky;break;case 16:n=wa;break;case 536870912:n=Ty;break;default:n=wa}n=Y0(n,B0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B0(e,t){if(oa=-1,aa=0,ee&6)throw Error(N(327));var n=e.callbackNode;if(Ss()&&e.callbackNode!==n)return null;var r=Sa(e,e===je?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ua(e,r);else{t=r;var s=ee;ee|=2;var i=H0();(je!==e||Ue!==t)&&(ln=null,As=Ce()+500,Ar(e,t));do try{_b();break}catch(a){z0(e,a)}while(1);Dd(),Da.current=i,ee=s,Ie!==null?t=0:(je=null,Ue=0,t=Ne)}if(t!==0){if(t===2&&(s=ru(e),s!==0&&(r=s,t=Au(e,s))),t===1)throw n=Ki,Ar(e,0),zn(e,r),lt(e,Ce()),n;if(t===6)zn(e,r);else{if(s=e.current.alternate,!(r&30)&&!kb(s)&&(t=Ua(e,r),t===2&&(i=ru(e),i!==0&&(r=i,t=Au(e,i))),t===1))throw n=Ki,Ar(e,0),zn(e,r),lt(e,Ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:br(e,rt,ln);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Zd+500-Ce(),10<t)){if(Sa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=du(br.bind(null,e,rt,ln),t);break}br(e,rt,ln);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Dt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bb(r/1960))-r,10<r){e.timeoutHandle=du(br.bind(null,e,rt,ln),r);break}br(e,rt,ln);break;case 5:br(e,rt,ln);break;default:throw Error(N(329))}}}return lt(e,Ce()),e.callbackNode===n?B0.bind(null,e):null}function Au(e,t){var n=wi;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=Ua(e,t),e!==2&&(t=rt,rt=n,t!==null&&Mu(t)),e}function Mu(e){rt===null?rt=e:rt.push.apply(rt,e)}function kb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Xd,t&=~pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function wp(e){if(ee&6)throw Error(N(327));Ss();var t=Sa(e,0);if(!(t&1))return lt(e,Ce()),null;var n=Ua(e,t);if(e.tag!==0&&n===2){var r=ru(e);r!==0&&(t=r,n=Au(e,r))}if(n===1)throw n=Ki,Ar(e,0),zn(e,t),lt(e,Ce()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,rt,ln),lt(e,Ce()),null}function Qd(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(As=Ce()+500,ul&&gr())}}function Fr(e){Yn!==null&&Yn.tag===0&&!(ee&6)&&Ss();var t=ee;ee|=1;var n=_t.transition,r=ne;try{if(_t.transition=null,ne=1,e)return e()}finally{ne=r,_t.transition=n,ee=t,!(ee&6)&&gr()}}function Jd(){ct=ls.current,me(ls)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,JS(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ea();break;case 3:Ps(),me(ot),me(Ye),Bd();break;case 5:$d(r);break;case 4:Ps();break;case 13:me(ve);break;case 19:me(ve);break;case 10:Od(r.type._context);break;case 22:case 23:Jd()}n=n.return}if(je=e,Ie=e=or(e.current,null),Ue=ct=t,Ne=0,Ki=null,Xd=pl=Ur=0,rt=wi=null,Er!==null){for(t=0;t<Er.length;t++)if(n=Er[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Er=null}return e}function z0(e,t){do{var n=Ie;try{if(Dd(),ra.current=La,Ra){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ra=!1}if(Vr=0,Me=Pe=we=null,vi=!1,Hi=0,Yd.current=null,n===null||n.return===null){Ne=1,Ki=t,Ie=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ap(o);if(p!==null){p.flags&=-257,lp(p,o,a,i,t),p.mode&1&&op(i,c,t),t=p,l=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){op(i,c,t),ef();break e}l=Error(N(426))}}else if(ge&&a.mode&1){var b=ap(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lp(b,o,a,i,t),Rd(Ns(l,a));break e}}i=l=Ns(l,a),Ne!==4&&(Ne=2),wi===null?wi=[i]:wi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=E0(i,l,t);ep(i,m);break e;case 1:a=l;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(sr===null||!sr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=C0(i,a,t);ep(i,S);break e}}i=i.return}while(i!==null)}G0(n)}catch(k){t=k,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(1)}function H0(){var e=Da.current;return Da.current=La,e===null?La:e}function ef(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),je===null||!(Ur&268435455)&&!(pl&268435455)||zn(je,Ue)}function Ua(e,t){var n=ee;ee|=2;var r=H0();(je!==e||Ue!==t)&&(ln=null,Ar(e,t));do try{Tb();break}catch(s){z0(e,s)}while(1);if(Dd(),ee=n,Da.current=r,Ie!==null)throw Error(N(261));return je=null,Ue=0,Ne}function Tb(){for(;Ie!==null;)W0(Ie)}function _b(){for(;Ie!==null&&!Xw();)W0(Ie)}function W0(e){var t=q0(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?G0(e):Ie=t,Yd.current=null}function G0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vb(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,Ie=null;return}}else if(n=yb(n,t,ct),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ne===0&&(Ne=5)}function br(e,t,n){var r=ne,s=_t.transition;try{_t.transition=null,ne=1,Eb(e,t,n,r)}finally{_t.transition=s,ne=r}return null}function Eb(e,t,n,r){do Ss();while(Yn!==null);if(ee&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(oS(e,i),e===je&&(Ie=je=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$o||($o=!0,Y0(wa,function(){return Ss(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_t.transition,_t.transition=null;var o=ne;ne=1;var a=ee;ee|=4,Yd.current=null,wb(e,n),F0(n,e),GS(cu),ba=!!lu,cu=lu=null,e.current=n,Sb(n),Zw(),ee=a,ne=o,_t.transition=i}else e.current=n;if($o&&($o=!1,Yn=e,Va=s),i=e.pendingLanes,i===0&&(sr=null),eS(n.stateNode),lt(e,Ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Oa)throw Oa=!1,e=Pu,Pu=null,e;return Va&1&&e.tag!==0&&Ss(),i=e.pendingLanes,i&1?e===Nu?Si++:(Si=0,Nu=e):Si=0,gr(),null}function Ss(){if(Yn!==null){var e=Ey(Va),t=_t.transition,n=ne;try{if(_t.transition=null,ne=16>e?16:e,Yn===null)var r=!1;else{if(e=Yn,Yn=null,Va=0,ee&6)throw Error(N(331));var s=ee;for(ee|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:xi(8,u,i)}var f=u.child;if(f!==null)f.return=u,D=f;else for(;D!==null;){u=D;var h=u.sibling,p=u.return;if(O0(u),u===c){D=null;break}if(h!==null){h.return=p,D=h;break}D=p}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xi(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,D=m;break e}D=i.return}}var g=e.current;for(D=g;D!==null;){o=D;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,D=y;else e:for(o=g;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hl(9,a)}}catch(k){_e(a,a.return,k)}if(a===o){D=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,D=S;break e}D=a.return}}if(ee=s,gr(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(il,e)}catch{}r=!0}return r}finally{ne=n,_t.transition=t}}return!1}function Sp(e,t,n){t=Ns(n,t),t=E0(e,t,1),e=rr(e,t,1),t=Qe(),e!==null&&(oo(e,1,t),lt(e,t))}function _e(e,t,n){if(e.tag===3)Sp(e,e,n);else for(;t!==null;){if(t.tag===3){Sp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sr===null||!sr.has(r))){e=Ns(n,e),e=C0(t,e,1),t=rr(t,e,1),e=Qe(),t!==null&&(oo(t,1,e),lt(t,e));break}}t=t.return}}function Cb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Ue&n)===n&&(Ne===4||Ne===3&&(Ue&130023424)===Ue&&500>Ce()-Zd?Ar(e,0):Xd|=n),lt(e,t)}function K0(e,t){t===0&&(e.mode&1?(t=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):t=1);var n=Qe();e=xn(e,t),e!==null&&(oo(e,t,n),lt(e,n))}function Ib(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),K0(e,n)}function Pb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),K0(e,n)}var q0;q0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,gb(e,t,n);st=!!(e.flags&131072)}else st=!1,ge&&t.flags&1048576&&Qy(t,Pa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ia(e,t),e=t.pendingProps;var s=Es(t,Ye.current);ws(t,n),s=Hd(null,t,r,e,s,n);var i=Wd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,Ca(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ud(t),s.updater=fl,t.stateNode=s,s._reactInternals=t,vu(t,r,e,n),t=Su(null,t,r,!0,i,n)):(t.tag=0,ge&&i&&Md(t),Xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ia(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ab(r),e=Mt(r,e),s){case 0:t=wu(null,t,r,e,n);break e;case 1:t=dp(null,t,r,e,n);break e;case 11:t=cp(null,t,r,e,n);break e;case 14:t=up(null,t,r,Mt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),wu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),dp(e,t,r,s,n);case 3:e:{if(A0(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,s0(e,t),Ma(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ns(Error(N(423)),t),t=fp(e,t,r,n,s);break e}else if(r!==s){s=Ns(Error(N(424)),t),t=fp(e,t,r,n,s);break e}else for(dt=nr(t.stateNode.containerInfo.firstChild),ft=t,ge=!0,Rt=null,n=n0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===s){t=wn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return i0(t),e===null&&mu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,uu(r,s)?o=null:i!==null&&uu(r,i)&&(t.flags|=32),N0(e,t),Xe(e,t,o,n),t.child;case 6:return e===null&&mu(t),null;case 13:return M0(e,t,n);case 4:return Fd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Is(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),cp(e,t,r,s,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ce(Na,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!ot.current){t=wn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=gn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),gu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ws(t,n),s=Ct(s),r=r(s),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,s=Mt(r,t.pendingProps),s=Mt(r.type,s),up(e,t,r,s,n);case 15:return I0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),ia(e,t),t.tag=1,at(r)?(e=!0,Ca(t)):e=!1,ws(t,n),_0(t,r,s),vu(t,r,s,n),Su(null,t,r,!0,e,n);case 19:return j0(e,t,n);case 22:return P0(e,t,n)}throw Error(N(156,t.tag))};function Y0(e,t){return by(e,t)}function Nb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new Nb(e,t,n,r)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ab(e){if(typeof e=="function")return tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wd)return 11;if(e===Sd)return 14}return 2}function or(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function la(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")tf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qr:return Mr(n.children,s,i,t);case xd:o=8,s|=8;break;case Bc:return e=Tt(12,n,t,s|2),e.elementType=Bc,e.lanes=i,e;case zc:return e=Tt(13,n,t,s),e.elementType=zc,e.lanes=i,e;case Hc:return e=Tt(19,n,t,s),e.elementType=Hc,e.lanes=i,e;case iy:return ml(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ry:o=10;break e;case sy:o=9;break e;case wd:o=11;break e;case Sd:o=14;break e;case Fn:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Tt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mr(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function ml(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=iy,e.lanes=n,e.stateNode={isHidden:!1},e}function cc(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function uc(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nf(e,t,n,r,s,i,o,a,l){return e=new Mb(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ud(i),e}function jb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function X0(e){if(!e)return dr;e=e._reactInternals;e:{if(Gr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(at(n))return Xy(e,n,t)}return t}function Z0(e,t,n,r,s,i,o,a,l){return e=nf(n,r,!0,e,s,i,o,a,l),e.context=X0(null),n=e.current,r=Qe(),s=ir(n),i=gn(r,s),i.callback=t??null,rr(n,i,s),e.current.lanes=s,oo(e,s,r),lt(e,r),e}function gl(e,t,n,r){var s=t.current,i=Qe(),o=ir(s);return n=X0(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rr(s,t,o),e!==null&&(Ot(e,s,o,i),na(e,s,o)),o}function Fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rf(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function Rb(){return null}var Q0=typeof reportError=="function"?reportError:function(e){console.error(e)};function sf(e){this._internalRoot=e}yl.prototype.render=sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));gl(e,t,null,null)};yl.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fr(function(){gl(null,e,null,null)}),t[vn]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Py();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&Ay(e)}};function of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kp(){}function Lb(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Fa(o);i.call(c)}}var o=Z0(t,r,e,0,null,!1,!1,"",kp);return e._reactRootContainer=o,e[vn]=o.current,Ui(e.nodeType===8?e.parentNode:e),Fr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Fa(l);a.call(c)}}var l=nf(e,0,!1,null,null,!1,!1,"",kp);return e._reactRootContainer=l,e[vn]=l.current,Ui(e.nodeType===8?e.parentNode:e),Fr(function(){gl(t,l,n,r)}),l}function xl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fa(o);a.call(l)}}gl(t,o,e,s)}else o=Lb(n,t,e,s,r);return Fa(o)}Cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ui(t.pendingLanes);n!==0&&(Td(t,n|1),lt(t,Ce()),!(ee&6)&&(As=Ce()+500,gr()))}break;case 13:Fr(function(){var r=xn(e,1);if(r!==null){var s=Qe();Ot(r,e,1,s)}}),rf(e,1)}};_d=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=Qe();Ot(t,e,134217728,n)}rf(e,134217728)}};Iy=function(e){if(e.tag===13){var t=ir(e),n=xn(e,t);if(n!==null){var r=Qe();Ot(n,e,t,r)}rf(e,t)}};Py=function(){return ne};Ny=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};eu=function(e,t,n){switch(t){case"input":if(Kc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=cl(r);if(!s)throw Error(N(90));ay(r),Kc(r,s)}}}break;case"textarea":cy(e,n);break;case"select":t=n.value,t!=null&&gs(e,!!n.multiple,t,!1)}};gy=Qd;yy=Fr;var Db={usingClientEntryPoint:!1,Events:[lo,ns,cl,py,my,Qd]},oi={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ob={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wy(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||Rb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{il=Bo.inject(Ob),qt=Bo}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Db;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(t))throw Error(N(200));return jb(e,t,null,n)};mt.createRoot=function(e,t){if(!of(e))throw Error(N(299));var n=!1,r="",s=Q0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nf(e,1,!1,null,null,n,!1,r,s),e[vn]=t.current,Ui(e.nodeType===8?e.parentNode:e),new sf(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=wy(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return Fr(e)};mt.hydrate=function(e,t,n){if(!vl(t))throw Error(N(200));return xl(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!of(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Q0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Z0(t,null,e,1,n??null,s,!1,i,o),e[vn]=t.current,Ui(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new yl(t)};mt.render=function(e,t,n){if(!vl(t))throw Error(N(200));return xl(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!vl(e))throw Error(N(40));return e._reactRootContainer?(Fr(function(){xl(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};mt.unstable_batchedUpdates=Qd;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vl(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return xl(e,t,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function J0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J0)}catch(e){console.error(e)}}J0(),Jg.exports=mt;var ev=Jg.exports,Tp=ev;Fc.createRoot=Tp.createRoot,Fc.hydrateRoot=Tp.hydrateRoot;const qi=w.createContext({});function af(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const lf=typeof window<"u",cf=lf?w.useLayoutEffect:w.useEffect,wl=w.createContext(null);function uf(e,t){e.indexOf(t)===-1&&e.push(t)}function df(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Sn=(e,t,n)=>n>t?t:n<e?e:n;let ff=()=>{};const bn={},tv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function nv(e){return typeof e=="object"&&e!==null}const rv=e=>/^0[^.\s]+$/u.test(e);function hf(e){let t;return()=>(t===void 0&&(t=e()),t)}const Et=e=>e,Vb=(e,t)=>n=>t(e(n)),uo=(...e)=>e.reduce(Vb),Yi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class pf{constructor(){this.subscriptions=[]}add(t){return uf(this.subscriptions,t),()=>df(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xt=e=>e*1e3,Zt=e=>e/1e3;function sv(e,t){return t?e*(1e3/t):0}const iv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ub=1e-7,Fb=12;function $b(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=iv(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Ub&&++a<Fb);return o}function fo(e,t,n,r){if(e===t&&n===r)return Et;const s=i=>$b(i,0,1,e,n);return i=>i===0||i===1?i:iv(s(i),t,r)}const ov=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,av=e=>t=>1-e(1-t),lv=fo(.33,1.53,.69,.99),mf=av(lv),cv=ov(mf),uv=e=>(e*=2)<1?.5*mf(e):.5*(2-Math.pow(2,-10*(e-1))),gf=e=>1-Math.sin(Math.acos(e)),dv=av(gf),fv=ov(gf),Bb=fo(.42,0,1,1),zb=fo(0,0,.58,1),hv=fo(.42,0,.58,1),Hb=e=>Array.isArray(e)&&typeof e[0]!="number",pv=e=>Array.isArray(e)&&typeof e[0]=="number",Wb={linear:Et,easeIn:Bb,easeInOut:hv,easeOut:zb,circIn:gf,circInOut:fv,circOut:dv,backIn:mf,backInOut:cv,backOut:lv,anticipate:uv},Gb=e=>typeof e=="string",_p=e=>{if(pv(e)){ff(e.length===4);const[t,n,r,s]=e;return fo(t,n,r,s)}else if(Gb(e))return Wb[e];return e},zo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ep={value:null,addProjectionMetrics:null};function Kb(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(u.schedule(f),e()),l++,f(a)}const u={schedule:(f,h=!1,p=!1)=>{const x=p&&s?n:r;return h&&o.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&Ep.value&&Ep.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(f))}};return u}const qb=40;function mv(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=zo.reduce((y,S)=>(y[S]=Kb(i,t?S:void 0),y),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:v}=o,x=()=>{const y=bn.useManualTiming?s.timestamp:performance.now();n=!1,bn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,qb),1)),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),f.process(s),h.process(s),p.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(x))},b=()=>{n=!0,r=!0,s.isProcessing||e(x)};return{schedule:zo.reduce((y,S)=>{const k=o[S];return y[S]=(_,E=!1,T=!1)=>(n||b(),k.schedule(_,E,T)),y},{}),cancel:y=>{for(let S=0;S<zo.length;S++)o[zo[S]].cancel(y)},state:s,steps:o}}const{schedule:ye,cancel:fr,state:Ve,steps:dc}=mv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Et,!0);let ca;function Yb(){ca=void 0}const it={now:()=>(ca===void 0&&it.set(Ve.isProcessing||bn.useManualTiming?Ve.timestamp:performance.now()),ca),set:e=>{ca=e,queueMicrotask(Yb)}},gv=e=>t=>typeof t=="string"&&t.startsWith(e),yf=gv("--"),Xb=gv("var(--"),vf=e=>Xb(e)?Zb.test(e.split("/*")[0].trim()):!1,Zb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xi={...Bs,transform:e=>Sn(0,1,e)},Ho={...Bs,default:1},bi=e=>Math.round(e*1e5)/1e5,xf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Qb(e){return e==null}const Jb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wf=(e,t)=>n=>!!(typeof n=="string"&&Jb.test(n)&&n.startsWith(e)||t&&!Qb(n)&&Object.prototype.hasOwnProperty.call(n,t)),yv=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(xf);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ek=e=>Sn(0,255,e),fc={...Bs,transform:e=>Math.round(ek(e))},Ir={test:wf("rgb","red"),parse:yv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+fc.transform(e)+", "+fc.transform(t)+", "+fc.transform(n)+", "+bi(Xi.transform(r))+")"};function tk(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ju={test:wf("#"),parse:tk,transform:Ir.transform},ho=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Un=ho("deg"),Qt=ho("%"),$=ho("px"),nk=ho("vh"),rk=ho("vw"),Cp=(()=>({...Qt,parse:e=>Qt.parse(e)/100,transform:e=>Qt.transform(e*100)}))(),cs={test:wf("hsl","hue"),parse:yv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Qt.transform(bi(t))+", "+Qt.transform(bi(n))+", "+bi(Xi.transform(r))+")"},Ge={test:e=>Ir.test(e)||ju.test(e)||cs.test(e),parse:e=>Ir.test(e)?Ir.parse(e):cs.test(e)?cs.parse(e):ju.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ir.transform(e):cs.transform(e)},sk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ik(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xf))==null?void 0:t.length)||0)+(((n=e.match(sk))==null?void 0:n.length)||0)>0}const vv="number",xv="color",ok="var",ak="var(",Ip="${}",lk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(lk,l=>(Ge.test(l)?(r.color.push(i),s.push(xv),n.push(Ge.parse(l))):l.startsWith(ak)?(r.var.push(i),s.push(ok),n.push(l)):(r.number.push(i),s.push(vv),n.push(parseFloat(l))),++i,Ip)).split(Ip);return{values:n,split:a,indexes:r,types:s}}function wv(e){return Zi(e).values}function Sv(e){const{split:t,types:n}=Zi(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===vv?i+=bi(s[o]):a===xv?i+=Ge.transform(s[o]):i+=s[o]}return i}}const ck=e=>typeof e=="number"?0:e;function uk(e){const t=wv(e);return Sv(e)(t.map(ck))}const hr={test:ik,parse:wv,createTransformer:Sv,getAnimatableNone:uk};function hc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=hc(l,a,e+1/3),i=hc(l,a,e),o=hc(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function $a(e,t){return n=>n>0?t:e}const xe=(e,t,n)=>e+(t-e)*n,pc=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},fk=[ju,Ir,cs],hk=e=>fk.find(t=>t.test(e));function Pp(e){const t=hk(e);if(!t)return!1;let n=t.parse(e);return t===cs&&(n=dk(n)),n}const Np=(e,t)=>{const n=Pp(e),r=Pp(t);if(!n||!r)return $a(e,t);const s={...n};return i=>(s.red=pc(n.red,r.red,i),s.green=pc(n.green,r.green,i),s.blue=pc(n.blue,r.blue,i),s.alpha=xe(n.alpha,r.alpha,i),Ir.transform(s))},Ru=new Set(["none","hidden"]);function pk(e,t){return Ru.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mk(e,t){return n=>xe(e,t,n)}function Sf(e){return typeof e=="number"?mk:typeof e=="string"?vf(e)?$a:Ge.test(e)?Np:vk:Array.isArray(e)?bv:typeof e=="object"?Ge.test(e)?Np:gk:$a}function bv(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Sf(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function gk(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Sf(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function yk(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const vk=(e,t)=>{const n=hr.createTransformer(t),r=Zi(e),s=Zi(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ru.has(e)&&!s.values.length||Ru.has(t)&&!r.values.length?pk(e,t):uo(bv(yk(r,s),s.values),n):$a(e,t)};function kv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?xe(e,t,n):Sf(e)(e,t)}const xk=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ye.update(t,n),stop:()=>fr(t),now:()=>Ve.isProcessing?Ve.timestamp:it.now()}},Tv=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Ba=2e4;function bf(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ba;)t+=n,r=e.next(t);return t>=Ba?1/0:t}function wk(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(bf(r),Ba);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Zt(s)}}const Sk=5;function _v(e,t,n){const r=Math.max(t-Sk,0);return sv(n-e(r),t-r)}const Te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mc=.001;function bk({duration:e=Te.duration,bounce:t=Te.bounce,velocity:n=Te.velocity,mass:r=Te.mass}){let s,i,o=1-t;o=Sn(Te.minDamping,Te.maxDamping,o),e=Sn(Te.minDuration,Te.maxDuration,Zt(e)),o<1?(s=c=>{const u=c*o,f=u*e,h=u-n,p=Lu(c,o),v=Math.exp(-f);return mc-h/p*v},i=c=>{const f=c*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,v=Math.exp(-f),x=Lu(Math.pow(c,2),o);return(-s(c)+mc>0?-1:1)*((h-p)*v)/x}):(s=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-mc+u*f},i=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const a=5/e,l=Tk(s,i,a);if(e=Xt(e),isNaN(l))return{stiffness:Te.stiffness,damping:Te.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const kk=12;function Tk(e,t,n){let r=n;for(let s=1;s<kk;s++)r=r-e(r)/t(r);return r}function Lu(e,t){return e*Math.sqrt(1-t*t)}const _k=["duration","bounce"],Ek=["stiffness","damping","mass"];function Ap(e,t){return t.some(n=>e[n]!==void 0)}function Ck(e){let t={velocity:Te.velocity,stiffness:Te.stiffness,damping:Te.damping,mass:Te.mass,isResolvedFromDuration:!1,...e};if(!Ap(e,Ek)&&Ap(e,_k))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Sn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Te.mass,stiffness:s,damping:i}}else{const n=bk(e);t={...t,...n,mass:Te.mass},t.isResolvedFromDuration=!0}return t}function za(e=Te.visualDuration,t=Te.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Ck({...n,velocity:-Zt(n.velocity||0)}),v=h||0,x=c/(2*Math.sqrt(l*u)),b=o-i,m=Zt(Math.sqrt(l/u)),g=Math.abs(b)<5;r||(r=g?Te.restSpeed.granular:Te.restSpeed.default),s||(s=g?Te.restDelta.granular:Te.restDelta.default);let y;if(x<1){const k=Lu(m,x);y=_=>{const E=Math.exp(-x*m*_);return o-E*((v+x*m*b)/k*Math.sin(k*_)+b*Math.cos(k*_))}}else if(x===1)y=k=>o-Math.exp(-m*k)*(b+(v+m*b)*k);else{const k=m*Math.sqrt(x*x-1);y=_=>{const E=Math.exp(-x*m*_),T=Math.min(k*_,300);return o-E*((v+x*m*b)*Math.sinh(T)+k*b*Math.cosh(T))/k}}const S={calculatedDuration:p&&f||null,next:k=>{const _=y(k);if(p)a.done=k>=f;else{let E=k===0?v:0;x<1&&(E=k===0?Xt(v):_v(y,k,_));const T=Math.abs(E)<=r,M=Math.abs(o-_)<=s;a.done=T&&M}return a.value=a.done?o:_,a},toString:()=>{const k=Math.min(bf(S),Ba),_=Tv(E=>S.next(k*E).value,k,30);return k+"ms "+_},toTransition:()=>{}};return S}za.applyToOptions=e=>{const t=wk(e,100,za);return e.ease=t.ease,e.duration=Xt(t.duration),e.type="keyframes",e};function Du({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let x=n*t;const b=f+x,m=o===void 0?b:o(b);m!==b&&(x=m-f);const g=T=>-x*Math.exp(-T/r),y=T=>m+g(T),S=T=>{const M=g(T),C=y(T);h.done=Math.abs(M)<=c,h.value=h.done?m:C};let k,_;const E=T=>{p(h.value)&&(k=T,_=za({keyframes:[h.value,v(h.value)],velocity:_v(y,T,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:T=>{let M=!1;return!_&&k===void 0&&(M=!0,S(T),E(T)),k!==void 0&&T>=k?_.next(T-k):(!M&&S(T),h)}}}function Ik(e,t,n){const r=[],s=n||bn.mix||kv,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Et:t;a=uo(l,a)}r.push(a)}return r}function Pk(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(ff(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Ik(t,r,s),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Yi(e[f],e[f+1],u);return a[f](h)};return n?u=>c(Sn(e[0],e[i-1],u)):c}function Nk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Yi(0,t,r);e.push(xe(n,1,s))}}function Ak(e){const t=[0];return Nk(t,e.length-1),t}function Mk(e,t){return e.map(n=>n*t)}function jk(e,t){return e.map(()=>t||hv).splice(0,e.length-1)}function ki({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Hb(r)?r.map(_p):_p(r),i={done:!1,value:t[0]},o=Mk(n&&n.length===t.length?n:Ak(t),e),a=Pk(o,t,{ease:Array.isArray(s)?s:jk(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Rk=e=>e!==null;function kf(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Rk),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Lk={decay:Du,inertia:Du,tween:ki,keyframes:ki,spring:za};function Ev(e){typeof e.type=="string"&&(e.type=Lk[e.type])}class Tf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Dk=e=>e/100;class _f extends Tf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,s;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==it.now()&&this.tick(it.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ev(t);const{type:n=ki,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||ki;l!==ki&&typeof a[0]!="number"&&(this.mixKeyframes=uo(Dk,kv(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=bf(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:v,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-c*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,S=r;if(f){const T=Math.min(this.currentTime,s)/a;let M=Math.floor(T),C=T%1;!C&&T>=1&&(C=1),C===1&&M--,M=Math.min(M,f+1),!!(M%2)&&(h==="reverse"?(C=1-C,p&&(C-=p/a)):h==="mirror"&&(S=o)),y=Sn(0,1,C)*a}const k=g?{done:!1,value:u[0]}:S.next(y);i&&(k.value=i(k.value));let{done:_}=k;!g&&l!==null&&(_=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return E&&v!==Du&&(k.value=kf(u,this.options,b,this.speed)),x&&x(k.value),E&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Zt(this.calculatedDuration)}get time(){return Zt(this.currentTime)}set time(t){var n;t=Xt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(it.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Zt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=xk,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(it.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Ok(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Pr=e=>e*180/Math.PI,Ou=e=>{const t=Pr(Math.atan2(e[1],e[0]));return Vu(t)},Vk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ou,rotateZ:Ou,skewX:e=>Pr(Math.atan(e[1])),skewY:e=>Pr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Vu=e=>(e=e%360,e<0&&(e+=360),e),Mp=Ou,jp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Rp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Uk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jp,scaleY:Rp,scale:e=>(jp(e)+Rp(e))/2,rotateX:e=>Vu(Pr(Math.atan2(e[6],e[5]))),rotateY:e=>Vu(Pr(Math.atan2(-e[2],e[0]))),rotateZ:Mp,rotate:Mp,skewX:e=>Pr(Math.atan(e[4])),skewY:e=>Pr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Uu(e){return e.includes("scale")?1:0}function Fu(e,t){if(!e||e==="none")return Uu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Uk,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Vk,s=a}if(!s)return Uu(t);const i=r[t],o=s[1].split(",").map($k);return typeof i=="function"?i(o):o[i]}const Fk=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Fu(n,t)};function $k(e){return parseFloat(e.trim())}const zs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=(()=>new Set(zs))(),Lp=e=>e===Bs||e===$,Bk=new Set(["x","y","z"]),zk=zs.filter(e=>!Bk.has(e));function Hk(e){const t=[];return zk.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const jr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Fu(t,"x"),y:(e,{transform:t})=>Fu(t,"y")};jr.translateX=jr.x;jr.translateY=jr.y;const Rr=new Set;let $u=!1,Bu=!1,zu=!1;function Cv(){if(Bu){const e=Array.from(Rr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Hk(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bu=!1,$u=!1,Rr.forEach(e=>e.complete(zu)),Rr.clear()}function Iv(){Rr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bu=!0)})}function Wk(){zu=!0,Iv(),Cv(),zu=!1}class Ef{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Rr.add(this),$u||($u=!0,ye.read(Iv),ye.resolveKeyframes(Cv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Ok(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Rr.delete(this)}cancel(){this.state==="scheduled"&&(Rr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Gk=e=>e.startsWith("--");function Kk(e,t,n){Gk(t)?e.style.setProperty(t,n):e.style[t]=n}const qk=hf(()=>window.ScrollTimeline!==void 0),Yk={};function Xk(e,t){const n=hf(e);return()=>Yk[t]??n()}const Pv=Xk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Dp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fi([0,.65,.55,1]),circOut:fi([.55,0,1,.45]),backIn:fi([.31,.01,.66,-.59]),backOut:fi([.33,1.53,.69,.99])};function Nv(e,t){if(e)return typeof e=="function"?Pv()?Tv(e,t):"ease-out":pv(e)?fi(e):Array.isArray(e)?e.map(n=>Nv(n,t)||Dp.easeOut):Dp[e]}function Zk(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const f=Nv(a,s);Array.isArray(f)&&(u.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Av(e){return typeof e=="function"&&"applyToOptions"in e}function Qk({type:e,...t}){return Av(e)&&Pv()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Jk extends Tf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,ff(typeof t.type!="string");const c=Qk(t);this.animation=Zk(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=kf(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):Kk(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zt(Number(t))}get time(){return Zt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Xt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&qk()?(this.animation.timeline=t,Et):n(this)}}const Mv={anticipate:uv,backInOut:cv,circInOut:fv};function eT(e){return e in Mv}function tT(e){typeof e.ease=="string"&&eT(e.ease)&&(e.ease=Mv[e.ease])}const Op=10;class nT extends Jk{constructor(t){tT(t),Ev(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new _f({...o,autoplay:!1}),l=Xt(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Op).value,a.sample(l).value,Op),a.stop()}}const Vp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hr.test(e)||e==="0")&&!e.startsWith("url("));function rT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sT(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Vp(s,t),a=Vp(i,t);return!o||!a?!1:rT(e)||(n==="spring"||Av(n))&&r}function Cf(e){return nv(e)&&"offsetHeight"in e}const iT=new Set(["opacity","clipPath","filter","transform"]),oT=hf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aT(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!Cf((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return oT()&&n&&iT.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const lT=40;class cT extends Tf{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...f}){var v;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=it.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||Ef;this.keyframeResolver=new p(a,(x,b,m)=>this.onKeyframesResolved(x,b,h,!m),l,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=it.now(),sT(t,i,o,a)||((bn.instantAnimations||!l)&&(u==null||u(kf(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>lT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!c&&aT(h)?new nT({...h,element:h.motionValue.owner.current}):new _f(h);p.finished.then(()=>this.notifyFinished()).catch(Et),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Wk()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const uT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dT(e){const t=uT.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function jv(e,t,n=1){const[r,s]=dT(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return tv(o)?parseFloat(o):o}return vf(s)?jv(s,t,n+1):s}function If(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Rv=new Set(["width","height","top","left","right","bottom",...zs]),fT={test:e=>e==="auto",parse:e=>e},Lv=e=>t=>t.test(e),Dv=[Bs,$,Qt,Un,rk,nk,fT],Up=e=>Dv.find(Lv(e));function hT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rv(e):!0}const pT=new Set(["brightness","contrast","saturate","opacity"]);function mT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xf)||[];if(!r)return e;const s=n.replace(r,"");let i=pT.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const gT=/\b([a-z-]*)\(.*?\)/gu,Hu={...hr,getAnimatableNone:e=>{const t=e.match(gT);return t?t.map(mT).join(" "):e}},Fp={...Bs,transform:Math.round},yT={rotate:Un,rotateX:Un,rotateY:Un,rotateZ:Un,scale:Ho,scaleX:Ho,scaleY:Ho,scaleZ:Ho,skew:Un,skewX:Un,skewY:Un,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Xi,originX:Cp,originY:Cp,originZ:$},Pf={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...yT,zIndex:Fp,fillOpacity:Xi,strokeOpacity:Xi,numOctaves:Fp},vT={...Pf,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:Hu,WebkitFilter:Hu},Ov=e=>vT[e];function Vv(e,t){let n=Ov(e);return n!==Hu&&(n=hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xT=new Set(["auto","none","0"]);function wT(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!xT.has(i)&&Zi(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Vv(n,s)}class ST extends Ef{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),vf(c))){const u=jv(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Rv.has(r)||t.length!==2)return;const[s,i]=t,o=Up(s),a=Up(i);if(o!==a)if(Lp(o)&&Lp(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else jr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||hT(t[s]))&&r.push(s);r.length&&wT(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=jr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function bT(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const $p=30,kT=e=>!isNaN(parseFloat(e));class TT{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=it.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=it.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new pf);const r=this.events[t].add(n);return t==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=it.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>$p)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$p);return sv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ms(e,t){return new TT(e,t)}const Uv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Nf,cancel:IR}=mv(queueMicrotask,!1),At={x:!1,y:!1};function Fv(){return At.x||At.y}function _T(e){return e==="x"||e==="y"?At[e]?null:(At[e]=!0,()=>{At[e]=!1}):At.x||At.y?null:(At.x=At.y=!0,()=>{At.x=At.y=!1})}function $v(e,t){const n=bT(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Bp(e){return!(e.pointerType==="touch"||Fv())}function ET(e,t,n={}){const[r,s,i]=$v(e,n),o=a=>{if(!Bp(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=f=>{Bp(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Bv=(e,t)=>t?e===t?!0:Bv(e,t.parentElement):!1,Af=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IT(e){return CT.has(e.tagName)||e.tabIndex!==-1}const ua=new WeakSet;function zp(e){return t=>{t.key==="Enter"&&e(t)}}function gc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const PT=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=zp(()=>{if(ua.has(n))return;gc(n,"down");const s=zp(()=>{gc(n,"up")}),i=()=>gc(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Hp(e){return Af(e)&&!Fv()}function NT(e,t,n={}){const[r,s,i]=$v(e,n),o=a=>{const l=a.currentTarget;if(!Hp(a))return;ua.add(l);const c=t(l,a),u=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ua.has(l)&&ua.delete(l),Hp(p)&&typeof c=="function"&&c(p,{success:v})},f=p=>{u(p,l===window||l===document||n.useGlobalTarget||Bv(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Cf(a)&&(a.addEventListener("focus",c=>PT(c,s)),!IT(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function zv(e){return nv(e)&&"ownerSVGElement"in e}function AT(e){return zv(e)&&e.tagName==="svg"}const qe=e=>!!(e&&e.getVelocity),MT=[...Dv,Ge,hr],jT=e=>MT.find(Lv(e)),Mf=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class RT extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Cf(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function LT({children:e,isPresent:t,anchorX:n}){const r=w.useId(),s=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(Mf);return w.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:f}=i.current;if(t||!s.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${f}`;s.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),d.jsx(RT,{isPresent:t,childRef:s,sizeRef:i,children:w.cloneElement(e,{ref:s})})}const DT=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=af(OT),c=w.useId();let u=!0,f=w.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return i&&u&&(f={...f}),w.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=d.jsx(LT,{isPresent:n,anchorX:a,children:e})),d.jsx(wl.Provider,{value:f,children:e})};function OT(){return new Map}function Hv(e=!0){const t=w.useContext(wl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=w.useId();w.useEffect(()=>{if(e)return s(i)},[e]);const o=w.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Wo=e=>e.key||"";function Wp(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const kn=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=Hv(o),u=w.useMemo(()=>Wp(e),[e]),f=o&&!l?[]:u.map(Wo),h=w.useRef(!0),p=w.useRef(u),v=af(()=>new Map),[x,b]=w.useState(u),[m,g]=w.useState(u);cf(()=>{h.current=!1,p.current=u;for(let k=0;k<m.length;k++){const _=Wo(m[k]);f.includes(_)?v.delete(_):v.get(_)!==!0&&v.set(_,!1)}},[m,f.length,f.join("-")]);const y=[];if(u!==x){let k=[...u];for(let _=0;_<m.length;_++){const E=m[_],T=Wo(E);f.includes(T)||(k.splice(_,0,E),y.push(E))}return i==="wait"&&y.length&&(k=y),g(Wp(k)),b(u),null}const{forceRender:S}=w.useContext(qi);return d.jsx(d.Fragment,{children:m.map(k=>{const _=Wo(k),E=o&&!l?!1:u===m||f.includes(_),T=()=>{if(v.has(_))v.set(_,!0);else return;let M=!0;v.forEach(C=>{C||(M=!1)}),M&&(S==null||S(),g(p.current),o&&(c==null||c()),r&&r())};return d.jsx(DT,{isPresent:E,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:T,anchorX:a,children:k},_)})})},VT=w.createContext(null);function UT(){const e=w.useRef(!1);return cf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function FT(){const e=UT(),[t,n]=w.useState(0),r=w.useCallback(()=>{e.current&&n(t+1)},[t]);return[w.useCallback(()=>ye.postRender(r),[r]),t]}const $T=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Gp(){const e=new Set,t=new WeakMap,n=()=>e.forEach($T);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const s=t.get(r);s&&(s(),t.delete(r)),n()},dirty:n}}const Wv=e=>e===!0,BT=e=>Wv(e===!0)||e==="id",zT=({children:e,id:t,inherit:n=!0})=>{const r=w.useContext(qi),s=w.useContext(VT),[i,o]=FT(),a=w.useRef(null),l=r.id||s;a.current===null&&(BT(n)&&l&&(t=t?l+"-"+t:l),a.current={id:t,group:Wv(n)&&r.group||Gp()});const c=w.useMemo(()=>({...a.current,forceRender:i}),[o]);return d.jsx(qi.Provider,{value:c,children:e})},Gv=w.createContext({strict:!1}),Kp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},js={};for(const e in Kp)js[e]={isEnabled:t=>Kp[e].some(n=>!!t[n])};function HT(e){for(const t in e)js[t]={...js[t],...e[t]}}const WT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ha(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WT.has(e)}let Kv=e=>!Ha(e);function GT(e){e&&(Kv=t=>t.startsWith("on")?!Ha(t):e(t))}try{GT(require("@emotion/is-prop-valid").default)}catch{}function KT(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Kv(s)||n===!0&&Ha(s)||!t&&!Ha(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function qT(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Sl=w.createContext({});function bl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Qi(e){return typeof e=="string"||Array.isArray(e)}const jf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rf=["initial",...jf];function kl(e){return bl(e.animate)||Rf.some(t=>Qi(e[t]))}function qv(e){return!!(kl(e)||e.variants)}function YT(e,t){if(kl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Qi(n)?n:void 0,animate:Qi(r)?r:void 0}}return e.inherit!==!1?t:{}}function XT(e){const{initial:t,animate:n}=YT(e,w.useContext(Sl));return w.useMemo(()=>({initial:t,animate:n}),[qp(t),qp(n)])}function qp(e){return Array.isArray(e)?e.join(" "):e}const ZT=Symbol.for("motionComponentSymbol");function us(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QT(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):us(n)&&(n.current=r))},[t])}const Lf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JT="framerAppearId",Yv="data-"+Lf(JT),Xv=w.createContext({});function e2(e,t,n,r,s){var x,b;const{visualElement:i}=w.useContext(Sl),o=w.useContext(Gv),a=w.useContext(wl),l=w.useContext(Mf).reducedMotion,c=w.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=w.useContext(Xv);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&t2(c.current,n,s,f);const h=w.useRef(!1);w.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const p=n[Yv],v=w.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return cf(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Nf.render(u.render),v.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,p)}),v.current=!1))}),u}function t2(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Zv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&us(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Zv(e){if(e)return e.options.allowProjection!==!1?e.projection:Zv(e.parent)}function n2({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&HT(e);function i(a,l){let c;const u={...w.useContext(Mf),...a,layoutId:r2(a)},{isStatic:f}=u,h=XT(a),p=r(a,f);if(!f&&lf){s2();const v=i2(u);c=v.MeasureLayout,h.visualElement=e2(s,p,u,t,v.ProjectionNode)}return d.jsxs(Sl.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,n(s,a,QT(p,h.visualElement,l),p,f,h.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=w.forwardRef(i);return o[ZT]=s,o}function r2({layoutId:e}){const t=w.useContext(qi).id;return t&&e!==void 0?t+"-"+e:e}function s2(e,t){w.useContext(Gv).strict}function i2(e){const{drag:t,layout:n}=js;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ji={};function o2(e){for(const t in e)Ji[t]=e[t],yf(t)&&(Ji[t].isCSSVariable=!0)}function Qv(e,{layout:t,layoutId:n}){return Hs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ji[e]||e==="opacity")}const a2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l2=zs.length;function c2(e,t,n){let r="",s=!0;for(let i=0;i<l2;i++){const o=zs[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Uv(a,Pf[o]);if(!l){s=!1;const u=a2[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Df(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Hs.has(l)){o=!0;continue}else if(yf(l)){s[l]=c;continue}else{const u=Uv(c,Pf[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=c2(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const Of=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jv(e,t,n){for(const r in t)!qe(t[r])&&!Qv(r,n)&&(e[r]=t[r])}function u2({transformTemplate:e},t){return w.useMemo(()=>{const n=Of();return Df(n,t,e),Object.assign({},n.vars,n.style)},[t])}function d2(e,t){const n=e.style||{},r={};return Jv(r,n,e),Object.assign(r,u2(e,t)),r}function f2(e,t){const n={},r=d2(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const h2={offset:"stroke-dashoffset",array:"stroke-dasharray"},p2={offset:"strokeDashoffset",array:"strokeDasharray"};function m2(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?h2:p2;e[i.offset]=$.transform(-r);const o=$.transform(t),a=$.transform(n);e[i.array]=`${o} ${a}`}function ex(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(Df(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&m2(f,s,i,o,!1)}const tx=()=>({...Of(),attrs:{}}),nx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function g2(e,t,n,r){const s=w.useMemo(()=>{const i=tx();return ex(i,t,nx(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Jv(i,e.style,e),s.style={...i,...s.style}}return s}const y2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vf(e){return typeof e!="string"||e.includes("-")?!1:!!(y2.indexOf(e)>-1||/[A-Z]/u.test(e))}function v2(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Vf(n)?g2:f2)(r,i,o,n),c=KT(r,typeof n=="string",e),u=n!==w.Fragment?{...c,...l,ref:s}:{},{children:f}=r,h=w.useMemo(()=>qe(f)?f.get():f,[f]);return w.createElement(n,{...u,children:h})}}function Yp(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Uf(e,t,n,r){if(typeof t=="function"){const[s,i]=Yp(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Yp(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function da(e){return qe(e)?e.get():e}function x2({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:w2(n,r,s,e),renderState:t()}}const rx=e=>(t,n)=>{const r=w.useContext(Sl),s=w.useContext(wl),i=()=>x2(e,t,r,s);return n?i():af(i)};function w2(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=da(i[h]);let{initial:o,animate:a}=e;const l=kl(e),c=qv(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!bl(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=Uf(e,h[p]);if(v){const{transitionEnd:x,transition:b,...m}=v;for(const g in m){let y=m[g];if(Array.isArray(y)){const S=u?y.length-1:0;y=y[S]}y!==null&&(s[g]=y)}for(const g in x)s[g]=x[g]}}}return s}function Ff(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(qe(r[o])||t.style&&qe(t.style[o])||Qv(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const S2={useVisualState:rx({scrapeMotionValuesFromProps:Ff,createRenderState:Of})};function sx(e,t,n){const r=Ff(e,t,n);for(const s in e)if(qe(e[s])||qe(t[s])){const i=zs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const b2={useVisualState:rx({scrapeMotionValuesFromProps:sx,createRenderState:tx})};function k2(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Vf(r)?b2:S2,preloadedFeatures:e,useRender:v2(s),createVisualElement:t,Component:r};return n2(o)}}function eo(e,t,n){const r=e.getProps();return Uf(r,t,n!==void 0?n:r.custom,e)}const Wu=e=>Array.isArray(e);function T2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ms(n))}function _2(e){return Wu(e)?e[e.length-1]||0:e}function E2(e,t){const n=eo(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=_2(i[o]);T2(e,o,a)}}function C2(e){return!!(qe(e)&&e.add)}function Gu(e,t){const n=e.getValue("willChange");if(C2(n))return n.add(t);if(!n&&bn.WillChange){const r=new bn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function ix(e){return e.props[Yv]}const I2=e=>e!==null;function P2(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(I2),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const N2={type:"spring",stiffness:500,damping:25,restSpeed:10},A2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),M2={type:"keyframes",duration:.8},j2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R2=(e,{keyframes:t})=>t.length>2?M2:Hs.has(e)?e.startsWith("scale")?A2(t[1]):N2:j2;function L2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const $f=(e,t,n,r={},s,i)=>o=>{const a=If(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Xt(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};L2(a)||Object.assign(u,R2(e,u)),u.duration&&(u.duration=Xt(u.duration)),u.repeatDelay&&(u.repeatDelay=Xt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(bn.instantAnimations||bn.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,f&&!i&&t.get()!==void 0){const h=P2(u.keyframes,a);if(h!==void 0){ye.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new _f(u):new cT(u)};function D2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ox(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){const f=e.getValue(u,e.latestValues[u]??null),h=a[u];if(h===void 0||c&&D2(c,u))continue;const p={delay:n,...If(i||{},u)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const m=ix(e);if(m){const g=window.MotionHandoffAnimation(m,u,ye);g!==null&&(p.startTime=g,x=!0)}}Gu(e,u),f.start($f(u,f,h,e.shouldReduceMotion&&Rv.has(u)?{type:!1}:p,e,x));const b=f.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{ye.update(()=>{o&&E2(e,o)})}),l}function Ku(e,t,n={}){var l;const r=eo(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(ox(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=s;return O2(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function O2(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(V2).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Ku(c,t,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function V2(e,t){return e.sortNodePosition(t)}function U2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Ku(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Ku(e,t,n);else{const s=typeof t=="function"?eo(e,t,n.custom):t;r=Promise.all(ox(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function ax(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const F2=Rf.length;function lx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?lx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<F2;n++){const r=Rf[n],s=e.props[r];(Qi(s)||s===!1)&&(t[r]=s)}return t}const $2=[...jf].reverse(),B2=jf.length;function z2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>U2(e,n,r)))}function H2(e){let t=z2(e),n=Xp(),r=!0;const s=l=>(c,u)=>{var h;const f=eo(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:v,...x}=f;c={...c,...x,...v}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,u=lx(e.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let b=0;b<B2;b++){const m=$2[b],g=n[m],y=c[m]!==void 0?c[m]:u[m],S=Qi(y),k=m===l?g.isActive:null;k===!1&&(v=b);let _=y===u[m]&&y!==c[m]&&S;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...p},!g.isActive&&k===null||!y&&!g.prevProp||bl(y)||typeof y=="boolean")continue;const E=W2(g.prevProp,y);let T=E||m===l&&g.isActive&&!_&&S||b>v&&S,M=!1;const C=Array.isArray(y)?y:[y];let V=C.reduce(s(m),{});k===!1&&(V={});const{prevResolvedValues:Q={}}=g,J={...Q,...V},ue=H=>{T=!0,h.has(H)&&(M=!0,h.delete(H)),g.needsAnimating[H]=!0;const A=e.getValue(H);A&&(A.liveStyle=!1)};for(const H in J){const A=V[H],P=Q[H];if(p.hasOwnProperty(H))continue;let R=!1;Wu(A)&&Wu(P)?R=!ax(A,P):R=A!==P,R?A!=null?ue(H):h.add(H):A!==void 0&&h.has(H)?ue(H):g.protectedKeys[H]=!0}g.prevProp=y,g.prevResolvedValues=V,g.isActive&&(p={...p,...V}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(_&&E)||M)&&f.push(...C.map(H=>({animation:H,options:{type:m}})))}if(h.size){const b={};if(typeof c.initial!="boolean"){const m=eo(e,Array.isArray(c.initial)?c.initial[0]:c.initial);m&&m.transition&&(b.transition=m.transition)}h.forEach(m=>{const g=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),b[m]=g??null}),f.push({animation:b})}let x=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Xp(),r=!0}}}function W2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ax(t,e):!1}function wr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xp(){return{animate:wr(!0),whileInView:wr(),whileHover:wr(),whileTap:wr(),whileDrag:wr(),whileFocus:wr(),exit:wr()}}class yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class G2 extends yr{constructor(t){super(t),t.animationState||(t.animationState=H2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let K2=0;class q2 extends yr{constructor(){super(...arguments),this.id=K2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Y2={animation:{Feature:G2},exit:{Feature:q2}};function to(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function po(e){return{point:{x:e.pageX,y:e.pageY}}}const X2=e=>t=>Af(t)&&e(t,po(t));function Ti(e,t,n,r){return to(e,t,X2(n),r)}function cx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Z2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Q2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const ux=1e-4,J2=1-ux,e_=1+ux,dx=.01,t_=0-dx,n_=0+dx;function Ze(e){return e.max-e.min}function r_(e,t,n){return Math.abs(e-t)<=n}function Zp(e,t,n,r=.5){e.origin=r,e.originPoint=xe(t.min,t.max,e.origin),e.scale=Ze(n)/Ze(t),e.translate=xe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=J2&&e.scale<=e_||isNaN(e.scale))&&(e.scale=1),(e.translate>=t_&&e.translate<=n_||isNaN(e.translate))&&(e.translate=0)}function _i(e,t,n,r){Zp(e.x,t.x,n.x,r?r.originX:void 0),Zp(e.y,t.y,n.y,r?r.originY:void 0)}function Qp(e,t,n){e.min=n.min+t.min,e.max=e.min+Ze(t)}function s_(e,t,n){Qp(e.x,t.x,n.x),Qp(e.y,t.y,n.y)}function Jp(e,t,n){e.min=t.min-n.min,e.max=e.min+Ze(t)}function Ei(e,t,n){Jp(e.x,t.x,n.x),Jp(e.y,t.y,n.y)}const em=()=>({translate:0,scale:1,origin:0,originPoint:0}),ds=()=>({x:em(),y:em()}),tm=()=>({min:0,max:0}),Ee=()=>({x:tm(),y:tm()});function wt(e){return[e("x"),e("y")]}function yc(e){return e===void 0||e===1}function qu({scale:e,scaleX:t,scaleY:n}){return!yc(e)||!yc(t)||!yc(n)}function kr(e){return qu(e)||fx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fx(e){return nm(e.x)||nm(e.y)}function nm(e){return e&&e!=="0%"}function Wa(e,t,n){const r=e-n,s=t*r;return n+s}function rm(e,t,n,r,s){return s!==void 0&&(e=Wa(e,s,r)),Wa(e,n,r)+t}function Yu(e,t=0,n=1,r,s){e.min=rm(e.min,t,n,r,s),e.max=rm(e.max,t,n,r,s)}function hx(e,{x:t,y:n}){Yu(e.x,t.translate,t.scale,t.originPoint),Yu(e.y,n.translate,n.scale,n.originPoint)}const sm=.999999999999,im=1.0000000000001;function i_(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,hx(e,o)),r&&kr(i.latestValues)&&hs(e,i.latestValues))}t.x<im&&t.x>sm&&(t.x=1),t.y<im&&t.y>sm&&(t.y=1)}function fs(e,t){e.min=e.min+t,e.max=e.max+t}function om(e,t,n,r,s=.5){const i=xe(e.min,e.max,s);Yu(e,t,n,i,r)}function hs(e,t){om(e.x,t.x,t.scaleX,t.scale,t.originX),om(e.y,t.y,t.scaleY,t.scale,t.originY)}function px(e,t){return cx(Q2(e.getBoundingClientRect(),t))}function o_(e,t,n){const r=px(e,n),{scroll:s}=t;return s&&(fs(r.x,s.offset.x),fs(r.y,s.offset.y)),r}const mx=({current:e})=>e?e.ownerDocument.defaultView:null,am=(e,t)=>Math.abs(e-t);function a_(e,t){const n=am(e.x,t.x),r=am(e.y,t.y);return Math.sqrt(n**2+r**2)}class gx{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=xc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=a_(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:x}=Ve;this.history.push({...v,timestamp:x});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=vc(h,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=xc(f.type==="pointercancel"?this.lastMoveEventInfo:vc(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),v&&v(f,b)},!Af(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=po(t),a=vc(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ve;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,xc(a,this.history)),this.removeListeners=uo(Ti(this.contextWindow,"pointermove",this.handlePointerMove),Ti(this.contextWindow,"pointerup",this.handlePointerUp),Ti(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fr(this.updatePoint)}}function vc(e,t){return t?{point:t(e.point)}:e}function lm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xc({point:e},t){return{point:e,delta:lm(e,yx(t)),offset:lm(e,l_(t)),velocity:c_(t,.1)}}function l_(e){return e[0]}function yx(e){return e[e.length-1]}function c_(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=yx(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Xt(t)));)n--;if(!r)return{x:0,y:0};const i=Zt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function u_(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?xe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?xe(n,e,r.max):Math.min(e,n)),e}function cm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function d_(e,{top:t,left:n,bottom:r,right:s}){return{x:cm(e.x,n,s),y:cm(e.y,t,r)}}function um(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function f_(e,t){return{x:um(e.x,t.x),y:um(e.y,t.y)}}function h_(e,t){let n=.5;const r=Ze(e),s=Ze(t);return s>r?n=Yi(t.min,t.max-r,e.min):r>s&&(n=Yi(e.min,e.max-s,t.min)),Sn(0,1,n)}function p_(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Xu=.35;function m_(e=Xu){return e===!1?e=0:e===!0&&(e=Xu),{x:dm(e,"left","right"),y:dm(e,"top","bottom")}}function dm(e,t,n){return{min:fm(e,t),max:fm(e,n)}}function fm(e,t){return typeof e=="number"?e:e[t]||0}const g_=new WeakMap;class y_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(po(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_T(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wt(b=>{let m=this.getAxisMotionValue(b).get()||0;if(Qt.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[b];y&&(m=Ze(y)*(parseFloat(m)/100))}}this.originPoint[b]=m}),v&&ye.postRender(()=>v(u,f)),Gu(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=v_(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),x&&x(u,f)},a=(u,f)=>this.stop(u,f),l=()=>wt(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new gx(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:mx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ye.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Go(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=u_(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&us(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=d_(r.layoutBox,t):this.constraints=!1,this.elastic=m_(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=p_(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!us(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=o_(r,s.root,this.visualElement.getTransformPagePoint());let o=f_(s.layout.layoutBox,i);if(n){const a=n(Z2(o));this.hasMutatedConstraints=!!a,a&&(o=cx(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=wt(u=>{if(!Go(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Gu(this.visualElement,t),r.start($f(t,r,0,n,this.visualElement,!1))}stopAnimation(){wt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wt(n=>{const{drag:r}=this.getProps();if(!Go(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-xe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!us(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=h_({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wt(o=>{if(!Go(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(xe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;g_.set(this.visualElement,this);const t=this.visualElement.current,n=Ti(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();us(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ye.read(r);const o=to(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(wt(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Xu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Go(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function v_(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class x_ extends yr{constructor(t){super(t),this.removeGroupControls=Et,this.removeListeners=Et,this.controls=new y_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Et}unmount(){this.removeGroupControls(),this.removeListeners()}}const hm=e=>(t,n)=>{e&&ye.postRender(()=>e(t,n))};class w_ extends yr{constructor(){super(...arguments),this.removePointerDownListener=Et}onPointerDown(t){this.session=new gx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:hm(t),onStart:hm(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ye.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ti(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ai={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=pm(e,t.target.x),r=pm(e,t.target.y);return`${n}% ${r}%`}},S_={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=hr.parse(e);if(s.length>5)return r;const i=hr.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=xe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class b_ extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;o2(k_),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Nf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vx(e){const[t,n]=Hv(),r=w.useContext(qi);return d.jsx(b_,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(Xv),isPresent:t,safeToRemove:n})}const k_={borderRadius:{...ai,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:S_};function T_(e,t,n){const r=qe(e)?e:Ms(e);return r.start($f("",r,t,n)),r.animation}const __=(e,t)=>e.depth-t.depth;class E_{constructor(){this.children=[],this.isDirty=!1}add(t){uf(this.children,t),this.isDirty=!0}remove(t){df(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(__),this.isDirty=!1,this.children.forEach(t)}}function C_(e,t){const n=it.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(fr(r),e(i-t))};return ye.setup(r,!0),()=>fr(r)}const xx=["TopLeft","TopRight","BottomLeft","BottomRight"],I_=xx.length,mm=e=>typeof e=="string"?parseFloat(e):e,gm=e=>typeof e=="number"||$.test(e);function P_(e,t,n,r,s,i){s?(e.opacity=xe(0,n.opacity??1,N_(r)),e.opacityExit=xe(t.opacity??1,0,A_(r))):i&&(e.opacity=xe(t.opacity??1,n.opacity??1,r));for(let o=0;o<I_;o++){const a=`border${xx[o]}Radius`;let l=ym(t,a),c=ym(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||gm(l)===gm(c)?(e[a]=Math.max(xe(mm(l),mm(c),r),0),(Qt.test(c)||Qt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=xe(t.rotate||0,n.rotate||0,r))}function ym(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const N_=wx(0,.5,dv),A_=wx(.5,.95,Et);function wx(e,t,n){return r=>r<e?0:r>t?1:n(Yi(e,t,r))}function vm(e,t){e.min=t.min,e.max=t.max}function xt(e,t){vm(e.x,t.x),vm(e.y,t.y)}function xm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function wm(e,t,n,r,s){return e-=t,e=Wa(e,1/n,r),s!==void 0&&(e=Wa(e,1/s,r)),e}function M_(e,t=0,n=1,r=.5,s,i=e,o=e){if(Qt.test(t)&&(t=parseFloat(t),t=xe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=xe(i.min,i.max,r);e===i&&(a-=t),e.min=wm(e.min,t,n,a,s),e.max=wm(e.max,t,n,a,s)}function Sm(e,t,[n,r,s],i,o){M_(e,t[n],t[r],t[s],t.scale,i,o)}const j_=["x","scaleX","originX"],R_=["y","scaleY","originY"];function bm(e,t,n,r){Sm(e.x,t,j_,n?n.x:void 0,r?r.x:void 0),Sm(e.y,t,R_,n?n.y:void 0,r?r.y:void 0)}function km(e){return e.translate===0&&e.scale===1}function Sx(e){return km(e.x)&&km(e.y)}function Tm(e,t){return e.min===t.min&&e.max===t.max}function L_(e,t){return Tm(e.x,t.x)&&Tm(e.y,t.y)}function _m(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bx(e,t){return _m(e.x,t.x)&&_m(e.y,t.y)}function Em(e){return Ze(e.x)/Ze(e.y)}function Cm(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class D_{constructor(){this.members=[]}add(t){uf(this.members,t),t.scheduleRender()}remove(t){if(df(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function O_(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const wc=["","X","Y","Z"],V_={visibility:"hidden"},U_=1e3;let F_=0;function Sc(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function kx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ix(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&kx(r)}function Tx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=F_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(z_),this.nodes.forEach(q_),this.nodes.forEach(Y_),this.nodes.forEach(H_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new E_)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pf),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zv(o)&&!AT(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=C_(f,250),fa.hasAnimatedSinceResize&&(fa.hasAnimatedSinceResize=!1,this.nodes.forEach(Pm))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||eE,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=c.getProps(),m=!this.targetLayout||!bx(this.targetLayout,p),g=!f&&h;if(this.options.layoutRoot||this.resumeFrom||g||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,g);const y={...If(v,"layout"),onPlay:x,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else f||Pm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(X_),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Im);return}this.isUpdating||this.nodes.forEach(G_),this.isUpdating=!1,this.nodes.forEach(K_),this.nodes.forEach($_),this.nodes.forEach(B_),this.clearAllSnapshots();const a=it.now();Ve.delta=Sn(0,1e3/60,a-Ve.timestamp),Ve.timestamp=a,Ve.isProcessing=!0,dc.update.process(Ve),dc.preRender.process(Ve),dc.render.process(Ve),Ve.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(W_),this.sharedNodes.forEach(Z_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ze(this.snapshot.measuredBox.x)&&!Ze(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Sx(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||kr(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),tE(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ee();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(nE))){const{scroll:u}=this.root;u&&(fs(a.x,u.offset.x),fs(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Ee();if(xt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&xt(a,o),fs(a.x,f.offset.x),fs(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Ee();xt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&hs(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kr(u.latestValues)&&hs(l,u.latestValues)}return kr(this.latestValues)&&hs(l,this.latestValues),l}removeTransform(o){const a=Ee();xt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!kr(c.latestValues))continue;qu(c.latestValues)&&c.updateSnapshot();const u=Ee(),f=c.measurePageBox();xt(u,f),bm(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return kr(this.latestValues)&&bm(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ve.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Ve.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Ei(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xt(this.target,this.layout.layoutBox),hx(this.target,this.targetDelta)):xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Ei(this.relativeTargetOrigin,this.target,p.target),xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qu(this.parent.latestValues)||fx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ve.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;xt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;i_(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ee());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xm(this.prevProjectionDelta.x,this.projectionDelta.x),xm(this.prevProjectionDelta.y,this.projectionDelta.y)),_i(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Cm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ds(),this.projectionDelta=ds(),this.projectionDeltaWithTransform=ds()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ds();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ee(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=p!==v,b=this.getStack(),m=!b||b.members.length<=1,g=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(J_));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const k=S/1e3;Nm(f.x,o.x,k),Nm(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ei(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q_(this.relativeTarget,this.relativeTargetOrigin,h,k),y&&L_(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ee()),xt(y,this.relativeTarget)),x&&(this.animationValues=u,P_(u,c,this.latestValues,k,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{fa.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ms(0)),this.currentAnimation=T_(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U_),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&_x(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ee();const f=Ze(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Ze(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}xt(a,l),hs(a,u),_i(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new D_),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Sc("z",o,c,this.animationValues);for(let u=0;u<wc.length;u++)Sc(`rotate${wc[u]}`,o,c,this.animationValues),Sc(`skew${wc[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return V_;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=da(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=da(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kr(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=O_(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Ji){if(u[p]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:b}=Ji[p],m=a.transform==="none"?u[p]:v(u[p],c);if(x){const g=x.length;for(let y=0;y<g;y++)a[x[y]]=m}else b?this.options.visualElement.renderState.vars[p]=m:a[p]=m}return this.options.layoutId&&(a.pointerEvents=c===this?da(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(Im),this.root.sharedNodes.clear()}}}function $_(e){e.updateLayout()}function B_(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?wt(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=Ze(h);h.min=r[f].min,h.max=h.min+p}):_x(i,t.layoutBox,r)&&wt(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=Ze(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const a=ds();_i(a,r,t.layoutBox);const l=ds();o?_i(l,e.applyTransform(s,!0),t.measuredBox):_i(l,r,t.layoutBox);const c=!Sx(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=Ee();Ei(v,t.layoutBox,h.layoutBox);const x=Ee();Ei(x,r,p.layoutBox),bx(v,x)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function z_(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function H_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function W_(e){e.clearSnapshot()}function Im(e){e.clearMeasurements()}function G_(e){e.isLayoutDirty=!1}function K_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Pm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function q_(e){e.resolveTargetDelta()}function Y_(e){e.calcProjection()}function X_(e){e.resetSkewAndRotation()}function Z_(e){e.removeLeadSnapshot()}function Nm(e,t,n){e.translate=xe(t.translate,0,n),e.scale=xe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Am(e,t,n,r){e.min=xe(t.min,n.min,r),e.max=xe(t.max,n.max,r)}function Q_(e,t,n,r){Am(e.x,t.x,n.x,r),Am(e.y,t.y,n.y,r)}function J_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eE={duration:.45,ease:[.4,0,.1,1]},Mm=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jm=Mm("applewebkit/")&&!Mm("chrome/")?Math.round:Et;function Rm(e){e.min=jm(e.min),e.max=jm(e.max)}function tE(e){Rm(e.x),Rm(e.y)}function _x(e,t,n){return e==="position"||e==="preserve-aspect"&&!r_(Em(t),Em(n),.2)}function nE(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rE=Tx({attachResizeListener:(e,t)=>to(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bc={current:void 0},Ex=Tx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bc.current){const e=new rE({});e.mount(window),e.setOptions({layoutScroll:!0}),bc.current=e}return bc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sE={pan:{Feature:w_},drag:{Feature:x_,ProjectionNode:Ex,MeasureLayout:vx}};function Lm(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ye.postRender(()=>i(t,po(t)))}class iE extends yr{mount(){const{current:t}=this.node;t&&(this.unmount=ET(t,(n,r)=>(Lm(this.node,r,"Start"),s=>Lm(this.node,s,"End"))))}unmount(){}}class oE extends yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uo(to(this.node.current,"focus",()=>this.onFocus()),to(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Dm(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ye.postRender(()=>i(t,po(t)))}class aE extends yr{mount(){const{current:t}=this.node;t&&(this.unmount=NT(t,(n,r)=>(Dm(this.node,r,"Start"),(s,{success:i})=>Dm(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zu=new WeakMap,kc=new WeakMap,lE=e=>{const t=Zu.get(e.target);t&&t(e)},cE=e=>{e.forEach(lE)};function uE({root:e,...t}){const n=e||document;kc.has(n)||kc.set(n,{});const r=kc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(cE,{root:e,...t})),r[s]}function dE(e,t,n){const r=uE(t);return Zu.set(e,n),r.observe(e),()=>{Zu.delete(e),r.unobserve(e)}}const fE={some:0,all:1};class hE extends yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fE[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return dE(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(pE(t,n))&&this.startObserver()}unmount(){}}function pE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const mE={inView:{Feature:hE},tap:{Feature:aE},focus:{Feature:oE},hover:{Feature:iE}},gE={layout:{ProjectionNode:Ex,MeasureLayout:vx}},Qu={current:null},Cx={current:!1};function yE(){if(Cx.current=!0,!!lf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qu.current=e.matches;e.addListener(t),t()}else Qu.current=!1}const vE=new WeakMap;function xE(e,t,n){for(const r in t){const s=t[r],i=n[r];if(qe(s))e.addValue(r,s);else if(qe(i))e.addValue(r,Ms(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ms(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Om=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wE{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ef,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=it.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ye.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=kl(n),this.isVariantNode=qv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&qe(p)&&p.set(l[h],!1)}}mount(t){this.current=t,vE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Cx.current||yE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Hs.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in js){const n=js[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Om.length;r++){const s=Om[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=xE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ms(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(tv(r)||rv(r))?r=parseFloat(r):!jT(r)&&hr.test(n)&&(r=Vv(t,n)),this.setBaseTarget(t,qe(r)?r.get():r)),qe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Uf(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!qe(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new pf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ix extends wE{constructor(){super(...arguments),this.KeyframeResolver=ST}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Px(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}function SE(e){return window.getComputedStyle(e)}class bE extends Ix{constructor(){super(...arguments),this.type="html",this.renderInstance=Px}readValueFromInstance(t,n){var r;if(Hs.has(n))return(r=this.projection)!=null&&r.isProjecting?Uu(n):Fk(t,n);{const s=SE(t),i=(yf(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return px(t,n)}build(t,n,r){Df(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Ff(t,n,r)}}const Nx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kE(e,t,n,r){Px(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Nx.has(s)?s:Lf(s),t.attrs[s])}class TE extends Ix{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Hs.has(n)){const r=Ov(n);return r&&r.default||0}return n=Nx.has(n)?n:Lf(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return sx(t,n,r)}build(t,n,r){ex(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){kE(t,n,r,s)}mount(t){this.isSVGTag=nx(t.tagName),super.mount(t)}}const _E=(e,t)=>Vf(e)?new TE(t):new bE(t,{allowProjection:e!==w.Fragment}),EE=k2({...Y2,...mE,...sE,...gE},_E),q=qT(EE);function Rs(e,t,n={}){const[r,s]=w.useState(()=>{var i;try{const o=window.localStorage.getItem(e);return o!==null?JSON.parse(o):typeof t=="function"?t():t}catch(o){return console.warn(`useLocalStorage: Error reading key "${e}":`,o),(i=n.onError)==null||i.call(n,"read",o),typeof t=="function"?t():t}});return w.useEffect(()=>{var i;try{const o=JSON.stringify(r);window.localStorage.setItem(e,o)}catch(o){console.warn(`useLocalStorage: Error setting key "${e}":`,o),(i=n.onError)==null||i.call(n,"write",o)}},[e,r,n]),[r,s]}const De=[];for(let e=0;e<256;++e)De.push((e+256).toString(16).slice(1));function CE(e,t=0){return(De[e[t+0]]+De[e[t+1]]+De[e[t+2]]+De[e[t+3]]+"-"+De[e[t+4]]+De[e[t+5]]+"-"+De[e[t+6]]+De[e[t+7]]+"-"+De[e[t+8]]+De[e[t+9]]+"-"+De[e[t+10]]+De[e[t+11]]+De[e[t+12]]+De[e[t+13]]+De[e[t+14]]+De[e[t+15]]).toLowerCase()}let Tc;const IE=new Uint8Array(16);function PE(){if(!Tc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Tc=crypto.getRandomValues.bind(crypto)}return Tc(IE)}const NE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vm={randomUUID:NE};function se(e,t,n){var s;if(Vm.randomUUID&&!t&&!e)return Vm.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??PE();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[n+i]=r[i];return t}return CE(r)}const Ax=[{id:"tech",name:"tech",count:0,lastUsed:0},{id:"tattoos",name:"tattoos",count:0,lastUsed:0},{id:"crypto",name:"crypto",count:0,lastUsed:0},{id:"friendly",name:"friendly",count:0,lastUsed:0},{id:"foodie",name:"foodie",count:0,lastUsed:0},{id:"kind",name:"kind",count:0,lastUsed:0},{id:"local",name:"local",count:0,lastUsed:0},{id:"fashion",name:"fashion",count:0,lastUsed:0},{id:"raptors",name:"raptors",count:0,lastUsed:0},{id:"neighbour",name:"neighbour",count:0,lastUsed:0},{id:"marketing",name:"marketing",count:0,lastUsed:0},{id:"networker",name:"networker",count:0,lastUsed:0},{id:"events",name:"events",count:0,lastUsed:0},{id:"chef",name:"chef",count:0,lastUsed:0},{id:"intense",name:"intense",count:0,lastUsed:0},{id:"creative",name:"creative",count:0,lastUsed:0},{id:"design",name:"design",count:0,lastUsed:0},{id:"sketching",name:"sketching",count:0,lastUsed:0},{id:"dj",name:"dj",count:0,lastUsed:0},{id:"music",name:"music",count:0,lastUsed:0},{id:"nightlife",name:"nightlife",count:0,lastUsed:0},{id:"vibes",name:"vibes",count:0,lastUsed:0},{id:"photography",name:"photography",count:0,lastUsed:0},{id:"social",name:"social",count:0,lastUsed:0},{id:"bartender",name:"bartender",count:0,lastUsed:0},{id:"chill",name:"chill",count:0,lastUsed:0},{id:"mezcal",name:"mezcal",count:0,lastUsed:0},{id:"hospitality",name:"hospitality",count:0,lastUsed:0},{id:"law",name:"law",count:0,lastUsed:0},{id:"debate",name:"debate",count:0,lastUsed:0},{id:"ai",name:"ai",count:0,lastUsed:0},{id:"smart",name:"smart",count:0,lastUsed:0},{id:"energetic",name:"energetic",count:0,lastUsed:0},{id:"fast",name:"fast",count:0,lastUsed:0},{id:"confident",name:"confident",count:0,lastUsed:0},{id:"funny",name:"funny",count:0,lastUsed:0},{id:"health",name:"health",count:0,lastUsed:0},{id:"calm",name:"calm",count:0,lastUsed:0}],ke=[{id:se(),name:"Bar Raval",locationTag:"Little Italy  Toronto, ON",coords:{lat:43.6557,lon:-79.4111},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"The Drake Hotel",locationTag:"Queen West  Toronto, ON",coords:{lat:43.6424,lon:-79.4254},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"Mother Tongue",locationTag:"Entertainment District  Toronto, ON",coords:{lat:43.6479,lon:-79.3947},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"The Broadview Rooftop",locationTag:"Riverside  Toronto, ON",coords:{lat:43.6593,lon:-79.3511},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"Stackt Market Pavilion",locationTag:"Bathurst & Front  Toronto, ON",coords:{lat:43.6419,lon:-79.4036},favorite:!1,proximityAlertsEnabled:!0},{id:se(),name:"Hemingway's",locationTag:"Yorkville  Toronto, ON",coords:{lat:43.671,lon:-79.3932},favorite:!1,proximityAlertsEnabled:!0}],Mx=[{id:se(),name:"Grant Bass",position:"Software Engineer",description:"Met after a React meetup spillover at Bar Ravalsmart, energetic.",venueId:ke[0].id,dateMet:"2025-05-03T21:30:00.000Z",createdAt:"2025-05-03T21:30:00.000Z",tags:["tech","smart","energetic"]},{id:se(),name:"Sarah Mitchell",position:"Nurse",description:"Friendly and kindgrabbed mocktails at The Drake Hotel lobby bar.",venueId:ke[1].id,dateMet:"2025-05-04T20:15:00.000Z",createdAt:"2025-05-04T20:15:00.000Z",tags:["friendly","kind","local"]},{id:se(),name:"Alex Wong",position:"Software Engineer",description:"Into crypto and blockchainloves Mother Tongues late-night vibe.",venueId:ke[2].id,dateMet:"2025-04-25T23:00:00.000Z",createdAt:"2025-04-25T23:00:00.000Z",tags:["crypto","tech","creative"]},{id:se(),name:"Sophie Turner",position:"Marketing Coordinator",description:"Always networkingco-hosted a pop-up at Stackt Market.",venueId:ke[4].id,dateMet:"2025-05-07T20:00:00.000Z",createdAt:"2025-05-07T20:00:00.000Z",tags:["marketing","networker","events"]},{id:se(),name:"Marcus James",position:"Chef",description:"Creative chef who moonlights at Mother Tongues test kitchen.",venueId:ke[2].id,dateMet:"2025-05-09T18:45:00.000Z",createdAt:"2025-05-09T18:45:00.000Z",tags:["chef","intense","foodie"]},{id:se(),name:"Ella Chen",position:"UX Designer",description:"Sketches rooftop concepts over espresso at The Broadview.",venueId:ke[3].id,dateMet:"2025-04-30T19:20:00.000Z",createdAt:"2025-04-30T19:20:00.000Z",tags:["design","sketching","creative"]},{id:se(),name:"Tyrese Cole",position:"DJ",description:"Spins vinyl for Drake Hotel lobby sets and loves the sound system.",venueId:ke[1].id,dateMet:"2025-05-12T01:00:00.000Z",createdAt:"2025-05-12T01:00:00.000Z",tags:["dj","music","nightlife"]},{id:se(),name:"Dani Romero",position:"Photographer",description:"Shoots candid portraits around Stackts container alleys.",venueId:ke[4].id,dateMet:"2025-05-12T23:30:00.000Z",createdAt:"2025-05-12T23:30:00.000Z",tags:["photography","social","creative"]},{id:se(),name:"Jamal Peterson",position:"Bartender",description:"Chill bartender mixing mezcal cocktails at Hemingway's patio.",venueId:ke[5].id,dateMet:"2025-05-14T00:30:00.000Z",createdAt:"2025-05-14T00:30:00.000Z",tags:["bartender","chill","mezcal"]},{id:se(),name:"Ava Nguyen",position:"Law Student",description:"Debated AI ethics over tapas at Bar Raval.",venueId:ke[0].id,dateMet:"2025-05-15T21:00:00.000Z",createdAt:"2025-05-15T21:00:00.000Z",tags:["law","debate","ai"]},{id:se(),name:"Julian Reyes",position:"Barback",description:"Fast and efficientkeeps the Drake Hotel bar humming.",venueId:ke[1].id,dateMet:"2025-04-22T22:00:00.000Z",createdAt:"2025-04-22T22:00:00.000Z",tags:["hospitality","fast","energetic"]},{id:se(),name:"Nina Keller",position:"Marketing Coordinator",description:"Organizes top-tier launches at Stackt Market.",venueId:ke[4].id,dateMet:"2025-05-08T18:30:00.000Z",createdAt:"2025-05-08T18:30:00.000Z",tags:["events","marketing","networker"]},{id:se(),name:"Omar Williams",position:"Chef",description:"Trendy food truck guru now staging at Mother Tongue.",venueId:ke[2].id,dateMet:"2025-05-11T17:00:00.000Z",createdAt:"2025-05-11T17:00:00.000Z",tags:["chef","foodie","creative"]},{id:se(),name:"Tasha Green",position:"Photographer",description:"Retro-style film photographer obsessed with Broadview sunsets.",venueId:ke[3].id,dateMet:"2025-05-13T19:30:00.000Z",createdAt:"2025-05-13T19:30:00.000Z",tags:["photography","vibes","artistic"]},{id:se(),name:"David Lee",position:"Software Engineer",description:"Connects devs to meetupsalways posts up at Bar Ravals windows.",venueId:ke[0].id,dateMet:"2025-05-06T19:00:00.000Z",createdAt:"2025-05-06T19:00:00.000Z",tags:["tech","networker","friendly"]},{id:se(),name:"Lena Tran",position:"UX Designer",description:"Detail-oriented designer who sketches at Drakes cafe tables.",venueId:ke[1].id,dateMet:"2025-05-10T18:00:00.000Z",createdAt:"2025-05-10T18:00:00.000Z",tags:["design","kind","creative"]},{id:se(),name:"Chris McMillan",position:"DJ",description:"Deep house specialist booked for Hemingway's late sets.",venueId:ke[5].id,dateMet:"2025-05-04T20:30:00.000Z",createdAt:"2025-05-04T20:30:00.000Z",tags:["music","nightlife","vibes"]},{id:se(),name:"Rhea Palmer",position:"Law Student",description:"AI ethics debate champ who favors Broadview rooftop meetups.",venueId:ke[3].id,dateMet:"2025-05-15T21:15:00.000Z",createdAt:"2025-05-15T21:15:00.000Z",tags:["law","debate","ai"]},{id:se(),name:"Tony Delvecchio",position:"Bartender",description:"Resident jokester slinging mezcal at Hemingway's hidden bar.",venueId:ke[5].id,dateMet:"2025-05-02T20:45:00.000Z",createdAt:"2025-05-02T20:45:00.000Z",tags:["bartender","funny","mezcal"]},{id:se(),name:"Zo Kim",position:"Nurse",description:"Calm under pressurecelebrated at The Drake after night shift.",venueId:ke[1].id,dateMet:"2025-05-04T21:00:00.000Z",createdAt:"2025-05-04T21:00:00.000Z",tags:["health","calm","kind"]}],jx=w.createContext(void 0),AE=({children:e,duration:t=3e3})=>{const[n,r]=Rs("remember-me-notifications",[]),[s,i]=w.useState([]),o=w.useCallback((u,f="success",h)=>{const p={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random()}`,message:u,type:f,timestamp:new Date().toISOString(),read:!1,meta:h};r(v=>[p,...v].slice(0,25)),i(v=>[...v,p].slice(-2)),setTimeout(()=>{i(v=>v.filter(x=>x.id!==p.id))},t)},[t,r]),a=w.useCallback(u=>{i(f=>f.filter(h=>h.id!==u))},[]),l=w.useCallback(u=>{r(f=>f.map(h=>h.id===u?{...h,read:!0}:h))},[r]),c=w.useCallback(()=>{r(u=>u.map(f=>f.read?f:{...f,read:!0}))},[r]);return w.useEffect(()=>()=>{i([])},[]),d.jsx(jx.Provider,{value:{toasts:s,showNotification:o,dismissToast:a,notifications:n,markAsRead:l,markAllAsRead:c},children:e})},Ws=()=>{const e=w.useContext(jx);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ls;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Ls||(Ls={}));class _c extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const ME=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},jE=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:ME(e),i=()=>s()!=="web",o=f=>{const h=c.get(f);return!!(h!=null&&h.platforms.has(s())||a(f))},a=f=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===f)},l=f=>e.console.error(f),c=new Map,u=(f,h={})=>{const p=c.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const v=s(),x=a(f);let b;const m=async()=>(!b&&v in h?b=typeof h[v]=="function"?b=await h[v]():b=h[v]:t!==null&&!b&&"web"in h&&(b=typeof h.web=="function"?b=await h.web():b=h.web),b),g=(T,M)=>{var C,V;if(x){const Q=x==null?void 0:x.methods.find(J=>M===J.name);if(Q)return Q.rtype==="promise"?J=>n.nativePromise(f,M.toString(),J):(J,ue)=>n.nativeCallback(f,M.toString(),J,ue);if(T)return(C=T[M])===null||C===void 0?void 0:C.bind(T)}else{if(T)return(V=T[M])===null||V===void 0?void 0:V.bind(T);throw new _c(`"${f}" plugin is not implemented on ${v}`,Ls.Unimplemented)}},y=T=>{let M;const C=(...V)=>{const Q=m().then(J=>{const ue=g(J,T);if(ue){const Ae=ue(...V);return M=Ae==null?void 0:Ae.remove,Ae}else throw new _c(`"${f}.${T}()" is not implemented on ${v}`,Ls.Unimplemented)});return T==="addListener"&&(Q.remove=async()=>M()),Q};return C.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(C,"name",{value:T,writable:!1,configurable:!1}),C},S=y("addListener"),k=y("removeListener"),_=(T,M)=>{const C=S({eventName:T},M),V=async()=>{const J=await C;k({eventName:T,callbackId:J},M)},Q=new Promise(J=>C.then(()=>J({remove:V})));return Q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},Q},E=new Proxy({},{get(T,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?_:S;case"removeListener":return k;default:return y(M)}}});return r[f]=E,c.set(f,{name:f,proxy:E,platforms:new Set([...Object.keys(h),...x?[v]:[]])}),E};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=s,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=u,n.Exception=_c,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},RE=e=>e.Capacitor=jE(e),ut=RE(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Pn=ut.registerPlugin;class mo{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new ut.Exception(t,Ls.Unimplemented)}unavailable(t="not available"){return new ut.Exception(t,Ls.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const Um=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Fm=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class LE extends mo{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Fm(s).trim(),i=Fm(i).trim(),n[s]=i}),n}async setCookie(t){try{const n=Um(t.key),r=Um(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Pn("CapacitorCookies",{web:()=>new LE});const DE=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),OE=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=e[t[o]],s),{})},VE=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=t?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=t?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,UE=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=OE(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(e.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(e.data))i.append(a,e.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class FE extends mo{async request(t){const n=UE(t,t.webFetchExtra),r=VE(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?t:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await DE(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const u={};return i.headers.forEach((f,h)=>{u[h]=f}),{data:l,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Pn("CapacitorHttp",{web:()=>new FE});var $m;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})($m||($m={}));var Bm;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(Bm||(Bm={}));class $E extends mo{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Pn("SystemBars",{web:()=>new $E});const BE="modulepreload",zE=function(e){return"/"+e},zm={},Tl=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=zE(i),i in zm)return;zm[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":BE,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Hm;(function(e){e.AdPersonalization="AD_PERSONALIZATION",e.AdStorage="AD_STORAGE",e.AdUserData="AD_USER_DATA",e.AnalyticsStorage="ANALYTICS_STORAGE",e.FunctionalityStorage="FUNCTIONALITY_STORAGE",e.PersonalizationStorage="PERSONALIZATION_STORAGE"})(Hm||(Hm={}));var Wm;(function(e){e.Granted="GRANTED",e.Denied="DENIED"})(Wm||(Wm={}));const HE=Pn("FirebaseAnalytics",{web:()=>Tl(()=>import("./web-1c8bad7d.js"),[]).then(e=>new e.FirebaseAnalyticsWeb)}),WE=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},GE=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):GE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new KE;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class KE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qE=function(e){const t=Rx(e);return Lx.encodeByteArray(t,!0)},Dx=function(e){return qE(e).replace(/\./g,"")},Ox=function(e){try{return Lx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=()=>YE().__FIREBASE_DEFAULTS__,ZE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},QE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ox(e[1]);return t&&JSON.parse(t)},Bf=()=>{try{return WE()||XE()||ZE()||QE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},JE=e=>{var t,n;return(n=(t=Bf())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Vx=()=>{var e;return(e=Bf())==null?void 0:e.config},Ux=e=>{var t;return(t=Bf())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tC(e){return(await fetch(e,{credentials:"include"})).ok}const Ci={};function nC(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ci))Ci[t]?e.emulator.push(t):e.prod.push(t);return e}function rC(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Gm=!1;function sC(e,t){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||Ci[e]===t||Ci[e]||Gm)return;Ci[e]=t;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=nC().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Gm=!0,o()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=rC(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),b=document.getElementById(x)||document.createElement("a"),m=n("preprendIcon"),g=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const y=h.element;a(y),u(b,x);const S=c();l(g,m),y.append(g,v,b,S),document.body.appendChild(y)}i?(v.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function oC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zf(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lC(){const e=Je();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Hf(){try{return typeof indexedDB=="object"}catch{return!1}}function Wf(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(n){t(n)}})}function Fx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FirebaseError";class rn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=cC,Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr.prototype.create)}}class Kr{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?uC(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new rn(s,a,r)}}function uC(e,t){return e.replace(dC,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const dC=/\{\$([^}]+)}/g;function fC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $r(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Km(i)&&Km(o)){if(!$r(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Km(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function hC(e,t){const n=new pC(e,t);return n.subscribe.bind(n)}class pC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mC(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Ec),s.error===void 0&&(s.error=Ec),s.complete===void 0&&(s.complete=Ec);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mC(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ec(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1e3,yC=2,vC=4*60*60*1e3,xC=.5;function qm(e,t=gC,n=yC){const r=t*Math.pow(n,e),s=Math.round(xC*r*(Math.random()-.5)*2);return Math.min(vC,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e){return e&&e._delegate?e._delegate:e}class nn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new eC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bC(t))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Tr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tr){return this.instances.has(t)}getOptions(t=Tr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SC(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Tr){return this.component?this.component.multipleInstances?t:Tr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SC(e){return e===Tr?void 0:e}function bC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ie||(ie={}));const TC={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},_C=ie.INFO,EC={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},CC=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=EC[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gf{constructor(t){this.name=t,this._logLevel=_C,this._logHandler=CC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const IC=(e,t)=>t.some(n=>e instanceof n);let Ym,Xm;function PC(){return Ym||(Ym=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NC(){return Xm||(Xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $x=new WeakMap,Ju=new WeakMap,Bx=new WeakMap,Cc=new WeakMap,Kf=new WeakMap;function AC(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(ar(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&$x.set(n,e)}).catch(()=>{}),Kf.set(t,e),t}function MC(e){if(Ju.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ju.set(e,t)}let ed={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ju.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Bx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jC(e){ed=e(ed)}function RC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ic(this),t,...n);return Bx.set(r,t.sort?t.sort():[t]),ar(r)}:NC().includes(e)?function(...t){return e.apply(Ic(this),t),ar($x.get(this))}:function(...t){return ar(e.apply(Ic(this),t))}}function LC(e){return typeof e=="function"?RC(e):(e instanceof IDBTransaction&&MC(e),IC(e,PC())?new Proxy(e,ed):e)}function ar(e){if(e instanceof IDBRequest)return AC(e);if(Cc.has(e))return Cc.get(e);const t=LC(e);return t!==e&&(Cc.set(e,t),Kf.set(t,e)),t}const Ic=e=>Kf.get(e);function zx(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=ar(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ar(o.result),l.oldVersion,l.newVersion,ar(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const DC=["get","getKey","getAll","getAllKeys","count"],OC=["put","add","delete","clear"],Pc=new Map;function Zm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Pc.get(t))return Pc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=OC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||DC.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Pc.set(t,i),i}jC(e=>({...e,get:(t,n,r)=>Zm(t,n)||e.get(t,n,r),has:(t,n)=>!!Zm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const td="@firebase/app",Qm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new Gf("@firebase/app"),FC="@firebase/app-compat",$C="@firebase/analytics-compat",BC="@firebase/analytics",zC="@firebase/app-check-compat",HC="@firebase/app-check",WC="@firebase/auth",GC="@firebase/auth-compat",KC="@firebase/database",qC="@firebase/data-connect",YC="@firebase/database-compat",XC="@firebase/functions",ZC="@firebase/functions-compat",QC="@firebase/installations",JC="@firebase/installations-compat",eI="@firebase/messaging",tI="@firebase/messaging-compat",nI="@firebase/performance",rI="@firebase/performance-compat",sI="@firebase/remote-config",iI="@firebase/remote-config-compat",oI="@firebase/storage",aI="@firebase/storage-compat",lI="@firebase/firestore",cI="@firebase/ai",uI="@firebase/firestore-compat",dI="firebase",fI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",hI={[td]:"fire-core",[FC]:"fire-core-compat",[BC]:"fire-analytics",[$C]:"fire-analytics-compat",[HC]:"fire-app-check",[zC]:"fire-app-check-compat",[WC]:"fire-auth",[GC]:"fire-auth-compat",[KC]:"fire-rtdb",[qC]:"fire-data-connect",[YC]:"fire-rtdb-compat",[XC]:"fire-fn",[ZC]:"fire-fn-compat",[QC]:"fire-iid",[JC]:"fire-iid-compat",[eI]:"fire-fcm",[tI]:"fire-fcm-compat",[nI]:"fire-perf",[rI]:"fire-perf-compat",[sI]:"fire-rc",[iI]:"fire-rc-compat",[oI]:"fire-gcs",[aI]:"fire-gcs-compat",[lI]:"fire-fst",[uI]:"fire-fst-compat",[cI]:"fire-vertex","fire-js":"fire-js",[dI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Map,pI=new Map,rd=new Map;function Jm(e,t){try{e.container.addComponent(t)}catch(n){Tn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _n(e){const t=e.name;if(rd.has(t))return Tn.debug(`There were multiple attempts to register component ${t}.`),!1;rd.set(t,e);for(const n of Ga.values())Jm(n,e);for(const n of pI.values())Jm(n,e);return!0}function Gs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function un(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Kr("app","Firebase",mI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=fI;function Hx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:nd,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw lr.create("bad-app-name",{appName:String(s)});if(n||(n=Vx()),!n)throw lr.create("no-options");const i=Ga.get(s);if(i){if($r(n,i.options)&&$r(r,i.config))return i;throw lr.create("duplicate-app",{appName:s})}const o=new kC(s);for(const l of rd.values())o.addComponent(l);const a=new gI(n,r,o);return Ga.set(s,a),a}function Wx(e=nd){const t=Ga.get(e);if(!t&&e===nd&&Vx())return Hx();if(!t)throw lr.create("no-app",{appName:e});return t}function Jt(e,t,n){let r=hI[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tn.warn(o.join(" "));return}_n(new nn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firebase-heartbeat-database",vI=1,no="firebase-heartbeat-store";let Nc=null;function Gx(){return Nc||(Nc=zx(yI,vI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(no)}catch(n){console.warn(n)}}}}).catch(e=>{throw lr.create("idb-open",{originalErrorMessage:e.message})})),Nc}async function xI(e){try{const n=(await Gx()).transaction(no),r=await n.objectStore(no).get(Kx(e));return await n.done,r}catch(t){if(t instanceof rn)Tn.warn(t.message);else{const n=lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Tn.warn(n.message)}}}async function eg(e,t){try{const r=(await Gx()).transaction(no,"readwrite");await r.objectStore(no).put(t,Kx(e)),await r.done}catch(n){if(n instanceof rn)Tn.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tn.warn(r.message)}}}function Kx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=1024,SI=30;class bI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tg();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>SI){const o=_I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tg(),{heartbeatsToSend:r,unsentEntries:s}=kI(this._heartbeatsCache.heartbeats),i=Dx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Tn.warn(n),""}}}function tg(){return new Date().toISOString().substring(0,10)}function kI(e,t=wI){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ng(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ng(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hf()?Wf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return eg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return eg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ng(e){return Dx(JSON.stringify({version:2,heartbeats:e})).length}function _I(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(e){_n(new nn("platform-logger",t=>new VC(t),"PRIVATE")),_n(new nn("heartbeat",t=>new bI(t),"PRIVATE")),Jt(td,Qm,e),Jt(td,Qm,"esm2020"),Jt("fire-js","")}EI("");const qx="@firebase/installations",qf="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=1e4,Xx=`w:${qf}`,Zx="FIS_v2",CI="https://firebaseinstallations.googleapis.com/v1",II=60*60*1e3,PI="installations",NI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Br=new Kr(PI,NI,AI);function Qx(e){return e instanceof rn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx({projectId:e}){return`${CI}/projects/${e}/installations`}function e1(e){return{token:e.token,requestStatus:2,expiresIn:jI(e.expiresIn),creationTime:Date.now()}}async function t1(e,t){const r=(await t.json()).error;return Br.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function n1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function MI(e,{refreshToken:t}){const n=n1(e);return n.append("Authorization",RI(t)),n}async function r1(e){const t=await e();return t.status>=500&&t.status<600?e():t}function jI(e){return Number(e.replace("s","000"))}function RI(e){return`${Zx} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Jx(e),s=n1(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Zx,appId:e.appId,sdkVersion:Xx},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await r1(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:e1(c.authToken)}}else throw await t1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=/^[cdef][\w-]{21}$/,sd="";function VI(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=UI(e);return OI.test(n)?n:sd}catch{return sd}}function UI(e){return DI(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;function o1(e,t){const n=El(e);a1(n,t),FI(n,t)}function a1(e,t){const n=i1.get(e);if(n)for(const r of n)r(t)}function FI(e,t){const n=$I();n&&n.postMessage({key:e,fid:t}),BI()}let Nr=null;function $I(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=e=>{a1(e.data.key,e.data.fid)}),Nr}function BI(){i1.size===0&&Nr&&(Nr.close(),Nr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebase-installations-database",HI=1,zr="firebase-installations-store";let Ac=null;function Yf(){return Ac||(Ac=zx(zI,HI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(zr)}}})),Ac}async function Ka(e,t){const n=El(e),s=(await Yf()).transaction(zr,"readwrite"),i=s.objectStore(zr),o=await i.get(n);return await i.put(t,n),await s.done,(!o||o.fid!==t.fid)&&o1(e,t.fid),t}async function l1(e){const t=El(e),r=(await Yf()).transaction(zr,"readwrite");await r.objectStore(zr).delete(t),await r.done}async function Cl(e,t){const n=El(e),s=(await Yf()).transaction(zr,"readwrite"),i=s.objectStore(zr),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&o1(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(e){let t;const n=await Cl(e.appConfig,r=>{const s=WI(r),i=GI(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===sd?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function WI(e){const t=e||{fid:VI(),registrationStatus:0};return c1(t)}function GI(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Br.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=KI(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:qI(e)}:{installationEntry:t}}async function KI(e,t){try{const n=await LI(e,t);return Ka(e.appConfig,n)}catch(n){throw Qx(n)&&n.customData.serverCode===409?await l1(e.appConfig):await Ka(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function qI(e){let t=await rg(e.appConfig);for(;t.registrationStatus===1;)await s1(100),t=await rg(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Xf(e);return r||n}return t}function rg(e){return Cl(e,t=>{if(!t)throw Br.create("installation-not-found");return c1(t)})}function c1(e){return YI(e)?{fid:e.fid,registrationStatus:0}:e}function YI(e){return e.registrationStatus===1&&e.registrationTime+Yx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI({appConfig:e,heartbeatServiceProvider:t},n){const r=ZI(e,n),s=MI(e,n),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Xx,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await r1(()=>fetch(r,a));if(l.ok){const c=await l.json();return e1(c)}else throw await t1("Generate Auth Token",l)}function ZI(e,{fid:t}){return`${Jx(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(e,t=!1){let n;const r=await Cl(e.appConfig,i=>{if(!u1(i))throw Br.create("not-registered");const o=i.authToken;if(!t&&eP(o))return i;if(o.requestStatus===1)return n=QI(e,t),i;{if(!navigator.onLine)throw Br.create("app-offline");const a=nP(i);return n=JI(e,a),a}});return n?await n:r.authToken}async function QI(e,t){let n=await sg(e.appConfig);for(;n.authToken.requestStatus===1;)await s1(100),n=await sg(e.appConfig);const r=n.authToken;return r.requestStatus===0?Zf(e,t):r}function sg(e){return Cl(e,t=>{if(!u1(t))throw Br.create("not-registered");const n=t.authToken;return rP(n)?{...t,authToken:{requestStatus:0}}:t})}async function JI(e,t){try{const n=await XI(e,t),r={...t,authToken:n};return await Ka(e.appConfig,r),n}catch(n){if(Qx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await l1(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Ka(e.appConfig,r)}throw n}}function u1(e){return e!==void 0&&e.registrationStatus===2}function eP(e){return e.requestStatus===2&&!tP(e)}function tP(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+II}function nP(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function rP(e){return e.requestStatus===1&&e.requestTime+Yx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(e){const t=e,{installationEntry:n,registrationPromise:r}=await Xf(t);return r?r.catch(console.error):Zf(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(e,t=!1){const n=e;return await oP(n),(await Zf(n,t)).token}async function oP(e){const{registrationPromise:t}=await Xf(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e){if(!e||!e.options)throw Mc("App Configuration");if(!e.name)throw Mc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Mc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Mc(e){return Br.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="installations",lP="installations-internal",cP=e=>{const t=e.getProvider("app").getImmediate(),n=aP(t),r=Gs(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},uP=e=>{const t=e.getProvider("app").getImmediate(),n=Gs(t,d1).getImmediate();return{getId:()=>sP(n),getToken:s=>iP(n,s)}};function dP(){_n(new nn(d1,cP,"PUBLIC")),_n(new nn(lP,uP,"PRIVATE"))}dP();Jt(qx,qf);Jt(qx,qf,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="analytics",fP="firebase_id",hP="origin",pP=60*1e3,mP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=new Gf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ht=new Kr("analytics","Analytics",gP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(e){if(!e.startsWith(Qf)){const t=ht.create("invalid-gtag-resource",{gtagURL:e});return Fe.warn(t.message),""}return e}function f1(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function vP(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function xP(e,t){const n=vP("firebase-js-sdk-policy",{createScriptURL:yP}),r=document.createElement("script"),s=`${Qf}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function wP(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function SP(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const l=(await f1(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){Fe.error(a)}e("config",s,i)}async function bP(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await f1(n);for(const l of o){const c=a.find(f=>f.measurementId===l),u=c&&t[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Fe.error(i)}}function kP(e,t,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await bP(e,t,n,a,l)}else if(i==="config"){const[a,l]=o;await SP(e,t,n,r,a,l)}else if(i==="consent"){const[a,l]=o;e("consent",a,l)}else if(i==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){Fe.error(a)}}return s}function TP(e,t,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=kP(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}function _P(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Qf)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=30,CP=1e3;class IP{constructor(t={},n=CP){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const h1=new IP;function PP(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function NP(e){var o;const{appId:t,apiKey:n}=e,r={method:"GET",headers:PP(n)},s=mP.replace("{app-id}",t),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw ht.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function AP(e,t=h1,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw ht.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ht.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new RP;return setTimeout(async()=>{a.abort()},n!==void 0?n:pP),p1({appId:r,apiKey:s,measurementId:i},o,a,t)}async function p1(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=h1){var a;const{appId:i,measurementId:o}=e;try{await MP(r,t)}catch(l){if(o)return Fe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await NP(e);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!jP(c)){if(s.deleteThrottleMetadata(i),o)return Fe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const u=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?qm(n,s.intervalMillis,EP):qm(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(i,f),Fe.debug(`Calling attemptFetch again in ${u} millis`),p1(e,f,r,s)}}function MP(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(ht.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function jP(e){if(!(e instanceof rn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class RP{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function LP(e,t,n,r,s){if(s&&s.global){e("event",n,r);return}else{const i=await t,o={...r,send_to:i};e("event",n,o)}}async function DP(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();{const s=await t;e("config",s,{update:!0,user_id:n})}}async function OP(e,t,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return e("set",s),Promise.resolve()}else{const s=await t;e("config",s,{update:!0,user_properties:n})}}async function VP(e,t){const n=await e;window[`ga-disable-${n}`]=!t}let id;function m1(e){id=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(){if(Hf())try{await Wf()}catch(e){return Fe.warn(ht.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Fe.warn(ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FP(e,t,n,r,s,i,o){const a=AP(e);a.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Fe.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Fe.error(h)),t.push(a);const l=UP().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([a,l]);_P(i)||xP(i,c.measurementId),id&&(s("consent","default",id),m1(void 0)),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[hP]="firebase",f.update=!0,u!=null&&(f[fP]=u),s("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(t){this.app=t}_delete(){return delete cr[this.app.options.appId],Promise.resolve()}}let cr={},ig=[];const og={};let jc="dataLayer",BP="gtag",ag,Ds,lg=!1;function zP(){const e=[];if(zf()&&e.push("This is a browser extension environment."),Fx()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ht.create("invalid-analytics-context",{errorInfo:t});Fe.warn(n.message)}}function HP(e,t,n){zP();const r=e.options.appId;if(!r)throw ht.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Fe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ht.create("no-api-key");if(cr[r]!=null)throw ht.create("already-exists",{id:r});if(!lg){wP(jc);const{wrappedGtag:i,gtagCore:o}=TP(cr,ig,og,jc,BP);Ds=i,ag=o,lg=!0}return cr[r]=FP(e,ig,og,t,ag,jc,n),new $P(e)}function g1(e=Wx()){e=Ut(e);const t=Gs(e,qa);return t.isInitialized()?t.getImmediate():WP(e)}function WP(e,t={}){const n=Gs(e,qa);if(n.isInitialized()){const s=n.getImmediate();if($r(t,n.getOptions()))return s;throw ht.create("already-initialized")}return n.initialize({options:t})}async function GP(){if(zf()||!Fx()||!Hf())return!1;try{return await Wf()}catch{return!1}}function NR(e,t,n){e=Ut(e),DP(Ds,cr[e.app.options.appId],t,n).catch(r=>Fe.error(r))}function KP(e,t,n){e=Ut(e),OP(Ds,cr[e.app.options.appId],t,n).catch(r=>Fe.error(r))}function AR(e,t){e=Ut(e),VP(cr[e.app.options.appId],t).catch(n=>Fe.error(n))}function Jf(e,t,n,r){e=Ut(e),LP(Ds,cr[e.app.options.appId],t,n,r).catch(s=>Fe.error(s))}function MR(e){Ds?Ds("consent","update",e):m1(e)}const cg="@firebase/analytics",ug="0.10.19";function qP(){_n(new nn(qa,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return HP(r,s,n)},"PUBLIC")),_n(new nn("analytics-internal",e,"PRIVATE")),Jt(cg,ug),Jt(cg,ug,"esm2020");function e(t){try{const n=t.getProvider(qa).getImmediate();return{logEvent:(r,s,i)=>Jf(n,r,s,i),setUserProperties:(r,s)=>KP(n,r,s)}}catch(n){throw ht.create("interop-component-reg-failed",{reason:n})}}}qP();var YP="firebase",XP="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt(YP,XP,"app");function y1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZP=y1,v1=new Kr("auth","Firebase",y1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Gf("@firebase/auth");function QP(e,...t){Ya.logLevel<=ie.WARN&&Ya.warn(`Auth (${yo}): ${e}`,...t)}function ha(e,...t){Ya.logLevel<=ie.ERROR&&Ya.error(`Auth (${yo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(e,...t){throw eh(e,...t)}function en(e,...t){return eh(e,...t)}function x1(e,t,n){const r={...ZP(),[t]:n};return new Kr("auth","Firebase",r).create(t,{appName:e.name})}function Lr(e){return x1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eh(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return v1.create(e,...t)}function B(e,t,...n){if(!e)throw eh(t,...n)}function hn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ha(t),new Error(t)}function Cn(e,t){e||hn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function JP(){return dg()==="http:"||dg()==="https:"}function dg(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JP()||zf()||"connection"in navigator)?navigator.onLine:!0}function tN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,n){this.shortDelay=t,this.longDelay=n,Cn(n>t,"Short delay should be less than long delay!"),this.isMobile=iC()||aC()}get(){return eN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e,t){Cn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sN=new vo(3e4,6e4);function nh(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ks(e,t,n,r,s={}){return S1(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=go({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...i};return oC()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&_l(e.emulatorConfig.host)&&(c.credentials="include"),w1.fetch()(await b1(e,e.config.apiHost,n,a),c)})}async function S1(e,t,n){e._canInitEmulator=!1;const r={...nN,...t};try{const s=new oN(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ko(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ko(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ko(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ko(e,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw x1(e,u,c);En(e,u)}}catch(s){if(s instanceof rn)throw s;En(e,"network-request-failed",{message:String(s)})}}async function iN(e,t,n,r,s={}){const i=await Ks(e,t,n,r,s);return"mfaPendingCredential"in i&&En(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function b1(e,t,n,r){const s=`${t}${n}?${r}`,i=e,o=i.config.emulator?th(e.config,s):`${e.config.apiScheme}://${s}`;return rN.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class oN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(en(this.auth,"network-request-failed")),sN.get())})}}function Ko(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=en(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(e,t){return Ks(e,"POST","/v1/accounts:delete",t)}async function Xa(e,t){return Ks(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lN(e,t=!1){const n=Ut(e),r=await n.getIdToken(t),s=rh(r);B(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ii(Rc(s.auth_time)),issuedAtTime:Ii(Rc(s.iat)),expirationTime:Ii(Rc(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Rc(e){return Number(e)*1e3}function rh(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ha("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ox(n);return s?JSON.parse(s):(ha("Failed to decode base64 JWT payload"),null)}catch(s){return ha("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fg(e){const t=rh(e);return B(t,"internal-error"),B(typeof t.exp<"u","internal-error"),B(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof rn&&cN(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function cN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ii(this.lastLoginAt),this.creationTime=Ii(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(e){var f;const t=e.auth,n=await e.getIdToken(),r=await ro(e,Xa(t,{idToken:n}));B(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?k1(s.providerUserInfo):[],o=fN(e.providerData,i),a=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ad(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function dN(e){const t=Ut(e);await Za(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fN(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function k1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(e,t){const n=await S1(e,{},async()=>{const r=go({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=await b1(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&_l(e.emulatorConfig.host)&&(l.credentials="include"),w1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pN(e,t){return Ks(e,"POST","/v2/accounts:revokeToken",nh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){B(t.idToken,"internal-error"),B(typeof t.idToken<"u","internal-error"),B(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fg(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){B(t.length!==0,"internal-error");const n=fg(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(B(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await hN(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new bs;return r&&(B(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(B(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(B(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bs,this.toJSON())}_performRefresh(){return hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(e,t){B(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Lt{constructor({uid:t,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new uN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ad(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await ro(this,this.stsTokenManager.getToken(this.auth,t));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lN(this,t)}reload(){return dN(this)}_assign(t){this!==t&&(B(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Lt({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Za(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(Lr(this.auth));const t=await this.getIdToken();return await ro(this,aN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:x}=n;B(f&&x,t,"internal-error");const b=bs.fromJSON(this.name,x);B(typeof f=="string",t,"internal-error"),Vn(r,t.name),Vn(s,t.name),B(typeof h=="boolean",t,"internal-error"),B(typeof p=="boolean",t,"internal-error"),Vn(i,t.name),Vn(o,t.name),Vn(a,t.name),Vn(l,t.name),Vn(c,t.name),Vn(u,t.name);const m=new Lt({uid:f,auth:t,email:s,emailVerified:h,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(m.providerData=v.map(g=>({...g}))),l&&(m._redirectEventId=l),m}static async _fromIdTokenResponse(t,n,r=!1){const s=new bs;s.updateFromServerResponse(n);const i=new Lt({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Za(i),i}static async _fromGetAccountInfoResponse(t,n,r){const s=n.users[0];B(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?k1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new bs;a.updateFromIdToken(r);const l=new Lt({uid:s.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ad(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map;function pn(e){Cn(e instanceof Function,"Expected a class definition");let t=hg.get(e);return t?(Cn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hg.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}T1.type="NONE";const pg=T1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(e,t,n){return`firebase:${e}:${t}:${n}`}class ks{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=pa(this.userKey,s.apiKey,i),this.fullPersistenceKey=pa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Xa(this.auth,{idToken:t}).catch(()=>{});return n?Lt._fromGetAccountInfoResponse(this.auth,n,t):null}return Lt._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ks(pn(pg),t,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||pn(pg);const o=pa(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await Xa(t,{idToken:u}).catch(()=>{});if(!h)break;f=await Lt._fromGetAccountInfoResponse(t,h,u)}else f=Lt._fromJSON(t,u);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ks(i,t,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ks(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(I1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(N1(t))return"Blackberry";if(A1(t))return"Webos";if(E1(t))return"Safari";if((t.includes("chrome/")||C1(t))&&!t.includes("edge/"))return"Chrome";if(P1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _1(e=Je()){return/firefox\//i.test(e)}function E1(e=Je()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function C1(e=Je()){return/crios\//i.test(e)}function I1(e=Je()){return/iemobile/i.test(e)}function P1(e=Je()){return/android/i.test(e)}function N1(e=Je()){return/blackberry/i.test(e)}function A1(e=Je()){return/webos/i.test(e)}function sh(e=Je()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mN(e=Je()){var t;return sh(e)&&!!((t=window.navigator)!=null&&t.standalone)}function gN(){return lC()&&document.documentMode===10}function M1(e=Je()){return sh(e)||P1(e)||A1(e)||N1(e)||/windows phone/i.test(e)||I1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(e,t=[]){let n;switch(e){case"Browser":n=mg(Je());break;case"Worker":n=`${mg(Je())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,a)=>{try{const l=t(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(e,t={}){return Ks(e,"GET","/v2/passwordPolicy",nh(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=6;class wN{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??xN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gg(this),this.idTokenSubscription=new gg(this),this.beforeStateQueue=new yN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=pn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ks.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Xa(this,{idToken:t}),r=await Lt._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Za(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(un(this.app))return Promise.reject(Lr(this));const n=t?Ut(t):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&B(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return un(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vN(this),n=new wN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kr("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pN(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&pn(t)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=await ks.create(this,[pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&QP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ih(e){return Ut(e)}class gg{constructor(t){this.auth=t,this.observer=null,this.addObserver=hC(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bN(e){oh=e}function kN(e){return oh.loadJS(e)}function TN(){return oh.gapiScript}function _N(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e,t){const n=Gs(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if($r(i,t??{}))return s;En(s,"already-initialized")}return n.initialize({options:t})}function CN(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function IN(e,t,n){const r=ih(e);B(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=R1(t),{host:o,port:a}=PN(t),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){B(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),B($r(c,r.config.emulator)&&$r(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,_l(o)?(tC(`${i}//${o}${l}`),sC("Auth",!0)):s||NN()}function R1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function PN(e){const t=R1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:yg(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:yg(o)}}}function yg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function NN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return hn("not implemented")}_getIdTokenResponse(t){return hn("not implemented")}_linkToIdToken(t,n){return hn("not implemented")}_getReauthenticationResolver(t){return hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(e,t){return iN(e,"POST","/v1/accounts:signInWithIdp",nh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="http://localhost";class Hr extends L1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Hr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Ts(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ts(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ts(t,n)}buildRequest(){const t={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=go(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends D1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends xo{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hn.credentialFromTaggedObject(t)}static credentialFromError(t){return Hn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hn.credential(t.oauthAccessToken)}catch{return null}}}Hn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends xo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hr._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wn.credentialFromTaggedObject(t)}static credentialFromError(t){return Wn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Wn.credential(n,r)}catch{return null}}}Wn.GOOGLE_SIGN_IN_METHOD="google.com";Wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends xo{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gn.credentialFromTaggedObject(t)}static credentialFromError(t){return Gn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gn.credential(t.oauthAccessToken)}catch{return null}}}Gn.GITHUB_SIGN_IN_METHOD="github.com";Gn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends xo{constructor(){super("twitter.com")}static credential(t,n){return Hr._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kn.credentialFromTaggedObject(t)}static credentialFromError(t){return Kn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kn.credential(n,r)}catch{return null}}}Kn.TWITTER_SIGN_IN_METHOD="twitter.com";Kn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Lt._fromIdTokenResponse(t,r,s),o=vg(r);return new Os({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=vg(r);return new Os({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function vg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends rn{constructor(t,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qa.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new Qa(t,n,r,s)}}function O1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qa._fromErrorAndOperation(e,i,t,r):i})}async function MN(e,t,n=!1){const r=await ro(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Os._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(e,t,n=!1){const{auth:r}=e;if(un(r.app))return Promise.reject(Lr(r));const s="reauthenticate";try{const i=await ro(e,O1(r,s,t,e),n);B(i.idToken,r,"internal-error");const o=rh(i.idToken);B(o,r,"internal-error");const{sub:a}=o;return B(e.uid===a,r,"user-mismatch"),Os._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&En(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(e,t,n=!1){if(un(e.app))return Promise.reject(Lr(e));const r="signIn",s=await O1(e,r,t),i=await Os._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function LN(e,t,n,r){return Ut(e).onIdTokenChanged(t,n,r)}function DN(e,t,n){return Ut(e).beforeAuthStateChanged(t,n)}const Ja="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ja,"1"),this.storage.removeItem(Ja),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1e3,VN=10;class U1 extends V1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);gN()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,VN):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}U1.type="LOCAL";const UN=U1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends V1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}F1.type="SESSION";const $1=F1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Il(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await FN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Il.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=ah("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return window}function BN(e){tn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof tn().WorkerGlobalScope<"u"&&typeof tn().importScripts=="function"}async function zN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HN(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function WN(){return B1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebaseLocalStorageDb",GN=1,el="firebaseLocalStorage",H1="fbase_key";class wo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pl(e,t){return e.transaction([el],t?"readwrite":"readonly").objectStore(el)}function KN(){const e=indexedDB.deleteDatabase(z1);return new wo(e).toPromise()}function ld(){const e=indexedDB.open(z1,GN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(el,{keyPath:H1})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(el)?t(r):(r.close(),await KN(),t(await ld()))})})}async function xg(e,t,n){const r=Pl(e,!0).put({[H1]:t,value:n});return new wo(r).toPromise()}async function qN(e,t){const n=Pl(e,!1).get(t),r=await new wo(n).toPromise();return r===void 0?null:r.value}function wg(e,t){const n=Pl(e,!0).delete(t);return new wo(n).toPromise()}const YN=800,XN=3;class W1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ld(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>XN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Il._getInstance(WN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await zN(),!this.activeServiceWorker)return;this.sender=new $N(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ld();return await xg(t,Ja,"1"),await wg(t,Ja),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xg(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>qN(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wg(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Pl(s,!1).getAll();return new wo(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W1.type="LOCAL";const ZN=W1;new vo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(e,t){return t?pn(t):(B(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends L1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ts(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ts(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ts(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function JN(e){return RN(e.auth,new lh(e),e.bypassAuthState)}function eA(e){const{auth:t,user:n}=e;return B(n,t,"internal-error"),jN(n,new lh(e),e.bypassAuthState)}async function tA(e){const{auth:t,user:n}=e;return B(n,t,"internal-error"),MN(n,new lh(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JN;case"linkViaPopup":case"linkViaRedirect":return tA;case"reauthViaPopup":case"reauthViaRedirect":return eA;default:En(this.auth,"internal-error")}}resolve(t){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new vo(2e3,1e4);class ps extends G1{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return B(t,this.auth,"internal-error"),t}async onExecution(){Cn(this.filter.length===1,"Popup operations only handle one event");const t=ah();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(en(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nA.get())};t()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="pendingRedirect",ma=new Map;class sA extends G1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ma.get(this.auth._key());if(!t){try{const r=await iA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ma.set(this.auth._key(),t)}return this.bypassAuthState||ma.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iA(e,t){const n=lA(t),r=aA(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function oA(e,t){ma.set(e._key(),t)}function aA(e){return pn(e._redirectPersistence)}function lA(e){return pa(rA,e.config.apiKey,e.name)}async function cA(e,t,n=!1){if(un(e.app))return Promise.reject(Lr(e));const r=ih(e),s=QN(r,t),o=await new sA(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=10*60*1e3;class dA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fA(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!K1(t)){const s=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(en(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sg(t))}saveEventToCache(t){this.cachedEventUids.add(Sg(t)),this.lastProcessedEventTime=Date.now()}}function Sg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function K1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function fA(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(e,t={}){return Ks(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mA=/^https?/;async function gA(e){if(e.config.emulator)return;const{authorizedDomains:t}=await hA(e);for(const n of t)try{if(yA(n))return}catch{}En(e,"unauthorized-domain")}function yA(e){const t=od(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mA.test(n))return!1;if(pA.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new vo(3e4,6e4);function bg(){const e=tn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function xA(e){return new Promise((t,n)=>{var s,i,o;function r(){bg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bg(),n(en(e,"network-request-failed"))},timeout:vA.get()})}if((i=(s=tn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((o=tn().gapi)!=null&&o.load)r();else{const a=_N("iframefcb");return tn()[a]=()=>{gapi.load?r():n(en(e,"network-request-failed"))},kN(`${TN()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw ga=null,t})}let ga=null;function wA(e){return ga=ga||xA(e),ga}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new vo(5e3,15e3),bA="__/auth/iframe",kA="emulator/auth/iframe",TA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_A=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EA(e){const t=e.config;B(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?th(t,kA):`https://${e.config.authDomain}/${bA}`,r={apiKey:t.apiKey,appName:e.name,v:yo},s=_A.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${go(r).slice(1)}`}async function CA(e){const t=await wA(e),n=tn().gapi;return B(n,e,"internal-error"),t.open({where:document.body,url:EA(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TA,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=en(e,"network-request-failed"),a=tn().setTimeout(()=>{i(o)},SA.get());function l(){tn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PA=500,NA=600,AA="_blank",MA="http://localhost";class kg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jA(e,t,n,r=PA,s=NA){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...IA,width:r.toString(),height:s.toString(),top:i,left:o},c=Je().toLowerCase();n&&(a=C1(c)?AA:n),_1(c)&&(t=t||MA,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(mN(c)&&a!=="_self")return RA(t||"",a),new kg(null);const f=window.open(t||"",a,u);B(f,e,"popup-blocked");try{f.focus()}catch{}return new kg(f)}function RA(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__/auth/handler",DA="emulator/auth/handler",OA=encodeURIComponent("fac");async function Tg(e,t,n,r,s,i){B(e.config.authDomain,e,"auth-domain-config-required"),B(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yo,eventId:s};if(t instanceof D1){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",fC(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries(i||{}))o[u]=f}if(t instanceof xo){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${OA}=${encodeURIComponent(l)}`:"";return`${VA(e)}?${go(a).slice(1)}${c}`}function VA({config:e}){return e.emulator?th(e,DA):`https://${e.authDomain}/${LA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="webStorageSupport";class UA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$1,this._completeRedirectFn=cA,this._overrideRedirectResult=oA}async _openPopup(t,n,r,s){var o;Cn((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Tg(t,n,r,od(),s);return jA(t,i,ah())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await Tg(t,n,r,od(),s);return BN(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Cn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await CA(t),r=new dA(t);return n.register("authEvent",s=>(B(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Lc,{type:Lc},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Lc];i!==void 0&&n(!!i),En(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gA(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||E1()||sh()}}const FA=UA;var _g="@firebase/auth",Eg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zA(e){_n(new nn("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(e)},c=new SN(r,s,i,l);return CN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),_n(new nn("auth-internal",t=>{const n=ih(t.getProvider("auth").getImmediate());return(r=>new $A(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jt(_g,Eg,BA(e)),Jt(_g,Eg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=5*60,WA=Ux("authIdTokenMaxAge")||HA;let Cg=null;const GA=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WA)return;const s=n==null?void 0:n.token;Cg!==s&&(Cg=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function KA(e=Wx()){const t=Gs(e,"auth");if(t.isInitialized())return t.getImmediate();const n=EN(e,{popupRedirectResolver:FA,persistence:[ZN,UN,$1]}),r=Ux("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=GA(i.toString());DN(n,o,()=>o(n.currentUser)),LN(n,a=>o(a))}}const s=JE("auth");return s&&IN(n,`http://${s}`),n}function qA(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}bN({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=en("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",qA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zA("Browser");const q1={apiKey:"AIzaSyCqXy7dPQjWHNwY6bU00qwFF_QbNsAGyHA",authDomain:"eraone-methere.firebaseapp.com",projectId:"eraone-methere",storageBucket:"eraone-methere.firebasestorage.app",messagingSenderId:"149505713742",appId:"1:149505713742:web:00d963c3d4057f4700451f",measurementId:"G-3Q93SD72N4"},cd=Object.entries(q1).filter(([,e])=>!e);cd.length&&console.warn(`Firebase configuration is incomplete: ${cd.map(([e])=>e).join(", ")}. Check your environment variables.`);let Vs=null,Y1=null;cd.length?console.warn("Firebase config missing. Analytics disabled until VITE_FIREBASE_* env vars are provided."):(Vs=Hx(q1),Y1=KA(Vs));let Pi=null;if(Vs&&typeof window<"u")try{Pi=g1(Vs),Jf(Pi,"app_started"),console.log("Firebase Auth initialized:",Y1),console.log("Firebase Analytics initialized:",Pi)}catch(e){console.warn("Unable to initialize Firebase Analytics immediately",e)}let Dc=null;const YA=()=>Vs?(Dc||(Dc=GP().then(e=>e?Pi||g1(Vs):null)),Dc):Promise.resolve(null),mn=async(e,t)=>{try{if(ut.getPlatform()==="ios"){await HE.logEvent({name:e,params:t});return}const n=await YA();n&&Jf(n,e,t)}catch{}},XA={trackEvent:mn},X1=w.createContext({trackEvent:async()=>{}}),ZA=({children:e})=>d.jsx(X1.Provider,{value:XA,children:e}),qr=()=>w.useContext(X1),Z1=w.createContext(void 0),QA=({children:e})=>{const{showNotification:t}=Ws(),{trackEvent:n}=qr(),r=w.useCallback(f=>{t(`Problem ${f==="read"?"loading":"saving"} tags. Changes may not persist.`,"error")},[t]),s={}.VITE_SHOW_DEV_TOOLS==="true"?Ax:[],[i,o]=Rs("tags",s,{onError:r}),a=f=>{const h=i.find(p=>p.id===f);return h?h.name:""},l=f=>{const h=f.trim().toLowerCase(),p=i.find(v=>v.name.toLowerCase()===h);return p?p.id:null},c=f=>{const h=f.trim().toLowerCase(),p=i.find(x=>x.name.toLowerCase()===h);if(p)return p;const v={id:crypto.randomUUID(),name:h,count:0,lastUsed:Date.now()};return o(x=>[...x,v]),n("tag_created",{name:h}),v},u=f=>{o(()=>[...f])};return d.jsx(Z1.Provider,{value:{tags:i,createTag:c,getTagNameById:a,getTagIdByName:l,replaceTags:u},children:e})},ch=()=>{const e=w.useContext(Z1);if(!e)throw new Error("useTags must be used within a TagProvider");return e},Q1=w.createContext(void 0),JA=({children:e})=>{const{showNotification:t}=Ws(),n=w.useCallback(u=>{t(`Problem ${u==="read"?"loading":"saving"} people data. Changes may not persist.`,"error")},[t]),r={}.VITE_SHOW_DEV_TOOLS==="true"?Mx:[],[s,i]=Rs("people",r,{onError:n}),o=u=>{i(f=>[u,...f])},a=u=>{i(f=>f.map(h=>h.id===u.id?u:h))},l=u=>{i(f=>f.filter(h=>h.id!==u))},c=u=>{i(()=>[...u])};return d.jsx(Q1.Provider,{value:{people:s,addPerson:o,updatePerson:a,deletePerson:l,replacePeople:c},children:e})},J1=()=>{const e=w.useContext(Q1);if(!e)throw new Error("usePeople must be used within a PeopleProvider");return e},ew=w.createContext(void 0),eM=({children:e})=>{const{showNotification:t}=Ws(),n=w.useCallback(c=>{t(`Problem ${c==="read"?"loading":"saving"} venues. Changes may not persist.`,"error")},[t]),r={}.VITE_SHOW_DEV_TOOLS==="true"?ke:[],[s,i]=Rs("venues",r,{onError:n}),o=c=>i(u=>[...u,c]),a=c=>i(u=>u.map(f=>f.id===c.id?c:f)),l=c=>{i(()=>[...c])};return d.jsx(ew.Provider,{value:{venues:s,addVenue:o,updateVenue:a,replaceVenues:l},children:e})},Nl=()=>{const e=w.useContext(ew);if(!e)throw new Error("useVenues must be used within VenueProvider");return e},Xn="Unclassified";function tM(e,t){return w.useMemo(()=>e.reduce((n,r)=>{var i;const s=r.venueId?((i=t[r.venueId])==null?void 0:i.name)??Xn:Xn;return n[s]||(n[s]=[]),n[s].push(r),n},{}),[e,t])}function nM(e,t){return w.useMemo(()=>({favorites:e.filter(n=>t.includes(n)),others:e.filter(n=>!t.includes(n))}),[e,t])}function rM(e){const[t,n]=w.useState(()=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):[]}catch{return[]}});return w.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(t))}catch{}},[e,t]),[t,n]}const sM=[{id:"people_first",type:"people",target:1,title:"Icebreaker",description:"Add your first person."},{id:"people_5",type:"people",target:5,title:"Circle of Five",description:"Track your first 5 people."},{id:"people_20",type:"people",target:20,title:"Network Builder",description:"Reach 20 tracked people."},{id:"people_50",type:"people",target:50,title:"Community Maven",description:"Log 50 people or more."},{id:"people_75",type:"people",target:75,title:"City Connector",description:"Keep tabs on 75 contacts."},{id:"people_100",type:"people",target:100,title:"Social Curator",description:"Reach 100 logged people."},{id:"venues_first",type:"venues",target:1,title:"First Venue",description:"Log someone at a venue."},{id:"venues_3",type:"venues",target:3,title:"Neighborhood Scout",description:"Add people from 3 different venues."},{id:"venues_10",type:"venues",target:10,title:"City Guide",description:"Tag 10 venues across the city."},{id:"venues_25",type:"venues",target:25,title:"Urban Explorer",description:"Log people from 25 venues."},{id:"venues_40",type:"venues",target:40,title:"City Curator",description:"Tag 40 unique venues."},{id:"venues_50",type:"venues",target:50,title:"Metropolitan Maven",description:"Map out 50 venues."},{id:"tags_first",type:"tags",target:1,title:"First Tag",description:"Categorize someone with a tag."},{id:"tags_5",type:"tags",target:5,title:"Trend Spotter",description:"Use 5 unique tags across your people."},{id:"tags_15",type:"tags",target:15,title:"Culture Curator",description:"Apply 15 different tags."},{id:"tags_30",type:"tags",target:30,title:"Storyteller",description:"Craft rich profiles with 30 tags."},{id:"tags_40",type:"tags",target:40,title:"Narrator",description:"Use 40 different tags."},{id:"tags_50",type:"tags",target:50,title:"Archivist",description:"Capture nuances with 50 tags."},{id:"favorites_first",type:"favorites",target:1,title:"First Favourite",description:"Mark your first favourite venue."},{id:"favorites_3",type:"favorites",target:3,title:"Venue Regular",description:"Have 3 go-to venues."},{id:"favorites_5",type:"favorites",target:5,title:"Community Builder",description:"Pin 5 favourite venues."},{id:"favorites_8",type:"favorites",target:8,title:"Neighborhood VIP",description:"Keep 8 venues on speed dial."},{id:"favorites_10",type:"favorites",target:10,title:"Scene Setter",description:"Highlight 10 go-to venues."}];function iM(e,t,n){const[r,s]=Rs("achievementEarned",{}),[i,o]=Rs("achievementLifetimeStats",{peopleMax:0,venuesMax:0,tagsMax:0,favoritesMax:0}),a=w.useMemo(()=>{const u=new Set,f=new Set;return e.forEach(h=>{h.venueId&&u.add(h.venueId),(h.tags??[]).forEach(p=>f.add(p))}),{peopleCount:e.length,venueCount:t.length,venuesWithPeople:u.size,uniqueTagCount:f.size,favoriteVenueCount:n.length}},[n,e,t]);w.useEffect(()=>{o(u=>{const f={peopleMax:Math.max(u.peopleMax,a.peopleCount),venuesMax:Math.max(u.venuesMax,a.venuesWithPeople),tagsMax:Math.max(u.tagsMax,a.uniqueTagCount),favoritesMax:Math.max(u.favoritesMax,a.favoriteVenueCount)};return f.peopleMax!==u.peopleMax||f.venuesMax!==u.venuesMax||f.tagsMax!==u.tagsMax||f.favoritesMax!==u.favoritesMax?f:u})},[o,a]);const l=w.useMemo(()=>{const u={people:Math.max(a.peopleCount,i.peopleMax),venues:Math.max(a.venuesWithPeople,i.venuesMax),tags:Math.max(a.uniqueTagCount,i.tagsMax),favorites:Math.max(a.favoriteVenueCount,i.favoritesMax)};return sM.map(f=>{const h=f.type==="people"?u.people:f.type==="venues"?u.venues:f.type==="tags"?u.tags:u.favorites,p=Math.min(h/f.target,1);return{...f,current:h,progress:p,unlocked:h>=f.target||!!r[f.id],unlockedAt:r[f.id]}})},[r,i,a]);w.useEffect(()=>{s(u=>{let f=!1;const h={...u};return l.forEach(p=>{p.current>=p.target&&!h[p.id]&&(h[p.id]=new Date().toISOString(),f=!0)}),f?h:u})},[l,s]);const c=w.useCallback(()=>{s({}),o({peopleMax:0,venuesMax:0,tagsMax:0,favoritesMax:0})},[s,o]);return{achievements:l,stats:a,resetAchievements:c}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ig=e=>{const t=aM(e);return t.charAt(0).toUpperCase()+t.slice(1)},tw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),lM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...cM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:tw("lucide",s),...!i&&!lM(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>w.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,t)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(uM,{ref:i,iconNode:t,className:tw(`lucide-${oM(Ig(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Ig(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],fM=Y("award",dM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nw=Y("check",hM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rw=Y("chevron-down",pM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gM=Y("chevron-right",mM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vM=Y("circle-check",yM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wM=Y("clock",xM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],bM=Y("cloud-upload",SM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Pg=Y("download",kM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],uh=Y("heart",TM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],EM=Y("info",_M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],IM=Y("leaf",CM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],NM=Y("list-filter",PM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],MM=Y("lock",AM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zn=Y("map-pin",jM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],LM=Y("moon",RM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],sw=Y("palette",DM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],VM=Y("pencil",OM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],FM=Y("search",UM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iw=Y("settings",$M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],zM=Y("sparkles",BM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Al=Y("star",HM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],GM=Y("sun-medium",WM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ni=Y("tag",KM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],YM=Y("trash-2",qM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ZM=Y("trending-up",XM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ow=Y("triangle-alert",QM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ng=Y("upload",JM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],tj=Y("user-pen",ej);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],rj=Y("user-round-plus",nj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],dh=Y("user-round",sj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oj=Y("user",ij);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lj=Y("users",aj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],uj=Y("waves",cj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],fj=Y("wrench",dj);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ml=Y("x",hj);var z;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(z||(z={}));var Ag;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(Ag||(Ag={}));const pj=Pn("Haptics",{web:()=>Tl(()=>import("./web-d64c54a3.js"),[]).then(e=>new e.HapticsWeb)}),mj=ut.isNativePlatform(),gj=typeof navigator<"u"&&"vibrate"in navigator;let jl=!0;const aw="rememberme:haptics-enabled",yj=()=>{if(!(typeof window>"u"))try{const e=window.localStorage.getItem(aw);e!==null&&(jl=e==="true")}catch(e){console.warn("Unable to read haptics preference",e)}};yj();const vj=()=>jl,xj=e=>{if(jl=e,typeof window<"u")try{window.localStorage.setItem(aw,String(e))}catch(t){console.warn("Unable to persist haptics preference",t)}},wj=async e=>{if(!mj)return!1;try{return await e(),!0}catch(t){return console.warn("Native haptics failed",t),!1}},Sj=(e=20)=>{gj&&navigator.vibrate(e)},Z=async(e=z.Light)=>{if(!jl)return;await wj(()=>pj.impact({style:e}))||Sj()},bj=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");function qo({text:e,query:t}){if(!e)return null;const n=t.trim();if(!n)return d.jsx(d.Fragment,{children:e});const r=new RegExp(`(${bj(n)})`,"ig"),s=e.split(r),i=n.toLowerCase();return d.jsx(d.Fragment,{children:s.map((o,a)=>o.toLowerCase()===i?d.jsx("mark",{className:"bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] px-0.5 rounded",children:o},a):d.jsx("span",{children:o},a))})}function kj({person:e,onEdit:t,onDelete:n,onToggleFavorite:r,getTagNameById:s,activeTags:i,setActiveTags:o,searchQuery:a}){const l=c=>{Z(z.Light),o(u=>u.includes(c)?u.filter(f=>f!==c):[...u,c])};return d.jsxs("div",{className:"bg-[var(--color-card)] rounded-3xl p-5 shadow-level1/60",children:[d.jsxs("div",{className:"flex justify-between items-start gap-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-semibold tracking-tight text-[var(--color-text-primary)] flex items-center gap-2",children:[d.jsx(qo,{text:e.name,query:a}),d.jsxs("button",{onClick:async()=>{await Z(e.favorite?z.Light:z.Medium),r(e.id)},title:"Toggle favorite",className:`w-7 h-7 flex items-center justify-center rounded-full border relative overflow-hidden ${e.favorite?"bg-[var(--color-accent-muted)] text-[var(--color-accent)] border-[var(--color-accent)]":"bg-[var(--color-card)] text-[var(--color-text-secondary)] border-[var(--color-card-border)]"}`,children:[d.jsx("span",{className:`absolute inset-0 rounded-full bg-[var(--color-accent)]/10 blur-lg transition-opacity duration-300 ${e.favorite?"opacity-100":"opacity-0"}`}),d.jsx(q.span,{className:"absolute inset-0 rounded-full border border-[var(--color-accent)]/60 pointer-events-none",animate:e.favorite?{scale:[1,1.25,.6],opacity:[.6,.4,0]}:{scale:[1,.7,1],opacity:[.3,.6,0]},transition:{duration:.35},style:{boxShadow:e.favorite?"0 0 12px var(--color-accent)":"0 0 6px rgba(0,0,0,0.12)"}}),d.jsx(q.span,{animate:e.favorite?{scale:[.8,1.3,1],rotate:[0,10,0]}:{scale:[1.1,.9,1],rotate:[0,-10,0]},transition:{duration:.35},className:"relative inline-flex",children:d.jsx(Al,{size:16,fill:e.favorite?"currentColor":"transparent"})})]})]}),e.position&&d.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)] mt-1",children:d.jsx(qo,{text:e.position,query:a})}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)] mt-1.5 tracking-wide",children:["Date Met: ",new Date(e.dateMet).toLocaleDateString()]}),e.description&&d.jsx("p",{className:"whitespace-pre-wrap text-[15px] leading-relaxed text-[var(--color-text-primary)]/85 mt-3",children:d.jsx(qo,{text:e.description,query:a})})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-full text-[var(--color-text-secondary)] hover:text-[var(--color-accent)] transition",title:"Edit",children:d.jsx(VM,{size:16})}),d.jsx("button",{onClick:()=>n(e.id,e.name),className:"p-2 rounded-full text-red-500 hover:text-red-600 transition",title:"Delete",children:d.jsx(YM,{size:16})})]})]}),e.tags&&e.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:e.tags.map(c=>{const u=s(c),f=i.includes(c);return u?d.jsx(q.button,{onClick:()=>l(c),className:`px-3 py-1 rounded-full text-sm transition-colors ${f?"bg-[var(--color-accent)] text-white shadow-sm":"bg-[var(--color-accent-muted)] text-[var(--color-text-primary)]/85 hover:bg-[var(--color-accent-muted)]/90"}`,title:f?`Remove filter "${u}"`:`Filter by "${u}"`,whileTap:{scale:.94},animate:f?{scale:[.95,1.1,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 8px 16px rgba(0,0,0,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:[1.05,.96,1],boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.3},children:d.jsx(qo,{text:u,query:a})},c):null})})]})}function Tj({venue:e,group:t,isOpen:n,toggleGroup:r,personSort:s,onEdit:i,onDelete:o,onToggleFavorite:a,activeTags:l,setActiveTags:c,favoriteVenues:u,setFavoriteVenues:f,getTagNameById:h,searchQuery:p,distanceLabel:v}){const{trackEvent:x}=qr(),b=Array.isArray(t)?t:[],m=[...b].sort((S,k)=>{if(S.favorite&&!k.favorite)return-1;if(!S.favorite&&k.favorite)return 1;switch(s){case"name-asc":return S.name.localeCompare(k.name);case"name-desc":return k.name.localeCompare(S.name);case"position-asc":return(S.position||"").localeCompare(k.position||"");case"position-desc":return(k.position||"").localeCompare(S.position||"");case"date-newest":return new Date(k.dateMet).getTime()-new Date(S.dateMet).getTime();case"date-oldest":return new Date(S.dateMet).getTime()-new Date(k.dateMet).getTime();default:return 0}}),g=e===Xn,y=g?!1:u.includes(e);return d.jsxs("div",{className:`mb-2.5 glass-panel border border-[var(--color-card-border)]/70 px-4 py-3 rounded-3xl shadow-level1 ${g?"border-dashed":""}`,children:[d.jsxs("div",{className:"flex items-center justify-between gap-3 py-1",children:[d.jsxs("button",{onClick:async()=>{await x("venue_toggle",{venue:e,open:!n}),r(e)},className:"text-left text-lg font-semibold text-[var(--color-text-primary)] flex items-center gap-2","aria-label":`Toggle ${e}`,children:[d.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:n?d.jsx(rw,{size:16}):d.jsx(gM,{size:16})}),e,d.jsxs("span",{className:"text-sm text-[var(--color-text-secondary)]",children:["(",b.length,")"]})]}),!g&&d.jsxs("button",{onClick:async S=>{S.stopPropagation(),await Z(y?z.Light:z.Medium),f(k=>k.includes(e)?k.filter(_=>_!==e):[...k,e]),x(y?"venue_unfavorited":"venue_favorited",{venue:e})},className:`w-9 h-9 flex items-center justify-center rounded-full border relative overflow-hidden ${y?"bg-[var(--color-accent)] text-white border-[var(--color-accent)]":"bg-[var(--color-card)] text-[var(--color-text-secondary)] border-[var(--color-card-border)]"}`,title:y?"Unmark Favorite Venue":"Mark as Favorite Venue",children:[d.jsx("span",{className:`absolute inset-0 rounded-full bg-white/20 blur-lg transition-opacity duration-300 ${y?"opacity-60":"opacity-0"}`}),d.jsx(q.span,{className:"absolute inset-0 rounded-full border border-white/70 pointer-events-none",animate:y?{scale:[1,1.3,.7],opacity:[.6,.4,0]}:{scale:[1,.75,1],opacity:[.3,.6,0]},transition:{duration:.4}}),d.jsx(q.span,{animate:y?{scale:[.85,1.25,1],rotate:[0,-12,0]}:{scale:[1.1,.9,1],rotate:[0,8,0]},transition:{duration:.35},className:"relative inline-flex",children:d.jsx(Al,{size:16,fill:y?"currentColor":"transparent"})})]})]}),v&&d.jsxs("p",{className:"flex items-center gap-1 text-xs text-[var(--color-text-secondary)] ml-7 -mt-1",children:[d.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-[var(--color-accent-muted)]"}),v]}),g&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mb-2",children:"Assign a venue to move people out of Unclassified."}),d.jsx(q.div,{initial:!1,animate:{height:n?"auto":0,opacity:n?1:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:d.jsx(kn,{mode:"popLayout",children:d.jsx(q.div,{layout:!0,className:"flex flex-col",children:m.map((S,k)=>d.jsxs(w.Fragment,{children:[d.jsx(q.div,{layout:!0,layoutId:`person-${S.id}`,initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25,ease:"easeInOut"},children:d.jsx(kj,{person:S,onEdit:i,onDelete:o,onToggleFavorite:a,getTagNameById:h,activeTags:l,setActiveTags:c,searchQuery:p})}),k<m.length-1&&d.jsx("div",{className:"mx-2 my-3 border-t border-[var(--color-accent-muted)]"})]},S.id))})})})]})}const lw="/assets/MetHere-inline-clean-transparent-tight-4ce265c5.svg";function _j({groupedPeople:e,favoriteVenues:t,visibleVenueNames:n,totalVenueCount:r,viewMode:s,personSort:i,activeTags:o,setActiveTags:a,getTagNameById:l,openGroups:c,toggleGroup:u,setFavoriteVenues:f,onEdit:h,onDelete:p,onToggleFavorite:v,searchQuery:x,distanceLabels:b}){const m=r>0,g=t.length>0,y=s==="favs"?g?"No favourite venues match your filters. Try clearing search or tags.":"No favourite venues yet. Tap the star next to a venue to pin it here.":m?"No venues match your filters. Try clearing search or tags.":"Add your first venue to start remembering where you met people.";return n.length===0?d.jsxs("div",{className:"glass-panel px-6 py-10 text-center text-[var(--color-text-secondary)] space-y-4",children:[d.jsx("div",{className:"w-full flex items-center justify-center pb-1",children:d.jsx("img",{src:lw,alt:"MetHere logo",className:"h-6 w-auto opacity-70"})}),d.jsx("p",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Nothing to show yet"}),d.jsx("p",{className:"text-sm",children:y})]}):d.jsx("div",{className:"grid gap-4 md:gap-6 lg:gap-8 md:grid-cols-2",children:n.map(S=>d.jsx(Tj,{venue:S,group:e[S]??[],personSort:i,activeTags:o,setActiveTags:a,getTagNameById:l,favoriteVenues:t,setFavoriteVenues:f,isOpen:c[S]??!0,toggleGroup:u,onEdit:h,onDelete:p,onToggleFavorite:v,searchQuery:x,distanceLabel:b[S]},S))})}function Ej({initialTags:e,allTags:t,maxCount:n=15,maxLength:r=25}){const[s,i]=w.useState(()=>[...e]),[o,a]=w.useState(""),[l,c]=w.useState([]),[u,f]=w.useState(null),[h,p]=w.useState(""),[v,x]=w.useState(""),b=w.useRef(null),m=M=>M.trim().toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s{2,}/g," "),g=M=>{const C=m(M);if(C){if(C.length>r){p(`Tag must be ${r} chars`);return}if(s.includes(C)){x(`${C} already added`);return}if(s.length>=n){p(`Max ${n} tags reached`);return}i(V=>[...V,C]),x(`Added ${C}`)}};w.useEffect(()=>(b.current&&window.clearTimeout(b.current),b.current=window.setTimeout(()=>{const M=o.trim().toLowerCase(),C=M?t.filter(V=>V.name.includes(M)):[...t].sort((V,Q)=>Q.count-V.count);c(C.slice(0,5)),f(null)},200),()=>{b.current&&window.clearTimeout(b.current)}),[o,t]);const y=M=>{const C=M.target.value;C.includes(",")?(C.split(",").slice(0,-1).forEach(g),a(C.split(",").slice(-1)[0])):a(C)},S=M=>{const C=l.length;M.key==="Enter"&&(M.preventDefault(),g(o),a("")),M.key==="ArrowDown"&&C&&(M.preventDefault(),f(V=>V===null?0:(V+1)%C)),M.key==="ArrowUp"&&C&&(M.preventDefault(),f(V=>V===null?C-1:(V-1+C)%C)),M.key==="Escape"&&(a(""),c([]))},k=()=>{c([]),f(null)},_=M=>{i(C=>C.filter(V=>V!==M))},E=()=>{a("")};return{tags:s,input:o,suggestions:l,highlightedIndex:u,error:h,liveMsg:v,handlers:{onInputChange:y,onInputKeyDown:S,onInputBlur:k,commit:g,remove:_,resetInput:()=>{E(),c([]),f(null)},clearInput:E}}}function Cj({initialName:e,venues:t,addVenue:n,mode:r,venueUsage:s={}}){const[i,o]=w.useState(e),[a,l]=w.useState(!1),[c,u]=w.useState([]);return w.useEffect(()=>{r==="add"&&(o(""),l(!1))},[r]),w.useEffect(()=>{const v=t.map(b=>({name:b.name,count:s[b.id]??0})),x=i.trim().toLowerCase();u(x?v.filter(b=>b.name.toLowerCase().includes(x)).slice(0,5).map(b=>b.name):v.sort((b,m)=>m.count-b.count).slice(0,5).map(b=>b.name))},[i,t,s]),{value:i,touched:a,suggestions:c,onChange:v=>{o(v),l(!0)},onSelect:v=>{o(v),u([])},resolveVenue:()=>{const v=i.trim(),x=t.find(m=>m.name===v);if(x)return x;const b={id:se(),name:v||Xn,locationTag:void 0,coords:void 0,favorite:!1,proximityAlertsEnabled:!0};return n(b),b}}}function Ij(e){var i,o;const t={},n=new Date().toISOString().split("T")[0];e.name.trim()||(t.name="Name is required"),e.dateMet?e.dateMet>n&&(t.dateMet="Date Met cannot be in the future"):t.dateMet="Date Met is required",e.venue.length>50&&(t.venue="Venue name must be 50 characters or fewer"),e.tags.length>15&&(t.tags="Maximum of 15 tags allowed"),e.position&&e.position.length>60&&(t.position="Position must be 60 characters or fewer"),e.description&&e.description.length>500&&(t.description="Description must be 500 characters or fewer");const r=(i=e.latitude)==null?void 0:i.trim(),s=(o=e.longitude)==null?void 0:o.trim();if(r||s){const a=r?parseFloat(r):NaN,l=s?parseFloat(s):NaN;(!r||!s||Number.isNaN(a)||Number.isNaN(l)||a<-90||a>90||l<-180||l>180)&&(t.coords="Enter valid latitude (-90 to 90) and longitude (-180 to 180)")}return{isValid:Object.keys(t).length===0,errors:t}}function Pj(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return new Proxy({},{get(r,s){return(i,o,a)=>{const l=e.Capacitor.Plugins[n];if(l===void 0){a(new Error(`Capacitor plugin ${n} not found`));return}if(typeof l[s]!="function"){a(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const c=await l[s](i);o(c)}catch(c){a(c)}})()}}})}})}function Nj(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return e.cordova.plugins[n]}})}function Aj(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?Pj(window):window.cordova!==void 0&&Nj(window))}const ms=Pn("Geolocation",{web:()=>Tl(()=>import("./web-40d1fa27.js"),[]).then(e=>new e.GeolocationWeb)});Aj();class Mj extends mo{async echo(t){return t}async ping(){return{value:"pong"}}async searchPlaces(){return console.warn("MapKitBridge search is only available on native platforms."),{results:[]}}async getSnapshot(){throw this.unimplemented("Map snapshots are only available on device.")}}const Mg=Pn("MapKitBridge",{web:()=>Promise.resolve(new Mj)}),jj="data:image/svg+xml,%3Csvg width='640' height='360' viewBox='0 0 640 360' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='640' height='360' fill='%23f8f4ef'/%3E%3Cpath d='M0 40h640M0 120h640M0 200h640M0 280h640' stroke='%23e5dbcf' stroke-width='2'/%3E%3Cpath d='M80 0v360M200 0v360M320 0v360M440 0v360M560 0v360' stroke='%23e5dbcf' stroke-width='2'/%3E%3Cpath d='M0 260l80-40 60 30 100-50 90 60 90-80 120 40 100-70 0 210H0z' fill='%23d5e5f0'/%3E%3Cpath d='M0 300l90-60 120 70 120-70 120 50 190-140V360H0z' fill='%23c7e0da'/%3E%3C/svg%3E",jg="Search by name or address",Rj=({venueName:e,canUseLocation:t,labelClass:n,formError:r,resolveVenue:s,getSelectedVenue:i,onValidationCoordsChange:o,onPendingChange:a,globalProximityEnabled:l,onEnableGlobalProximity:c})=>{const{showNotification:u}=Ws(),{trackEvent:f}=qr(),h=w.useMemo(()=>i(),[i]),[p,v]=w.useState((h==null?void 0:h.coords)??null),[x,b]=w.useState((h==null?void 0:h.locationTag)??""),[m,g]=w.useState(()=>l?(h==null?void 0:h.proximityAlertsEnabled)!==!1:!1),[y,S]=w.useState(!1),[k,_]=w.useState(null),[E,T]=w.useState(!1),[M,C]=w.useState(null),[V,Q]=w.useState(!1),[J,ue]=w.useState(null),[Ae,de]=w.useState(null),[H,A]=w.useState(!1),[P,R]=w.useState(""),[W,X]=w.useState([]),[Be,oe]=w.useState(!1),[nt,ze]=w.useState(null),[ae,yt]=w.useState(jg),[Pt,vr]=w.useState(!1);w.useEffect(()=>{o&&o(p?{lat:p.lat.toFixed(4),lon:p.lon.toFixed(4)}:null)},[p,o]),w.useEffect(()=>{if(!t){a==null||a(null);return}a==null||a({coords:p,locationTag:x,proximityEnabled:m})},[p,x,m,t,a]),w.useEffect(()=>{if(!e.trim()){g(l);return}const j=i();g(j?l?j.proximityAlertsEnabled!==!1:!1:l)},[e,i,l]),w.useEffect(()=>{if(!e.trim()){v(null),b(""),_(null),C(null);return}const G=i();if(!G)return;if(!G.coords){v(null);return}p&&Math.abs(p.lat-G.coords.lat)<1e-6&&Math.abs(p.lon-G.coords.lon)<1e-6||v({lat:G.coords.lat,lon:G.coords.lon}),G.locationTag&&G.locationTag!==x&&b(G.locationTag)},[e,p,x,i]),w.useEffect(()=>{let j=!1;if(!p){_(null),C(null),T(!1);return}if(!ut.isNativePlatform()){_(null),C("Preview available on device");return}return(async()=>{const re=e.trim()||"unspecified";try{T(!0);const te=await Mg.getSnapshot({lat:p.lat,lng:p.lon,width:640,height:288,spanMeters:800});if(!j){const Mn=te.address||`${p.lat.toFixed(4)}, ${p.lon.toFixed(4)}`;_(`data:image/png;base64,${te.imageData}`),C(null),f("map_snapshot_success",{venueName:re,hasAddress:!!te.address}),Mn!==x&&b(Mn)}}catch(te){console.warn("Map snapshot error",te),j||(_(null),C("Preview unavailable")),f("map_snapshot_error",{venueName:e.trim()||"unspecified",message:typeof(te==null?void 0:te.message)=="string"?te.message:"unknown"})}finally{j||T(!1)}})(),()=>{j=!0}},[p,e,f]),w.useEffect(()=>{if(H){const te=e.trim();yt(te?`Search (e.g. ${te})`:jg)}if(!H){R(""),X([]),oe(!1),ze(null);return}const j=P.trim();if(j.length<2||!ut.isNativePlatform()){X([]),oe(!1);return}let G=!1;const re=window.setTimeout(async()=>{try{oe(!0),ze(null);const{results:te}=await Mg.searchPlaces({query:j,near:p?{lat:p.lat,lng:p.lon}:void 0});G||(X(te),f("place_search_results",{query_length:j.length,result_count:te.length}))}catch(te){console.warn("Place search error",te),G||ze("Couldn't search right now"),f("place_search_error",{message:typeof(te==null?void 0:te.message)=="string"?te.message:"unknown"})}finally{G||oe(!1)}},250);return()=>{G=!0,window.clearTimeout(re)}},[P,H,p,e,f]),w.useEffect(()=>{if(!H)return;const j=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=j}},[H]);const Nn=async()=>{if(!ut.isNativePlatform())return!0;try{const j=await ms.requestPermissions();return(j==null?void 0:j.location)==="granted"||(j==null?void 0:j.location)==="grantedWhenInUse"?!0:(u("Enable location access for MetHere in Settings to capture venue pins.","info"),!1)}catch(j){return console.warn("Permission request error",j),u("Unable to request location permission right now.","error"),!1}},xr=async()=>{try{if(ut.isNativePlatform()){const j=await ms.getCurrentPosition({enableHighAccuracy:!0});return{lat:j.coords.latitude,lon:j.coords.longitude}}}catch(j){throw console.warn("Native geolocation error",j),j}if(!navigator.geolocation)throw new Error("Geolocation not supported on this device.");return new Promise((j,G)=>{navigator.geolocation.getCurrentPosition(re=>{j({lat:re.coords.latitude,lon:re.coords.longitude})},re=>G(re),{enableHighAccuracy:!0})})},An=async j=>{v(j);const G=`${j.lat.toFixed(4)}, ${j.lon.toFixed(4)}`;b(re=>re||G),u("Location captured","info")},Yr=(j,G)=>{const re=i();return re!=null&&re.coords?j&&Math.abs(re.coords.lat-j.lat)<5e-4&&Math.abs(re.coords.lon-j.lon)<5e-4?!1:(ue(re),de(()=>G),Q(!0),!0):!1},qs=async()=>{try{if(S(!0),!await Nn())return;const G=await xr(),re=()=>An(G);if(Yr(G,re))return;await re(),f("venue_pin_captured",{source:"current_location",venueName:e})}catch(j){console.warn("Location capture error",j);const G=typeof(j==null?void 0:j.message)=="string"&&j.message||"Couldn't access your location.";u(G,"error")}finally{S(!1)}},Re=j=>{A(!1),R(""),X([]);const G={lat:j.lat,lon:j.lng},re=()=>(v(G),b(j.address),u(`Location set to ${j.name}`,"info"),f("venue_pin_captured",{source:"search",venueName:e}),Promise.resolve());Yr(G,re)||re()},Ft=()=>{if(!!m){g(!1);return}if(!l){vr(!0);return}g(!0)},sn=async()=>{Q(!1),ue(null);const j=Ae;de(null),j&&await j()},$t=()=>{Q(!1),ue(null),de(null)};return d.jsxs(d.Fragment,{children:[d.jsx(kn,{mode:"sync",children:t&&d.jsxs(q.section,{layout:!0,layoutId:"location-section",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3,ease:[.4,0,.2,1]},className:"mt-1.5 space-y-4 will-change-transform",children:[d.jsxs("div",{children:[d.jsx("p",{className:n.replace("mb-2",""),children:"Location (optional)"}),d.jsx("p",{className:"mt-1 text-xs text-[var(--color-text-secondary)]",children:"Add a map pin for this venue."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{if(!ut.isNativePlatform()){u("Search is available on device only.","info");return}f("place_search_opened",{venueName:e.trim()||"unspecified"}),A(!0)},className:"rounded-full bg-[var(--color-accent)] px-4 py-1.5 text-xs font-semibold text-white shadow-[0_10px_24px_rgba(0,0,0,0.18)] transition hover:brightness-110 disabled:opacity-60",children:"Choose a place"}),d.jsx("button",{type:"button",onClick:()=>{Z(z.Light),qs()},disabled:y,className:"rounded-full border border-white/40 bg-[var(--color-card)] px-4 py-1.5 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_6px_18px_rgba(0,0,0,0.08)]",children:y?"Capturing":"Use current location"})]}),d.jsx(kn,{mode:"wait",initial:!1,children:p?d.jsxs(q.div,{initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:12,scale:.98},transition:{duration:.22,ease:"easeOut"},className:"space-y-4 rounded-[30px] border border-[var(--color-card-border)] bg-[var(--color-card)]/95 p-5 shadow-[0_18px_40px_rgba(15,23,42,0.15)]",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-[26px] border border-white/15 bg-[var(--color-card)]/60",children:[d.jsx("img",{src:k??jj,alt:"Map preview",className:"h-48 w-full object-cover transition-opacity"}),!k&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/90",children:d.jsx("div",{className:"h-6 w-6 rounded-full bg-[var(--color-accent)] shadow-lg"})})}),E&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center bg-[var(--color-card)]/50 text-xs font-semibold text-[var(--color-text-secondary)]",children:"Generating preview"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:e.trim()||"The Broadview Rooftop"}),d.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:x||`${p.lat.toFixed(4)}, ${p.lon.toFixed(4)}`})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var G;const j=(x==null?void 0:x.trim())||`${p.lat.toFixed(4)}, ${p.lon.toFixed(4)}`;(G=navigator.clipboard)==null||G.writeText(j).then(()=>u("Coordinates copied","info")).catch(()=>u("Unable to copy coordinates.","error"))},className:"rounded-full border border-[var(--color-card-border)] px-3 py-1 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_3px_10px_rgba(15,23,42,0.08)]",children:"Copy address"}),d.jsx("button",{type:"button",disabled:!p,onClick:()=>{p&&(ut.isNativePlatform()?window.open(`maps://?ll=${p.lat},${p.lon}`,"_blank"):window.open(`https://maps.google.com/?q=${p.lat},${p.lon}`,"_blank"))},className:"rounded-full border border-[var(--color-card-border)] px-3 py-1 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_3px_10px_rgba(15,23,42,0.08)]",children:"Open in Maps"})]})]},"map-card"):null}),p&&d.jsxs("div",{className:"rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)]/80 px-4 py-3 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Nearby venue alert"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Notify me when Im near this venue."})]}),d.jsx("button",{type:"button",onClick:()=>{Z(z.Light),Ft()},className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${m?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${m?"translate-x-6":"translate-x-1"}`})})]}),r&&d.jsx("p",{className:"text-red-500 text-xs",children:r})]},"location-section")}),V&&J&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-sm rounded-[32px] bg-[var(--color-card)] p-6 shadow-[0_20px_50px_rgba(15,23,42,0.4)] text-center space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Replace saved pin?"}),d.jsxs("p",{className:"mt-2 text-sm text-[var(--color-text-secondary)]",children:["",J.name," already has a location. Replacing it will update the pin for everyone linked to this venue."]})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-center",children:[d.jsx("button",{type:"button",onClick:$t,className:"rounded-full border border-[var(--color-card-border)] px-4 py-2 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/80",children:"Keep existing"}),d.jsx("button",{type:"button",onClick:sn,className:"rounded-full bg-[var(--color-accent)] px-4 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(0,0,0,0.25)] hover:brightness-110",children:"Replace location"})]})]})}),Pt&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-sm rounded-[32px] bg-[var(--color-card)] p-6 shadow-[0_20px_50px_rgba(15,23,42,0.4)] text-center space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Enable nearby venue alerts?"}),d.jsx("p",{className:"mt-2 text-sm text-[var(--color-text-secondary)]",children:"Turn on global alerts so this venue can notify you when youre nearby."})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-center",children:[d.jsx("button",{type:"button",onClick:()=>vr(!1),className:"rounded-full border border-[var(--color-card-border)] px-4 py-2 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/80",children:"Not now"}),d.jsx("button",{type:"button",onClick:()=>{vr(!1),c(),g(!0)},className:"rounded-full bg-[var(--color-accent)] px-4 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(0,0,0,0.25)] hover:brightness-110",children:"Enable alerts"})]})]})}),H&&d.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center pointer-events-none bg-[var(--color-card)]/50 backdrop-blur-md",children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"pointer-events-auto w-[min(80vw,380px)] rounded-[30px] bg-white p-5 shadow-[0_25px_60px_rgba(15,23,42,0.45)] space-y-4 max-h-[80vh] flex flex-col border border-black/5",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Search by name or address"}),d.jsx("button",{type:"button",onClick:()=>A(!1),className:"text-lg font-semibold text-[var(--color-text-secondary)] hover:text-[var(--color-accent)]",children:""})]}),d.jsxs("div",{className:"rounded-[26px] border border-black/10 bg-white px-4 py-2 flex items-center gap-3 shadow-[inset_0_1px_2px_rgba(15,23,42,0.08)]",children:[d.jsx("span",{className:"text-[var(--color-text-secondary)]",children:""}),d.jsx("input",{type:"text",value:P,onChange:j=>R(j.target.value),placeholder:ae,className:"flex-1 bg-transparent text-base text-[var(--color-text-primary)] outline-none placeholder:text-[var(--color-text-secondary)]",autoFocus:!0})]}),d.jsxs("div",{className:"max-h-[55vh] overflow-y-auto pr-1 flex-1 bg-white rounded-[20px] px-2 py-2 space-y-1",children:[Be&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] px-1",children:"Searching"}),nt&&d.jsx("p",{className:"text-xs text-red-500 px-1",children:nt}),!Be&&!nt&&W.length===0&&P.trim().length>=2&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] px-1",children:"No matches found."}),!Be&&!nt&&W.slice(0,5).map(j=>d.jsxs("button",{type:"button",onClick:()=>Re(j),className:"w-full text-left rounded-[18px] border border-black/5 bg-white px-3 py-2 shadow-[0_4px_12px_rgba(15,23,42,0.05)] hover:bg-[var(--color-card)]/30 transition",children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:j.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:j.address})]},`${j.lat}-${j.lng}-${j.address}`))]})]})})]})};function Lj({initialData:e={},onSubmit:t,onCancel:n,mode:r,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l,hideActions:c=!1,onSubmittingChange:u,globalProximityEnabled:f,onEnableGlobalProximity:h}){const{trackEvent:p}=qr(),[v,x]=w.useState(e.name||""),[b,m]=w.useState(e.position||""),[g,y]=w.useState(e.description||""),{venues:S,addVenue:k,updateVenue:_}=Nl(),E=e.venueId?S.find(L=>L.id===e.venueId):void 0,T=()=>{const L=V.trim().toLowerCase();return L?S.find(fe=>fe.name.trim().toLowerCase()===L)??null:null},M=(E==null?void 0:E.name)??"",C=w.useMemo(()=>S.reduce((L,fe)=>(L[fe.id]=i.filter(Le=>Le.venueId===fe.id).length,L),{}),[S,i]),{value:V,touched:Q,suggestions:J,onChange:ue,onSelect:Ae,resolveVenue:de}=Cj({initialName:M,venues:S,addVenue:k,mode:r,venueUsage:C}),[H,A]=w.useState(!1),[P,R]=w.useState({}),[W,X]=w.useState(null),[Be,oe]=w.useState(null),[nt,ze]=w.useState(!1);w.useEffect(()=>()=>{u==null||u(!1)},[u]),w.useEffect(()=>{if(!W)return;const L=window.setTimeout(()=>X(null),250);return()=>window.clearTimeout(L)},[W]);const{tags:ae,input:yt,suggestions:Pt,highlightedIndex:vr,error:Nn,liveMsg:xr,handlers:{onInputChange:An,onInputKeyDown:Yr,onInputBlur:qs,commit:Re,remove:Ft,resetInput:sn,clearInput:$t}}=Ej({initialTags:r==="edit"&&e.tags?e.tags.map(L=>a(L).trim().toLowerCase()):[],allTags:s}),[j,G]=w.useState(null);w.useEffect(()=>{if(!j)return;const L=window.setTimeout(()=>G(null),250);return()=>window.clearTimeout(L)},[j]);const re=()=>{if(Rn.current){Rn.current=!1;return}yt.trim()&&Re(yt),An({target:{value:""}}),qs()},te=new Date().toISOString().split("T")[0],[Mn,bo]=w.useState(e.dateMet?e.dateMet.split("T")[0]:te),[jn,Rl]=w.useState(()=>E!=null&&E.coords?{lat:E.coords.lat.toFixed(4),lon:E.coords.lon.toFixed(4)}:null),Rn=w.useRef(!1),Ll=L=>{if(!Be)return;const{coords:fe,locationTag:Le,proximityEnabled:Bt}=Be,zt=L.locationTag??"",Ln=Le||zt,I=L.proximityAlertsEnabled!==!1;!(fe&&(!L.coords||Math.abs(L.coords.lat-fe.lat)>1e-6||Math.abs(L.coords.lon-fe.lon)>1e-6))&&!(Le&&Le!==zt)&&!(Bt!==I)||(_({...L,coords:fe??L.coords,locationTag:Ln,proximityAlertsEnabled:Bt}),oe(null))},Dl=L=>{if(L.preventDefault(),nt)return;if(!v.trim()){Z(z.Heavy),A(!0);return}const fe=Mn||te,{isValid:Le,errors:Bt}=Ij({name:v,dateMet:fe,venue:V,tags:ae,position:b,description:g,latitude:(jn==null?void 0:jn.lat)??"",longitude:(jn==null?void 0:jn.lon)??""});if(!Le){Z(z.Heavy),R(Bt);return}R({}),Mn||bo(fe),R({});const zt=yt.trim();zt&&Re(zt);const Ln=ae.map(F=>o(F)??l(F).id),I=new Date().toISOString(),O=de(),U={id:e.id||se(),name:v.trim(),position:b.trim()||void 0,venueId:O.id,description:g.trim()||void 0,dateMet:fe,createdAt:r==="add"?I:e.createdAt,updatedAt:r==="edit"?I:void 0,tags:Ln,favorite:e.favorite??!1};ze(!0),u==null||u(!0);try{t(U),Ll(O)}finally{ze(!1),u==null||u(!1)}},on="block text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)] mb-2",an="w-full px-3 py-2 rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] text-base text-[var(--color-text-primary)] placeholder:text-[var(--color-text-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] shadow-level1",ko=L=>{const fe=w.useRef(null),[Le,Bt]=w.useState(!1),[zt,Ln]=w.useState(!1);return w.useEffect(()=>{const I=fe.current;if(!I)return;const O=()=>{const U=I.scrollWidth-I.clientWidth>4;Bt(U),U&&Ln(!0)};return O(),window.addEventListener("resize",O),()=>{window.removeEventListener("resize",O)}},L),w.useEffect(()=>{if(!Le)return;const I=window.setTimeout(()=>Ln(!1),700);return()=>window.clearTimeout(I)},[Le]),{ref:fe,hasOverflow:Le,showHint:zt}},Ys=ko([J.length]),mh=ko([ae.length]),To=ko([Pt.length,yt]),Ol=!!V.trim();return d.jsx(d.Fragment,{children:d.jsxs("form",{id:"person-form",onSubmit:Dl,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"name",className:on,children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{id:"name",type:"text",value:v,onChange:L=>x(L.target.value),onBlur:()=>A(!0),className:`${an} ${H&&!v.trim()?"border-red-400":""}`,required:!0}),H&&!v.trim()&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Name is required"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"date-met",className:on,children:["Date Met ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{id:"date-met",type:"date",value:Mn,onChange:L=>bo(L.target.value),className:`${an} ${P.dateMet?"border-red-400":""}`,required:!0,max:te}),P.dateMet&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.dateMet})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"position",className:on,children:"Position / Role"}),d.jsx("input",{id:"position",type:"text",value:b,onChange:L=>m(L.target.value),className:an}),P.position&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.position})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"venue",className:on,children:"Venue (optional)"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mb-2",children:"Name or select the venue to enable location tools."}),d.jsx("input",{id:"venue",type:"text",value:V,onChange:L=>ue(L.target.value),className:an}),Q&&V.length>50&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Venue name is too long"}),P.venue&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.venue})]}),J.length>0&&d.jsxs("div",{className:"mt-1.5 mb-1 space-y-1",children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Suggested venues"}),d.jsx("div",{ref:Ys.ref,className:"relative overflow-x-auto whitespace-nowrap gap-2 px-1 pb-1.5 pr-10 tag-suggestion-rail",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:J.map(L=>{const fe=W===L;return d.jsx(q.button,{type:"button",className:"inline-block mr-3 px-3 py-1 rounded-full text-sm bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] border border-[var(--color-accent-muted)] hover:bg-[var(--color-accent-muted)]/80",onPointerDown:()=>{Rn.current=!0},onClick:async()=>{await Z(z.Light),Ae(L),X(L),Rn.current=!1},animate:fe?{scale:[.94,1.05,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 10px 20px rgba(15,23,42,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:1,boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.22,ease:"easeOut"},onAnimationComplete:()=>{fe&&X(null)},children:L},L)})})]}),d.jsx(Rj,{venueName:V,canUseLocation:Ol,labelClass:on,formError:P.coords,resolveVenue:de,getSelectedVenue:T,onValidationCoordsChange:Rl,onPendingChange:oe,globalProximityEnabled:f,onEnableGlobalProximity:h}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:on,children:"Description (optional)"}),d.jsx("textarea",{id:"description",value:g,onChange:L=>y(L.target.value),className:`${an} min-h-[120px]`,rows:3}),P.description&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.description})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tag-input",className:on,children:"Tags"}),d.jsx("div",{role:"list",ref:mh.ref,className:"relative overflow-x-auto whitespace-nowrap mb-2 px-1 pb-4 pr-10",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:ae.length>0?ae.map(L=>d.jsxs("button",{type:"button",onClick:async()=>{await Z(z.Light),Ft(L)},className:"inline-flex items-center mr-3 bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] px-3 py-1 rounded-full text-sm hover:bg-[var(--color-accent-muted)]/80 transition focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]","aria-label":`Remove tag ${L}`,children:[L,d.jsx("span",{className:"ml-2 text-red-500 text-base",children:""})]},L)):d.jsx("span",{className:"inline-block mr-3 text-[var(--color-text-secondary)] text-sm italic",children:"no tags added"})}),d.jsx("input",{id:"tag-input",type:"text",placeholder:"Add a tag",value:yt,onChange:An,onKeyDown:Yr,onBlur:re,autoComplete:"off",className:an}),d.jsxs("div",{className:"text-xs text-[var(--color-text-secondary)] text-right mt-1",children:[yt.length," / 25"]}),d.jsxs("div",{className:"mt-3 space-y-1",children:[Pt.length>0&&d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Suggested tags"}),d.jsxs("div",{ref:To.ref,className:"relative overflow-x-auto whitespace-nowrap px-3 pb-3 pr-12 tag-suggestion-rail",onWheel:L=>L.stopPropagation(),onTouchStart:L=>L.stopPropagation(),style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:[Pt.map((L,fe)=>{const Le=j===L.id;return d.jsx(q.button,{type:"button",onPointerDown:()=>{Rn.current=!0},onClick:async()=>{await Z(z.Light),Re(L.name),$t(),G(L.id)},className:`inline-block mr-3 px-3 py-1 rounded-full text-sm bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] border border-[var(--color-accent-muted)] hover:bg-[var(--color-accent-muted)]/80 ${fe===vr?"ring-2 ring-[var(--color-accent)]":""}`,animate:Le?{scale:[.94,1.05,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 10px 20px rgba(15,23,42,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:1,boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.22,ease:"easeOut"},onAnimationComplete:()=>{Le&&G(null)},children:L.name},L.id)}),(()=>{const L=yt.trim().toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s{2,}/g," ");return L&&!ae.includes(L)&&!s.some(fe=>fe.name===L)?d.jsxs("button",{type:"button",onPointerDown:()=>{Rn.current=!0},onClick:async()=>{await Z(z.Light),Re(L),$t(),p("custom_tag_created",{tag:L})},className:"inline-block mr-3 px-3 py-1 rounded-full text-sm border border-dashed border-[var(--color-accent)] text-[var(--color-accent)] bg-white/70 hover:bg-white",children:["Create ",L,""]}):null})()]})]}),Nn&&d.jsx("div",{className:"text-red-500 text-xs mt-1",children:Nn}),xr&&d.jsx("div",{className:"text-sm text-[var(--color-text-secondary)] mt-1",children:xr}),P.tags&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:P.tags})]}),!c&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",disabled:!v.trim(),className:`flex-1 py-2 rounded-full text-white text-center font-semibold transition ${v.trim()?"bg-[var(--color-accent)] hover:brightness-110 shadow":"bg-[var(--color-accent-muted)]/50 text-[var(--color-text-secondary)]/70 cursor-not-allowed"}`,children:"Save"}),n&&d.jsx("button",{type:"button",onClick:n,className:"flex-1 py-2 border border-white/70 rounded-full text-sm text-[var(--color-text-secondary)] hover:bg-white transition",children:"Cancel"})]})]})})}function Rg({mode:e,person:t,onSubmit:n,onCancel:r,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l,globalProximityEnabled:c,onEnableGlobalProximity:u}){const f=e==="add"?"Add Person":"Edit Person",[h,p]=w.useState(!1),v=e==="edit"?t:void 0,x=typeof document<"u"?document.getElementById("modal-root")??document.body:null;return x?ev.createPortal(d.jsx(q.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeInOut"},onClick:r,style:{willChange:"opacity",overscrollBehavior:"contain",touchAction:"none",paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(q.div,{role:"dialog","aria-modal":"true",className:"glass-panel w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:b=>b.stopPropagation(),style:{willChange:"transform, opacity"},children:[d.jsxs("div",{className:"flex-none sticky top-0 z-10 bg-[var(--color-surface)]/95 backdrop-blur-lg border-b border-white/40 px-6 py-4 shadow-[0_6px_18px_rgba(15,23,42,0.08)] pr-14",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-[0_8px_20px_rgba(15,23,42,0.12)]",children:e==="add"?d.jsx(rj,{size:18}):d.jsx(tj,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]/80",children:e==="add"?"Create new connection":"Update connection"}),d.jsx("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:f})]})]}),d.jsx("button",{type:"button","aria-label":"Close modal",className:"absolute top-3 right-3 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 transition flex items-center justify-center",onClick:b=>{b.stopPropagation(),Z(z.Light),r()},children:d.jsx(Ml,{size:16})})]}),d.jsx("div",{className:"relative flex-1 overflow-y-auto px-6 py-4 bg-[var(--color-card)]",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"},children:d.jsx(Lj,{initialData:v,onSubmit:n,onCancel:r,mode:e,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l,hideActions:!0,onSubmittingChange:p,globalProximityEnabled:c,onEnableGlobalProximity:u})}),d.jsxs("div",{className:"flex-none sticky bottom-0 z-10 bg-[var(--color-surface)]/95 backdrop-blur-lg border-t border-white/40 px-6 py-4 flex justify-end gap-2 shadow-[0_-6px_18px_rgba(15,23,42,0.08)]",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-full border border-white/70 text-sm text-[var(--color-text-secondary)] hover:bg-white transition",children:"Cancel"}),d.jsx("button",{type:"submit",form:"person-form",disabled:h,className:"px-4 py-2 rounded-full bg-[var(--color-accent)] text-white text-sm font-semibold shadow-level1 hover:brightness-105 transition disabled:opacity-60 disabled:cursor-not-allowed",children:h?"Saving":"Save"})]})]})}),x):null}function Dj({name:e,onConfirm:t,onCancel:n,isDeleting:r=!1}){return d.jsx(q.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:d.jsxs(q.div,{className:"glass-panel w-full max-w-md overflow-hidden flex flex-col shadow-[0_30px_80px_rgba(15,23,42,0.2)]",initial:{opacity:0,scale:.94,y:18},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:18},transition:{duration:.25,ease:"easeInOut"},onClick:s=>s.stopPropagation(),style:{willChange:"transform, opacity"},children:[d.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 bg-[var(--color-surface)]/90 backdrop-blur-lg",children:[d.jsx("div",{className:"w-11 h-11 rounded-2xl bg-red-500/15 text-red-400 flex items-center justify-center shadow-[0_8px_18px_rgba(15,23,42,0.18)] border border-white/20",children:d.jsx(ow,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-red-400/80",children:"Caution"}),d.jsx("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Confirm Delete"})]})]}),d.jsx("div",{className:"px-6 py-5 bg-[var(--color-card)] text-sm text-[var(--color-text-secondary)] leading-relaxed",children:d.jsxs("p",{children:["Are you sure you want to delete ",d.jsx("strong",{className:"text-[var(--color-text-primary)]",children:e}),"? This action cannot be undone."]})}),d.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 bg-[var(--color-card)]",children:[d.jsx("button",{onClick:()=>{Z(z.Light),n()},className:"px-4 py-2 rounded-full border border-white/40 text-sm text-[var(--color-text-secondary)] hover:bg-white/60 hover:text-[var(--color-text-primary)] transition",children:"Cancel"}),d.jsx("button",{onClick:()=>{Z(z.Heavy),t()},disabled:r,className:"px-4 py-2 rounded-full bg-red-500 text-white text-sm font-semibold shadow-level1 hover:brightness-105 transition disabled:opacity-60 disabled:cursor-not-allowed",children:r?"Deleting":"Delete"})]})]})})}function Oj({showAdd:e,onAddCancel:t,onAdd:n,tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,editingPerson:l,onEditCancel:c,onEdit:u,personToDelete:f,onDeleteCancel:h,onDeleteConfirm:p,globalProximityEnabled:v,onEnableGlobalProximity:x}){return d.jsxs(d.Fragment,{children:[d.jsxs(kn,{mode:"wait",initial:!1,children:[e&&d.jsx(Rg,{mode:"add",tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,globalProximityEnabled:v,onEnableGlobalProximity:x,onSubmit:n,onCancel:t},"add-person"),l&&d.jsx(Rg,{mode:"edit",person:l,tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,globalProximityEnabled:v,onEnableGlobalProximity:x,onSubmit:u,onCancel:c},"edit-person")]}),d.jsx(kn,{mode:"wait",initial:!1,children:f&&d.jsx(Dj,{name:f.name,onCancel:h,onConfirm:()=>p(f.id)},"delete-person")})]})}function Vj({segments:e,value:t,onChange:n,className:r=""}){const{trackEvent:s}=qr();return d.jsx(zT,{children:d.jsx("div",{className:`relative inline-flex rounded-full bg-[var(--color-card)]/90 backdrop-blur-lg overflow-hidden shadow-[0_8px_18px_rgba(15,23,42,0.07)] border border-[var(--color-card-border)]/70 p-0.5 ${r}`,style:{WebkitMaskImage:"radial-gradient(circle, white 99%, transparent 100%)"},children:e.map(i=>{const o=i.key===t,a=i.key==="all"?d.jsx(zM,{size:14,className:"mr-1.5"}):d.jsx(uh,{size:14,className:"mr-1.5"}),l=async()=>{o||(await Z(z.Medium),s("segmented_control_change",{segment:i.key}),n(i.key))};return d.jsxs("button",{type:"button","aria-pressed":o,onClick:l,className:`relative isolate flex items-center gap-1.5 px-[11px] min-h-[30px] text-[0.82rem] font-medium transition-all duration-250 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-accent)]/25 ${o?"text-white drop-shadow-[0_2px_8px_rgba(15,23,42,0.25)] opacity-100":"text-[var(--color-text-secondary)] opacity-70 hover:opacity-100 hover:text-[var(--color-text-primary)]"}`,children:[o&&d.jsx(q.span,{layoutId:"segmentHighlight",className:"absolute inset-[1px] rounded-full border",style:{backgroundColor:"var(--color-accent)",borderColor:"var(--color-accent)",boxShadow:"0 10px 24px rgba(15,23,42,0.18)"},transition:{type:"spring",stiffness:420,damping:32,mass:.35}}),d.jsxs(q.span,{className:"relative flex items-center",animate:o?{scale:[1,1.1,1]}:{scale:1},transition:{duration:.25},children:[a,i.label]})]},i.key)})})})}const Uj=w.memo(Vj),Fj=[{key:"name",dir:"asc",label:"Name AZ",description:"Alphabetical ascending"},{key:"name",dir:"desc",label:"Name ZA",description:"Alphabetical descending"},{key:"recentVisit",dir:"desc",label:"Recent visits first",description:"Newest activity at the top"},{key:"recentVisit",dir:"asc",label:"Oldest visits first",description:"Revisit older spots"},{key:"knownCount",dir:"desc",label:"Most known people",description:"Heaviest activity first"},{key:"knownCount",dir:"asc",label:"Least known people",description:"Discover quieter venues"}],$j=[{value:"name-asc",label:"Name AZ",description:"Alphabetical ascending"},{value:"name-desc",label:"Name ZA",description:"Alphabetical descending"},{value:"dateMet-desc",label:"Newest meetings",description:"People you met most recently"},{value:"dateMet-asc",label:"Oldest meetings",description:"Older connections first"},{value:"updatedAt-desc",label:"Recently updated",description:"Latest edits to profiles"},{value:"updatedAt-asc",label:"Oldest updates",description:"See older notes again"}];function Lg({variant:e,venueSortKey:t,venueSortDir:n,setVenueSortKey:r,setVenueSortDir:s,personSort:i,setPersonSort:o}){const a=`${t}-${n}`,l=e==="venue",c=l?Fj.map(({key:h,dir:p,label:v,description:x})=>{const b=`${h}-${p}`,m=b===a;return{key:b,label:v,description:x,active:m,onSelect:async()=>{await Z(m?z.Light:z.Medium),r(h),s(p)}}}):$j.map(({value:h,label:p,description:v})=>{const x=h===i;return{key:h,label:p,description:v,active:x,onSelect:async()=>{await Z(x?z.Light:z.Medium),o(h)}}}),u=l?"Sort venues":"Sort people",f=l?Zn:lj;return d.jsxs("div",{className:"space-y-3 text-left",children:[d.jsxs("div",{className:"flex items-center gap-3 px-1",children:[d.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-[0_8px_18px_rgba(15,23,42,0.15)]",children:d.jsx(f,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:u}),d.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)]/90",children:["Choose how ",l?"venues":"people"," are ordered."]})]})]}),d.jsx("div",{className:"rounded-2xl bg-[var(--color-card)]/95 px-3 py-2.5 shadow-level1/40",children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-[13px]",children:c.map(({key:h,label:p,description:v,active:x,onSelect:b})=>d.jsxs("button",{onClick:b,className:`w-full text-left px-3 py-2.5 rounded-2xl border transition duration-200 flex items-start justify-between gap-2 ${x?"border-[color:var(--color-accent)] bg-[color:var(--color-accent-muted)] text-[var(--color-accent)]":"border-[color:var(--color-card-border)] bg-[var(--color-card)] text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[13px] font-semibold",children:p}),d.jsx("p",{className:`text-[11px] ${x?"text-[var(--color-accent)]/90":"text-[var(--color-text-secondary)]"}`,children:v})]}),x&&d.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center self-center rounded-full bg-[var(--color-card)] text-[var(--color-accent)] shadow-[0_4px_10px_rgba(15,23,42,0.12)]",children:d.jsx(nw,{size:12,className:"translate-y-[0.5px]"})})]},h))})})]})}const Bj=({searchQuery:e,setSearchQuery:t,activeTags:n,setActiveTags:r,venueSortKey:s,venueSortDir:i,setVenueSortKey:o,setVenueSortDir:a,personSort:l,setPersonSort:c,onOpenSettings:u,onOpenProfile:f,venueView:h,setVenueView:p,favoriteVenueCount:v,totalVenueCount:x,showSortModal:b,setShowSortModal:m})=>{const g=w.useMemo(()=>[{key:"all",label:`All Venues (${x})`},{key:"favs",label:`Favourites (${v})`}],[x,v]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"sticky z-40",style:{top:0},children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-x-0 pointer-events-none bg-[var(--color-surface)]/92 backdrop-blur-[30px] border-b border-[var(--color-card-border)]/70 shadow-[0_12px_28px_rgba(15,23,42,0.18)]",style:{top:"calc(-1 * env(safe-area-inset-top))",height:"calc(100% + env(safe-area-inset-top))"}}),d.jsxs("div",{className:"relative space-y-1",style:{paddingTop:"calc(env(safe-area-inset-top) + 6px)"},children:[d.jsx("div",{className:"px-4 sm:px-6 md:px-8 lg:px-10 pb-1",children:d.jsxs("div",{className:"flex items-center gap-2 max-w-3xl mx-auto w-full",children:[d.jsx("button",{"aria-label":"Settings",onClick:u,className:"p-2 rounded-md hover:bg-white/60 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition",children:d.jsx(iw,{size:20})}),d.jsxs("div",{className:"relative flex-1",children:[d.jsx(FM,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--color-accent)] drop-shadow-[0_2px_4px_rgba(15,23,42,0.3)] z-10",size:20,strokeWidth:2.4}),d.jsx("input",{type:"text",value:e,onChange:y=>t(y.target.value),placeholder:"Search people, tags, venues",className:"w-full h-12 pl-11 pr-16 rounded-full bg-[var(--color-card)] backdrop-blur-sm border border-[var(--color-card-border)] text-[var(--color-text-primary)] placeholder:text-[var(--color-text-secondary)]/80 placeholder:text-[0.9rem] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] shadow-level1"}),e&&d.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]",onClick:()=>t(""),"aria-label":"Clear search",children:""}),d.jsx("button",{"aria-label":"Sort",className:`absolute top-1/2 -translate-y-1/2 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition ${e?"right-9":"right-3.5"}`,onClick:()=>m(!0),children:d.jsx(NM,{size:18})})]}),d.jsx("button",{"aria-label":"Profile",className:"p-2 rounded-md hover:bg-white/60 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition",onClick:f,children:d.jsx(oj,{size:20})})]})}),d.jsx("div",{className:"bg-transparent",children:d.jsx("div",{className:"px-4 sm:px-6 md:px-8 lg:px-10 pt-0 pb-2 space-y-0.5",children:d.jsx("div",{className:"flex justify-center pt-0.5",children:d.jsx(Uj,{segments:g,value:h,onChange:p,className:"shadow-level1"})})})})]})]})}),d.jsx(kn,{children:b&&d.jsx(q.div,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),children:d.jsxs(q.div,{className:"glass-panel w-full max-w-md max-h-[85vh] overflow-hidden flex flex-col relative bg-[var(--color-card)]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:y=>y.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:y=>{y.stopPropagation(),Z(z.Light),m(!1)},"aria-label":"Close sort options",children:d.jsx(Ml,{size:16})}),d.jsxs("div",{className:"overflow-y-auto px-5 pb-5 pt-6 space-y-4",style:{scrollbarGutter:"stable"},children:[d.jsx(Lg,{variant:"venue",venueSortKey:s,venueSortDir:i,setVenueSortKey:o,setVenueSortDir:a,personSort:l,setPersonSort:c}),d.jsx(Lg,{variant:"people",venueSortKey:s,venueSortDir:i,setVenueSortKey:o,setVenueSortDir:a,personSort:l,setPersonSort:c})]})]})})})]})};function zj({onComplete:e}){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center px-4 py-10",style:{paddingTop:"calc(env(safe-area-inset-top) + 24px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 24px)"},children:d.jsxs(q.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-sm rounded-[32px] border border-white/40 bg-[linear-gradient(180deg,var(--color-surface)_0%,var(--color-surface-alt)_55%,var(--color-surface)_100%)] px-6 py-8 text-center shadow-[0_24px_60px_rgba(15,23,42,0.16)]",children:[d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("img",{src:lw,alt:"MetHere",className:"h-8 w-auto opacity-80"})}),d.jsxs("h1",{className:"mt-6 text-2xl font-semibold text-[var(--color-text-primary)]",children:["Never forget where",d.jsx("br",{}),"you met someone."]}),d.jsxs("p",{className:"mt-4 text-sm leading-relaxed text-[var(--color-text-secondary)]",children:["MetHere helps you remember"," ",d.jsx("span",{className:"font-semibold text-[var(--color-text-primary)]",children:"people"})," by linking them to the"," ",d.jsx("span",{className:"font-semibold text-[var(--color-text-primary)]",children:"places you met"}),". Add a venue, attach the people you met there, and recall it later."]}),d.jsx("button",{type:"button",onClick:e,className:"mt-8 w-full rounded-full bg-[var(--color-accent)] px-6 py-3 text-sm font-semibold text-white shadow-[0_16px_30px_rgba(37,99,235,0.3)] transition hover:brightness-110",children:"Get Started"})]})})}function Hj(e,t){return!e.tags||!t?[]:e.tags.map(t)}function Wj(e,t,n){const r=t.trim().toLowerCase();return r?[e.name,e.position??"",e.description??"",...Hj(e,n)].some(i=>i.toLowerCase().includes(r)):!0}function Gj(e,t){return t.length===0?!0:t.every(n=>(e.tags??[]).includes(n))}function Kj(e,t,n=!0){return[...e].sort((r,s)=>{let i,o;switch(t){case"name":i=r.name.toLowerCase(),o=s.name.toLowerCase();break;case"dateMet":i=new Date(r.dateMet).getTime(),o=new Date(s.dateMet).getTime();break;case"createdAt":i=new Date(r.createdAt).getTime(),o=new Date(s.createdAt).getTime();break;case"updatedAt":i=new Date(r.updatedAt??r.createdAt).getTime(),o=new Date(s.updatedAt??s.createdAt).getTime();break;case"favorite":i=r.favorite?0:1,o=s.favorite?0:1;break;default:i=r.name.toLowerCase(),o=s.name.toLowerCase()}return i<o?n?-1:1:i>o?n?1:-1:0})}function Dg(e,t){const n=t.filter(r=>r.venueId===e.id).map(r=>new Date(r.updatedAt??r.createdAt).getTime());return n.length?Math.max(...n):0}function qj(e,t,n,r=!0){return[...e].sort((s,i)=>{let o,a;switch(n){case"name":o=s.name.toLowerCase(),a=i.name.toLowerCase();break;case"recentVisit":o=Dg(s,t),a=Dg(i,t);break;case"knownCount":o=t.filter(l=>l.venueId===s.id).length,a=t.filter(l=>l.venueId===i.id).length;break;default:o=s.name.toLowerCase(),a=i.name.toLowerCase()}return o<a?r?-1:1:o>a?r?1:-1:0})}function Yj(e,t,n,r,s=!0){const{venues:i}=Nl(),{getTagNameById:o}=ch(),a=w.useMemo(()=>Object.fromEntries(i.map(l=>[l.id,l.name])),[i]);return w.useMemo(()=>{const l=t.trim().toLowerCase();let c=e;return l&&(c=c.filter(u=>{var v;const f=Wj(u,t,o),p=(u.venueId?(v=a[u.venueId])==null?void 0:v.toLowerCase():"").includes(l);return f||p})),c=c.filter(u=>Gj(u,n)),Kj(c,r,s)},[e,t,n,r,s,a])}function Xj(e,t,n="recentVisit",r=!1){return w.useMemo(()=>qj(e,t,n,r),[e,t,n,r])}function Zj(e="",t=[],n="updatedAt-desc"){const[r,s]=w.useState(e),[i,o]=w.useState(t),[a,l]=w.useState(n);return{searchQuery:r,setSearchQuery:s,activeTags:i,setActiveTags:o,personSort:a,setPersonSort:l}}const Qj={success:{label:"Success",icon:d.jsx(vM,{size:18}),badgeBg:"bg-[var(--color-success)]/15",iconColor:"text-[var(--color-success)]",accentBorder:"border-[var(--color-success)]/30",animation:"glow"},info:{label:"Heads up",icon:d.jsx(EM,{size:18}),badgeBg:"bg-[var(--color-info)]/15",iconColor:"text-[var(--color-info)]",accentBorder:"border-[var(--color-info)]/30",animation:"wave"},error:{label:"Oops",icon:d.jsx(ow,{size:18}),badgeBg:"bg-[var(--color-error)]/15",iconColor:"text-[var(--color-error)]",accentBorder:"border-[var(--color-error)]/30",animation:"pulse"}};function Jj({message:e,type:t="success",onDismiss:n,meta:r={}}){if(t==="celebration")return d.jsx(q.div,{initial:{opacity:0,y:40,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.4,ease:"easeOut"},role:"status","aria-live":"polite",children:d.jsxs("div",{className:"celebration-toast relative pointer-events-auto rounded-3xl px-5 py-4 shadow-[0_20px_45px_rgba(168,85,247,0.35)] bg-[var(--color-accent)] text-white overflow-hidden w-full max-w-sm ml-auto border border-white/30",children:[d.jsx(q.div,{className:"absolute inset-0 bg-white/15",initial:{opacity:0,scale:.8},animate:{opacity:[0,.35,0],scale:[.8,1.4,1.7]},transition:{duration:.9,ease:"easeOut"}}),d.jsxs("div",{className:"relative flex items-start gap-4",children:[d.jsx(q.div,{className:"h-11 w-11 rounded-2xl bg-white/25 flex items-center justify-center shadow-lg",initial:{scale:.8,rotate:-10},animate:{scale:1,rotate:0},transition:{duration:.45,ease:"easeOut"},children:d.jsx("svg",{viewBox:"0 0 32 32",className:"h-6 w-6 text-white",fill:"currentColor",children:d.jsx("path",{d:"M16 3l3.09 6.26L26 10.27l-5 4.87L22.18 22 16 18.27 9.82 22 11 15.14 6 10.27l6.91-1.01L16 3z"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/80",children:"Achievement"}),d.jsx("p",{className:"text-lg font-semibold leading-snug",children:e}),d.jsx("p",{className:"text-sm text-white/80 mt-1",children:typeof(r==null?void 0:r.description)=="string"?r.description:"Keep goingyoure on a streak."})]})]})]})});const s=Qj[t];return d.jsx(q.div,{initial:{opacity:0,y:20,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.96},transition:{duration:.25,ease:"easeOut"},className:"pointer-events-auto",role:"status","aria-live":"polite",children:d.jsxs("div",{className:`relative pointer-events-auto rounded-3xl px-5 py-4 flex items-start gap-3 border backdrop-blur-xl shadow-[0_18px_36px_rgba(15,23,42,0.25)] bg-[var(--color-surface)]/95 ${s.accentBorder}`,children:[n&&d.jsx("button",{type:"button",className:"absolute -top-2 -right-2 h-7 w-7 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center","aria-label":"Dismiss notification",onClick:i=>{i.stopPropagation(),n()},children:""}),d.jsxs(q.div,{className:`relative h-9 w-9 rounded-2xl flex items-center justify-center shadow-level1/40 overflow-hidden ${s.badgeBg} ${s.iconColor}`,initial:{scale:.85},animate:{scale:1,rotate:s.animation==="wave"?[0,-6,6,0]:[0,-4,0]},transition:{duration:.45,ease:"easeOut"},children:[s.animation==="glow"&&d.jsx(q.div,{className:"absolute inset-0 rounded-2xl bg-white/30",initial:{opacity:0,scale:.6},animate:{opacity:[0,.8,0],scale:[.6,1.1,1.4]},transition:{duration:.7,ease:"easeOut"}}),s.animation==="pulse"&&d.jsx(q.div,{className:"absolute inset-0 rounded-2xl border-2 border-white/30",initial:{opacity:0,scale:.9},animate:{opacity:[.2,.8,0],scale:[.9,1.05,1.25]},transition:{duration:.45,ease:"easeOut"}}),s.animation==="wave"&&d.jsx(q.span,{className:"absolute inset-0 bg-white/20",style:{transformOrigin:"left center"},initial:{opacity:0,scaleX:0},animate:{opacity:[0,.6,0],scaleX:[0,1,1.2],x:[0,4,6]},transition:{duration:.7,ease:"easeInOut"}}),s.icon]}),d.jsxs("div",{className:"flex-1 text-[var(--color-text-primary)]",children:[d.jsx("p",{className:"text-sm font-semibold leading-tight opacity-80",children:s.label}),d.jsx("p",{className:"text-sm text-[var(--color-text-primary)] mt-0.5 leading-snug",children:e})]})]})})}const cw=w.createContext({theme:"light",setTheme:()=>{}}),eR=({children:e})=>{const t=()=>{if(typeof window>"u")return"light";const o=localStorage.getItem("theme");return o&&["light","coral","midnight","pink","emerald"].includes(o)?o:window.matchMedia("(prefers-color-scheme: dark)").matches?"midnight":"light"},[n,r]=w.useState(()=>t()),{trackEvent:s}=qr(),i=w.useCallback(o=>{o!==n&&(r(o),s("theme_changed",{theme:o}))},[n,s]);return w.useEffect(()=>{document.documentElement.setAttribute("data-theme",n);try{localStorage.setItem("theme",n)}catch{}},[n]),d.jsx(cw.Provider,{value:{theme:n,setTheme:i},children:e})},ud=1,Yo=2*1024*1024,tl=2e3,nl=500,rl=500,Og=512,tR=1,nR=["id","name","position","dateMet","venueName","tags","favorite","description"],So=e=>typeof e=="object"&&e!==null,Oc=e=>typeof e=="string"&&!Number.isNaN(Date.parse(e)),kt=e=>e.length>Og?e.slice(0,Og):e,rR=e=>{if(!So(e))return;const{lat:t,lon:n}=e;return typeof t=="number"&&typeof n=="number"?{lat:t,lon:n}:void 0},sR=e=>{const t=/[",\n\r]/.test(e),n=e.replace(/"/g,'""');return t?`"${n}"`:n},Vg=e=>{const t=[];let n="",r=!1;for(let s=0;s<e.length;s+=1){const i=e[s];if(i==='"'){if(r&&e[s+1]==='"'){n+='"',s+=1;continue}r=!r;continue}if(i===","&&!r){t.push(n),n="";continue}n+=i}return t.push(n),t.map(s=>s.trim())},iR=e=>{const n=e.split(/\r?\n/).map((i,o)=>({line:i.trim(),lineNumber:o+1})).filter(({line:i})=>i.length>0&&!i.startsWith("#"));if(n.length===0)throw new Error("CSV file is empty.");const r=Vg(n[0].line).map(i=>i.toLowerCase()),s=n.slice(1).map(i=>({lineNumber:i.lineNumber,values:Vg(i.line)}));return{headers:r,rows:s}};function oR(e,t,n){if(!Array.isArray(e))throw new Error("People data missing or malformed.");if(e.length>tl)throw new Error(`Backup has too many people (max ${tl}).`);const r=new Set(t.map(i=>i.id)),s=new Set(n.map(i=>i.id));return e.map((i,o)=>{if(!So(i))throw new Error(`Person entry #${o+1} is invalid.`);const a=typeof i.name=="string"?kt(i.name.trim()):"";if(!a)throw new Error(`Person entry #${o+1} is missing a name.`);const l=typeof i.id=="string"&&i.id.trim()?i.id:crypto.randomUUID(),c=Oc(i.dateMet)?i.dateMet:new Date().toISOString(),u=Oc(i.createdAt)?i.createdAt:c,f=Oc(i.updatedAt)?i.updatedAt:void 0,h=Array.isArray(i.tags)?i.tags.filter(v=>typeof v=="string"&&v.trim().length>0).filter(v=>s.has(v)):[],p=typeof i.venueId=="string"&&r.has(i.venueId)?i.venueId:void 0;return{id:l,name:a,position:typeof i.position=="string"?kt(i.position):void 0,description:typeof i.description=="string"?kt(i.description):void 0,venueId:p,dateMet:c,createdAt:u,updatedAt:f,tags:h,favorite:!!i.favorite,proximityAlertsEnabled:i.proximityAlertsEnabled!==!1}})}function aR(e){if(!Array.isArray(e))throw new Error("Venue data missing or malformed.");if(e.length>nl)throw new Error(`Backup has too many venues (max ${nl}).`);return e.map((t,n)=>{if(!So(t))throw new Error(`Venue entry #${n+1} is invalid.`);const r=typeof t.name=="string"?kt(t.name.trim()):"";if(!r)throw new Error(`Venue entry #${n+1} is missing a name.`);return{id:typeof t.id=="string"&&t.id.trim()?t.id:crypto.randomUUID(),name:r,locationTag:typeof t.locationTag=="string"?kt(t.locationTag):void 0,coords:rR(t.coords),favorite:!!t.favorite,proximityAlertsEnabled:t.proximityAlertsEnabled!==!1}})}function lR(e){if(!Array.isArray(e))throw new Error("Tag data missing or malformed.");if(e.length>rl)throw new Error(`Backup has too many tags (max ${rl}).`);return e.map((t,n)=>{if(!So(t))throw new Error(`Tag entry #${n+1} is invalid.`);const r=typeof t.id=="string"&&t.id.trim()?t.id:crypto.randomUUID(),s=typeof t.name=="string"?kt(t.name.trim()):"";if(!s)throw new Error(`Tag entry #${n+1} is missing a name.`);const i=typeof t.count=="number"&&t.count>=0?t.count:0,o=typeof t.lastUsed=="number"&&t.lastUsed>=0?t.lastUsed:Date.now();return{id:r,name:s,count:i,lastUsed:o}})}const cR=(e,t)=>{if(!Array.isArray(e))return[];const n=new Set(t.map(s=>s.name)),r=new Set;return e.filter(s=>typeof s=="string"&&s.trim().length>0).map(s=>kt(s.trim())).filter(s=>!n.has(s)||r.has(s)?!1:(r.add(s),!0))};function uR(e){let t;try{t=JSON.parse(e)}catch{throw new Error("The selected file is not valid JSON.")}if(!So(t))throw new Error("Backup payload is malformed.");const n=typeof t.version=="number"?t.version:ud;if(n>ud)throw new Error("This backup was created by a newer app version.");const r=aR(t.venues),s=lR(t.tags);return{version:n,exportedAt:typeof t.exportedAt=="string"?t.exportedAt:new Date().toISOString(),people:oR(t.people,r,s),venues:r,tags:s,favoriteVenues:cR(t.favoriteVenues,r)}}function dR(e){const{headers:t,rows:n}=iR(e),r=new Map(t.map((b,m)=>[b,m])),s=r.get("name"),i=r.get("datemet");if(s===void 0||i===void 0)throw new Error("CSV must include at least 'name' and 'dateMet' columns.");if(n.length>tl)throw new Error(`CSV has too many people (max ${tl}).`);const o=[],a=[],l=[],c=new Map,u=new Map,f=new Set;let h=0;const p=[],v=b=>{const m=b==null?void 0:b.trim();if(!m)return;const g=m.toLowerCase(),y=c.get(g);if(y)return y;if(o.length>=nl)throw new Error(`CSV has too many venues (max ${nl}).`);const S={id:crypto.randomUUID(),name:kt(m),locationTag:void 0,coords:void 0,favorite:!1,proximityAlertsEnabled:!0};return o.push(S),c.set(g,S),S},x=b=>{if(!b)return[];const m=b.split(",").map(y=>y.trim()).filter(Boolean),g=[];return m.forEach(y=>{const S=y.toLowerCase();let k=u.get(S);if(!k){if(a.length>=rl)throw new Error(`CSV has too many tags (max ${rl}).`);k={id:crypto.randomUUID(),name:kt(S),count:0,lastUsed:Date.now()},a.push(k),u.set(S,k)}g.push(k.id)}),g};return n.forEach(b=>{var de,H,A,P,R,W,X,Be;const m=b.values,g=(de=m[s])==null?void 0:de.trim(),y=(H=m[i])==null?void 0:H.trim();if(!g||!y){p.push({line:b.lineNumber,reason:g?"Missing dateMet.":"Missing name."}),h+=1;return}const S=new Date(y);if(Number.isNaN(S.getTime())){p.push({line:b.lineNumber,reason:"Invalid dateMet."}),h+=1;return}const k=(A=m[r.get("id")??-1])==null?void 0:A.trim(),_=(P=m[r.get("position")??-1])==null?void 0:P.trim(),E=(R=m[r.get("description")??-1])==null?void 0:R.trim(),T=(W=m[r.get("venuename")??-1])==null?void 0:W.trim(),M=(X=m[r.get("tags")??-1])==null?void 0:X.trim(),C=(Be=m[r.get("favorite")??-1])==null?void 0:Be.trim().toLowerCase(),V=v(T),Q=x(M),J=C==="true"||C==="yes"||C==="1",ue=S.toISOString(),Ae=k&&!f.has(k)?k:crypto.randomUUID();k&&f.has(k)&&p.push({line:b.lineNumber,reason:"Duplicate id; generated a new one."}),f.add(Ae),l.push({id:Ae,name:kt(g),position:_?kt(_):void 0,description:E?kt(E):void 0,venueId:V==null?void 0:V.id,dateMet:ue,createdAt:ue,updatedAt:void 0,tags:Q,favorite:J})}),{people:l,venues:o,tags:a,skipped:h,errors:p}}function fR(e,t){const{people:n,replacePeople:r}=J1(),{tags:s,replaceTags:i}=ch(),{venues:o,replaceVenues:a}=Nl(),{showNotification:l}=Ws(),c=w.useCallback(()=>{try{const p={version:ud,exportedAt:new Date().toISOString(),people:n,venues:o,tags:s,favoriteVenues:e},v=JSON.stringify(p,null,2),x=new Blob([v],{type:"application/json"}),b=URL.createObjectURL(x),m=document.createElement("a");m.href=b,m.download=`remember-me-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(b),l("Backup downloaded.","success")}catch(p){console.error(p),l("Unable to export data.","error")}},[e,n,l,s,o]),u=w.useCallback(()=>{try{const p=new Map(s.map(S=>[S.id,S.name])),v=new Map(o.map(S=>[S.id,S.name])),x=n.map(S=>{const k=(S.tags??[]).map(E=>p.get(E)).filter(Boolean).join(", "),_=S.venueId?v.get(S.venueId)??"":"";return[S.id,S.name,S.position??"",S.dateMet,_??"",k,S.favorite?"true":"false",S.description??""].map(E=>sR(String(E)))}),b=[`# MetHere CSV v${tR}`,`# exportedAt=${new Date().toISOString()}`,nR.join(","),...x.map(S=>S.join(","))].join(`
`),m=new Blob([b],{type:"text/csv"}),g=URL.createObjectURL(m),y=document.createElement("a");y.href=g,y.download=`methere-people-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g),l("CSV exported.","success")}catch(p){console.error(p),l("Unable to export CSV.","error")}},[n,l,s,o]),f=w.useCallback(async p=>{if(p.size>Yo){const x=(Yo/1048576).toFixed(1),b=new Error(`Backup file is too large (max ${x} MB).`);throw l(b.message,"error"),b}const v=await p.text();try{const x=uR(v),b={people:[...n],venues:[...o],tags:[...s],favorites:[...e]};try{r(x.people),a(x.venues),i(x.tags),t(x.favoriteVenues)}catch(m){throw r(b.people),a(b.venues),i(b.tags),t(b.favorites),m}return l("Backup imported successfully.","success"),x}catch(x){throw console.error(x),l(x instanceof Error?x.message:"Import failed.","error"),x}},[e,n,r,i,a,t,l,s,o]),h=w.useCallback(async p=>{if(p.size>Yo){const x=(Yo/1048576).toFixed(1),b=new Error(`CSV file is too large (max ${x} MB).`);throw l(b.message,"error"),b}const v=await p.text();try{const x=dR(v),b={people:[...n],venues:[...o],tags:[...s],favorites:[...e]};try{r(x.people),a(x.venues),i(x.tags),t([])}catch(g){throw r(b.people),a(b.venues),i(b.tags),t(b.favorites),g}x.errors.length>0&&console.warn("CSV import row issues:",x.errors);let m="CSV imported";return x.skipped&&(m+=` (skipped ${x.skipped} rows)`),x.errors.length>0&&(m+=". Check console for details"),m+=".",l(m,"success"),x}catch(x){throw console.error(x),l(x instanceof Error?x.message:"CSV import failed.","error"),x}},[e,n,r,i,a,t,l,s,o]);return{exportBackup:c,importBackupFromFile:f,exportCsvBackup:u,importCsvFromFile:h}}const hR={}.VITE_APP_VERSION||"0.0.0",pR=[{key:"light",name:"Light",description:"Soft gradient background, bright surfaces.",icon:d.jsx(GM,{size:16})},{key:"coral",name:"Coral",description:"Warm tones inspired by sunsets.",icon:d.jsx(sw,{size:16})},{key:"pink",name:"Pink Pop",description:"Playful blush palette with vibrant accents.",icon:d.jsx(uh,{size:16})},{key:"emerald",name:"Emerald",description:"Fresh glass greens with lush accents.",icon:d.jsx(IM,{size:16})},{key:"midnight",name:"Midnight",description:"Moody dark mode for late-night sessions.",icon:d.jsx(LM,{size:16})}];function mR({open:e,onClose:t,favoriteVenues:n,setFavoriteVenues:r,onResetData:s,onResetApp:i,onClearAchievements:o,proximityEnabled:a,onToggleProximity:l,proximitySupported:c}){const{theme:u,setTheme:f}=w.useContext(cw),{exportBackup:h,importBackupFromFile:p,exportCsvBackup:v,importCsvFromFile:x}=fR(n,r),[b,m]=w.useState(!1),[g,y]=w.useState(!1),[S,k]=w.useState(!1),[_,E]=w.useState(!1),[T,M]=w.useState(vj()),C=w.useRef(null),V=w.useRef(null),Q=()=>{m(!0);try{h()}finally{m(!1)}},J=async()=>{const P=!T;M(P),xj(P),P&&await Z(z.Light)},ue=()=>{var P;(P=C.current)==null||P.click()},Ae=()=>{var P;(P=V.current)==null||P.click()},de=async P=>{var W;const R=(W=P.target.files)==null?void 0:W[0];if(R){y(!0);try{await p(R)}finally{y(!1),P.target.value=""}}},H=()=>{k(!0);try{v()}finally{k(!1)}},A=async P=>{var W;const R=(W=P.target.files)==null?void 0:W[0];if(R){E(!0);try{await x(R)}finally{E(!1),P.target.value=""}}};return d.jsx(kn,{children:e&&d.jsx(q.div,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,style:{paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(q.div,{className:"glass-panel w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:P=>P.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 z-10 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:P=>{P.stopPropagation(),Z(z.Light),t()},"aria-label":"Close settings",children:d.jsx(Ml,{size:16})}),d.jsxs("div",{className:"overflow-y-auto px-6 pb-6 pt-6 space-y-5",style:{scrollbarGutter:"stable"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-level1",children:d.jsx(iw,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Personalize"}),d.jsx("h3",{className:"text-xl font-semibold text-[var(--color-text-primary)]",children:"Settings"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Tune the theme, data tools, and notifications."})]})]}),d.jsxs("section",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sw,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Theme"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Pick the palette that suits your vibe."})]})]}),d.jsx("div",{className:"grid gap-3 mt-1.5",children:pR.map(P=>{const R=P.key===u;return d.jsxs("button",{onClick:async()=>{await Z(R?z.Light:z.Medium),f(P.key)},className:`relative overflow-hidden w-full text-left px-4 py-3 rounded-2xl border transition flex items-start gap-3 ${R?"border-[color:var(--color-accent)] bg-[color:var(--color-accent-muted)] text-[var(--color-accent)] shadow-[0_12px_30px_rgba(15,23,42,0.18)]":"border-[color:var(--color-card-border)] bg-[var(--color-card)] text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90"}`,children:[R&&d.jsx(q.span,{className:"absolute inset-0 rounded-2xl pointer-events-none bg-gradient-to-r from-white/50 via-white/10 to-transparent",initial:{opacity:0,x:-80},animate:{opacity:[0,.7,0],x:[-80,80]},transition:{duration:.6}}),d.jsx(q.div,{animate:R?{rotate:[0,-8,0],scale:[1,1.1,1]}:{rotate:0,scale:1},transition:{duration:.35},className:"mt-0.5",children:P.icon}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:P.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:P.description})]})]},P.key)})})]}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 50%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-accent)]",children:[d.jsx(Zn,{size:20,strokeWidth:2.3}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Nearby venue alerts"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Alerts when youre near a saved venue. Requires Always Allow on iOS."})]})]}),d.jsxs("button",{type:"button",onClick:c?l:void 0,disabled:!c,className:"w-full flex items-center justify-between rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-left hover:bg-[var(--color-card)]/90 transition disabled:opacity-60 disabled:cursor-not-allowed",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:c?a?"Enabled":"Disabled":"Unavailable"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:c?a?"Tap to pause alerts.":"Tap to enable alerts.":"Requires the iOS app."})]}),d.jsx("span",{className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${a&&c?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${a&&c?"translate-x-6":"translate-x-1"}`})})]})]}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 50%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(uj,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Haptic feedback"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Feel a subtle tap on key actions."})]})]}),d.jsxs("button",{type:"button",onClick:J,className:"w-full flex items-center justify-between rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-left hover:bg-[var(--color-card)]/90 transition",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:T?"Enabled":"Disabled"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:T?"Tap to mute haptics.":"Tap to enable haptics."})]}),d.jsx("span",{className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${T?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${T?"translate-x-6":"translate-x-1"}`})})]})]}),d.jsxs("section",{className:"space-y-2 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(bM,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Data backup"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Export or import all venues, people, and tags when you switch devices."})]})]}),d.jsxs("div",{className:"space-y-3 mt-1.5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsx("div",{children:d.jsx("span",{className:"text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-[var(--color-accent-muted)] text-[var(--color-accent)]",children:"Premium"})}),d.jsx(MM,{size:16,className:"text-[var(--color-accent)]"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:async()=>{await Z(z.Light),Q()},disabled:b,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[color:var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90 disabled:opacity-60",children:[d.jsx(Pg,{size:16}),b?"Exporting":"Export JSON"]}),d.jsxs("button",{onClick:async()=>{await Z(z.Light),ue()},disabled:g,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[var(--color-accent)] text-[var(--color-accent)] px-4 py-3 text-sm font-semibold hover:bg-[var(--color-accent-muted)] disabled:opacity-60",children:[d.jsx(Ng,{size:16}),g?"Importing":"Import JSON"]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:async()=>{await Z(z.Light),H()},disabled:S,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[color:var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90 disabled:opacity-60",children:[d.jsx(Pg,{size:16}),S?"Exporting":"Export CSV"]}),d.jsxs("button",{onClick:async()=>{await Z(z.Light),Ae()},disabled:_,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[var(--color-accent)] text-[var(--color-accent)] px-4 py-3 text-sm font-semibold hover:bg-[var(--color-accent-muted)] disabled:opacity-60",children:[d.jsx(Ng,{size:16}),_?"Importing":"Import CSV"]})]}),d.jsx("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:"CSV columns: id, name, position, dateMet, venueName, tags, favorite, description."}),d.jsx("input",{ref:C,type:"file",accept:"application/json",className:"hidden",onChange:de}),d.jsx("input",{ref:V,type:"file",accept:".csv,text/csv",className:"hidden",onChange:A})]})]}),d.jsxs("section",{className:"space-y-2 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fj,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Data tools"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Reset the app or manage sample data."})]})]}),{}.VITE_SHOW_DEV_TOOLS==="true"?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)]/95 space-y-3 shadow-level1/40 mt-1.5",children:[d.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[d.jsx("button",{onClick:async()=>{await Z(z.Light),s()},className:"px-4 py-3 rounded-2xl border border-[color:var(--color-card-border)] bg-[var(--color-card)] text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90 transition",children:"Reset sample data"}),d.jsx("button",{onClick:async()=>{await Z(z.Light),o()},className:"px-4 py-3 rounded-2xl border border-[var(--color-accent)] text-[var(--color-accent)] text-sm font-semibold hover:bg-[var(--color-accent-muted)] transition",children:"Clear achievements"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:async()=>{await Z(z.Heavy),i()},className:"w-full px-4 py-3 rounded-2xl border border-red-200/60 bg-red-500/10 text-sm font-semibold text-red-500 hover:bg-red-500/15 transition",children:"Reset app (blank state)"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Removes all venues, people, favourites, tags, and achievements to mimic a first-time install."})]})]})}):d.jsx("div",{className:"rounded-2xl bg-[var(--color-card)]/95 space-y-2 shadow-level1/40 mt-1.5",children:d.jsx("button",{onClick:async()=>{await Z(z.Heavy),i()},className:"w-full px-4 py-3 rounded-2xl border border-red-200/60 bg-red-500/10 text-sm font-semibold text-red-500 hover:bg-red-500/15 transition",children:"Erase all data"})})]}),d.jsxs("section",{className:"space-y-2 border-t border-white/40 pt-4 text-[var(--color-text-secondary)]",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide",children:"About"}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)]/95 text-xs space-y-1 shadow-level1/40 mt-1.5",children:[d.jsxs("p",{children:["Version v",hR,"  Made by Era One"]}),d.jsxs("div",{className:"flex gap-4 text-[var(--color-text-secondary)]",children:[d.jsx("button",{className:"underline-offset-2 hover:underline",type:"button",children:"Privacy"}),d.jsx("button",{className:"underline-offset-2 hover:underline",type:"button",children:"Terms"})]})]})]})]})]})})})}const gR="/assets/MetHere-pin-79f5f724.svg",yR={people:d.jsx(dh,{size:16}),venues:d.jsx(Zn,{size:16}),tags:d.jsx(Ni,{size:16}),favorites:d.jsx(Al,{size:16})},Ug={people:{label:"People",icon:d.jsx(dh,{size:14})},venues:{label:"Venues",icon:d.jsx(Zn,{size:14})},tags:{label:"Tags",icon:d.jsx(Ni,{size:14})},favorites:{label:"Favourites",icon:d.jsx(Al,{size:14})}};function vR({open:e,onClose:t,achievements:n,stats:r,insights:s}){const[i,o]=w.useState({people:!1,venues:!1,tags:!1,favorites:!1}),a=n.reduce((c,u)=>(c[u.type]||(c[u.type]=[]),c[u.type].push(u),c),{}),l=c=>{o(u=>({...u,[c]:!u[c]}))};return d.jsx(kn,{children:e&&d.jsx(q.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,style:{paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(q.div,{className:"glass-panel w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:c=>c.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 z-10 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:async c=>{c.stopPropagation(),await Z(z.Light),t()},"aria-label":"Close profile",children:d.jsx(Ml,{size:16})}),d.jsxs("div",{className:"overflow-y-auto px-6 pb-6 pt-6 space-y-6",style:{scrollbarGutter:"stable"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[var(--color-accent-muted)] flex items-center justify-center shadow-level1",children:d.jsx("img",{src:gR,alt:"MetHere badge",className:"h-7 w-7"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Your Profile"}),d.jsx("h2",{className:"text-2xl font-semibold text-[var(--color-text-primary)] leading-tight",children:"Insights"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Lifetime overview of your connections"})]})]}),d.jsx("div",{className:"grid grid-cols-2 gap-2.5 text-center",children:[{label:"People tracked",value:r.peopleCount,icon:d.jsx(dh,{size:16,className:"text-[var(--color-accent)]"})},{label:"Venues logged",value:r.venuesWithPeople,icon:d.jsx(Zn,{size:16,className:"text-[var(--color-accent)]"})},{label:"Tags applied",value:r.uniqueTagCount,icon:d.jsx(Ni,{size:16,className:"text-[var(--color-accent)]"})},{label:"Pins saved",value:s.pinsSaved,icon:d.jsx(Zn,{size:16,className:"text-[var(--color-accent)]"})}].map(c=>d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 shadow-level1 flex flex-col items-center gap-1.5",children:[d.jsx("div",{className:"h-7 w-7 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-level1/40",children:c.icon}),d.jsx("p",{className:"text-xl font-semibold text-[var(--color-text-primary)]",children:c.value}),d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:c.label})]},c.label))}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ZM,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold",children:"Usage Insights"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Quick highlights from your recent activity."})]})]}),d.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.topVenue?d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Zn,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top venue"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.topVenue.name}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[s.topVenue.count," people logged"]})]})]}):d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Zn,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top venue"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No venue data yet."})]})]}),s.topTag?d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Ni,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top tag"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)] capitalize",children:s.topTag.name}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[s.topTag.count," mentions"]})]})]}):d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Ni,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top tag"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No tag usage yet."})]})]}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left flex items-center gap-3 shadow-level1",children:[d.jsx(uh,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Favourite people"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.favoritesCount})]})]}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left flex items-center gap-3 shadow-level1",children:[d.jsx(wM,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Last interaction"}),s.lastInteraction?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.lastInteraction.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:new Date(s.lastInteraction.date).toLocaleDateString()})]}):d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No recent meetings yet."})]})]})]})]}),d.jsxs("section",{className:"space-y-2 pb-2 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(fM,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold",children:"Achievements"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Unlock milestones as you connect with more people."})]})]}),d.jsx("div",{className:"space-y-2",children:Object.keys(Ug).map(c=>{const u=a[c]??[];if(u.length===0)return null;const f=i[c],h=Ug[c],p=u.find(v=>!v.unlocked);return d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] shadow-level1",children:[d.jsxs("button",{onClick:()=>l(c),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--color-text-primary)]",children:[h.icon,d.jsx("span",{children:h.label})]}),p?d.jsxs("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:["Next: ",p.title,"  ",p.current,"/",p.target]}):d.jsx("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:"All achievements unlocked"})]}),d.jsx(rw,{size:16,className:`transition-transform ${f?"rotate-180":"rotate-0"}`})]}),d.jsx("div",{className:`overflow-hidden transition-[max-height,opacity] duration-300 ${f?"max-h-[800px] opacity-100":"max-h-0 opacity-0"}`,children:d.jsx("div",{className:"px-3 pb-3 space-y-2",children:u.map(v=>d.jsxs("div",{className:`rounded-xl px-3 py-2 transition relative border ${v.unlocked?"border-[var(--color-accent)] bg-[var(--color-accent-muted)]/70":"border-[var(--color-card-border)] bg-[var(--color-card)]/85"}`,children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"h-9 w-9 rounded-2xl flex items-center justify-center border border-[var(--color-card-border)] text-[var(--color-text-primary)]",children:yR[v.type]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("p",{className:"font-semibold text-sm text-[var(--color-text-primary)]",children:v.title}),!v.unlocked&&d.jsxs("span",{className:"text-[11px] font-semibold text-[var(--color-text-secondary)]",children:[v.current,"/",v.target]})]}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:v.description}),v.unlocked&&v.unlockedAt&&d.jsxs("p",{className:"text-[10px] uppercase tracking-wide text-[var(--color-text-secondary)] mt-1",children:["Completed: ",new Date(v.unlockedAt).toLocaleDateString()]}),!v.unlocked&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"h-1.5 rounded-full overflow-hidden bg-[var(--color-card-border)]/60",children:d.jsx("div",{className:"h-full bg-[var(--color-accent-muted)]",style:{width:`${Math.round(v.progress*100)}%`}})})})]})]}),v.unlocked&&d.jsx("div",{className:"absolute top-2 right-2 h-5 w-5 rounded-full bg-gradient-to-br from-[#FBBF24] to-[#F59E0B] text-white flex items-center justify-center shadow",children:d.jsx(nw,{size:12})})]},v.id))})})]},c)})})]})]})]})})})}const uw="rememberme:proximity-alerts-enabled";let fh=!1;const xR=()=>{if(!(typeof window>"u"))try{const e=window.localStorage.getItem(uw);e!==null&&(fh=e==="true")}catch(e){console.warn("Unable to read proximity preference",e)}};xR();const dd=()=>fh,Xo=e=>{if(fh=e,typeof window<"u")try{window.localStorage.setItem(uw,String(e))}catch(t){console.warn("Unable to persist proximity preference",t)}};var Fg;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(Fg||(Fg={}));const dw=Pn("LocalNotifications",{web:()=>Tl(()=>import("./web-0028f224.js"),[]).then(e=>new e.LocalNotificationsWeb)});class wR extends mo{async requestPermissions(){return{location:"denied",notifications:"denied"}}async startMonitoring(){console.warn("GeofenceBridge: startMonitoring is only available on native platforms.")}async stopMonitoring(){}async openSettings(){}addListener(){return Promise.resolve({remove:async()=>{}})}}const so=Pn("GeofenceBridge",{web:()=>Promise.resolve(new wR)}),hh=ut.isNativePlatform(),SR=30*60*1e3;let Qn=null;const Vc={};let ph=[];const bR=async e=>{var l,c;const t=ph.find(u=>u.id===e);if(!t)return;const n=Date.now();if(Vc[e]&&n-Vc[e]<SR)return;const r=((l=t.proximityMeta)==null?void 0:l.totalPeople)??0,s=((c=t.proximityMeta)==null?void 0:c.favoriteNames)??[],i=r>0?`You know ${r} ${r===1?"person":"people"} here.`:"You haven't logged anyone here yet.";let o="";if(s.length>0){const u=s.slice(0,2).join(", "),f=s.length-2;o=s.length>2?` Favorites: ${u} +${f} more.`:` Favorites: ${u}.`}const a=`You're near ${t.name}.`;await dw.schedule({notifications:[{title:"Nearby venue",body:`${a} ${i}${o}`.trim(),id:Number.parseInt(e.replace(/\D/g,"").slice(-6),10)||Date.now()}]}),Vc[e]=n,mn("proximity_notification_sent",{venue_id:e,total_people:r,favorite_count:s.length})},kR=async()=>{Qn==null||Qn.remove(),Qn=await so.addListener("regionEnter",async e=>{dd()&&(mn("proximity_region_enter",{venue_id:e.id}),await bR(e.id))})},TR=async e=>{if(ph=e,!hh)return{ok:!1,error:"Nearby venue alerts are only available on device."};try{const t=await so.requestPermissions();if(mn("proximity_permission_checked",{scope:"location",status:t.location}),t.location!=="granted")return{ok:!1,error:"Location access is required to enable nearby venue alerts."};const n=await dw.requestPermissions();if(mn("proximity_permission_checked",{scope:"notifications",status:n.display}),n.display!=="granted")return{ok:!1,error:"Notifications are disabled. Enable them in Settings."};await kR();const r=e.filter(s=>s.coords&&s.proximityAlertsEnabled!==!1).map(s=>({id:s.id,lat:s.coords.lat,lon:s.coords.lon,name:s.name}));return await so.startMonitoring({venues:r}),mn("proximity_monitoring_update",{action:"start",venue_count:r.length}),{ok:!0}}catch(t){return console.warn("Unable to start proximity alerts",t),mn("proximity_monitoring_error",{stage:"start",message:typeof(t==null?void 0:t.message)=="string"?t.message:"unknown"}),{ok:!1,error:"Unable to start nearby venue alerts right now."}}},Uc=async()=>{if(Qn==null||Qn.remove(),Qn=null,!!hh)try{await so.stopMonitoring()}catch(e){console.warn("Unable to stop geofence monitoring",e)}},_R=async e=>{if(ph=e,!!hh)try{const t=e.filter(n=>n.coords&&n.proximityAlertsEnabled!==!1).map(n=>({id:n.id,lat:n.coords.lat,lon:n.coords.lon,name:n.name}));await so.startMonitoring({venues:t}),mn("proximity_monitoring_update",{action:"refresh",venue_count:t.length})}catch(t){console.warn("Unable to refresh geofence monitoring",t),mn("proximity_monitoring_error",{stage:"refresh",message:typeof(t==null?void 0:t.message)=="string"?t.message:"unknown"})}},ER=12;function CR(){const e=ut.isNativePlatform(),[t,n]=w.useState(()=>{if(typeof window>"u")return!1;try{return!localStorage.getItem("onboarding_seen")}catch{return!1}}),{tags:r,createTag:s,getTagIdByName:i,getTagNameById:o,replaceTags:a}=ch(),{venues:l,replaceVenues:c}=Nl(),u=w.useMemo(()=>l.some(I=>!!I.coords),[l]),[f,h]=w.useState({}),{people:p,addPerson:v,updatePerson:x,deletePerson:b,replacePeople:m}=J1(),[g,y]=rM("favoriteVenues"),[S,k]=w.useState(null),[_,E]=w.useState(null),[T,M]=w.useState(!1),[C,V]=w.useState(!1),[Q,J]=w.useState(!1),[ue,Ae]=w.useState(!1),[de,H]=w.useState(()=>e&&dd()),[A,P]=w.useState("recentVisit"),[R,W]=w.useState("desc"),[X,Be]=w.useState("all"),[oe,nt]=w.useState(null);w.useEffect(()=>{if(t||!u){nt(null);return}let I=!1,O=null;return(async()=>{try{await ms.requestPermissions();const F=await ms.getCurrentPosition();I||nt({lat:F.coords.latitude,lon:F.coords.longitude}),O=await ms.watchPosition({enableHighAccuracy:!1,distanceFilter:500},(le,he)=>{he||!le||I||nt({lat:le.coords.latitude,lon:le.coords.longitude})})}catch(F){console.warn("Unable to fetch current location",F)}})(),()=>{I=!0,O&&ms.clearWatch({id:O})}},[t,u]);const{toasts:ze,showNotification:ae,dismissToast:yt}=Ws(),{searchQuery:Pt,setSearchQuery:vr,activeTags:Nn,setActiveTags:xr,personSort:An,setPersonSort:Yr}=Zj(),qs=w.useDeferredValue(Pt),{trackEvent:Re}=qr(),Ft=w.useMemo(()=>Object.fromEntries(l.map(I=>[I.id,I])),[l]),sn=w.useMemo(()=>l.map(I=>{if(!I.id)return I;const O=p.filter(F=>F.venueId===I.id),U=O.filter(F=>F.favorite).map(F=>F.name);return{...I,proximityMeta:{totalPeople:O.length,favoriteNames:U}}}),[l,p]),$t=w.useMemo(()=>{if(!oe)return sn;const I=he=>he*Math.PI/180,O=6371e3,F=sn.filter(he=>he.coords).map(he=>{const Dn=I(he.coords.lat-oe.lat),Xs=I(he.coords.lon-oe.lon),Ht=Math.sin(Dn/2)**2+Math.cos(I(oe.lat))*Math.cos(I(he.coords.lat))*Math.sin(Xs/2)**2,Zs=2*Math.atan2(Math.sqrt(Ht),Math.sqrt(1-Ht)),be=O*Zs;return{venue:he,distance:be}}).sort((he,Dn)=>he.distance-Dn.distance).slice(0,ER).map(he=>he.venue),le=sn.filter(he=>!he.coords);return[...F,...le]},[sn,oe]),j=w.useMemo(()=>{if(!oe)return{};const I=U=>U*Math.PI/180,O=6371e3;return sn.reduce((U,F)=>{if(!F.coords)return U;const le=I(F.coords.lat-oe.lat),he=I(F.coords.lon-oe.lon),Dn=Math.sin(le/2)**2+Math.cos(I(oe.lat))*Math.cos(I(F.coords.lat))*Math.sin(he/2)**2,Xs=2*Math.atan2(Math.sqrt(Dn),Math.sqrt(1-Dn)),Ht=O*Xs,Zs=Ht<1e3?`${Math.round(Ht)} m away`:`${(Ht/1e3).toFixed(1)} km away`;return U[F.name]=Zs,U},{})},[sn,oe]),[G,re]=An.split("-"),te=Yj(p,qs,Nn,G,re==="asc");w.useEffect(()=>{const I=Pt.trim();if(!I)return;const O=window.setTimeout(()=>{Re("search_used",{query_length:I.length,results:te.length})},500);return()=>window.clearTimeout(O)},[Pt,te.length,Re]);const Mn=()=>{try{localStorage.setItem("onboarding_seen","true")}catch{}n(!1)},bo=I=>{h(O=>{const U=O[I]??!1;return{...O,[I]:!U}})},jn=(I,O)=>{E({id:I,name:O})},Rl=()=>{if(!window.confirm("Reset to sample data? This will overwrite all people, venues, tags, and favourites."))return;const I=Mx.map(F=>({...F,tags:F.tags?[...F.tags]:[]})),O=ke.map(F=>({...F,coords:F.coords?{...F.coords}:void 0})),U=Ax.map(F=>({...F}));m(I),c(O),a(U),y([]),ae("App data reset to sample set.","info")},Rn=()=>{window.confirm("Reset app to a blank state? This will permanently remove all people, venues, tags, favourites, and achievements.")&&(m([]),c([]),a([]),y([]),Le(),ae("App reset to a blank state.","info"))},Ll=async()=>{if(!e){ae("Nearby venue alerts are only available in the iOS app.","info");return}const I=!de;Xo(I),H(I),Re("proximity_toggle",{enabled:I})},Dl=()=>{if(!e){ae("Nearby venue alerts are only available in the iOS app.","info");return}de||(Xo(!0),H(!0),Re("proximity_toggle",{enabled:!0,source:"venue_toggle"}))},on=()=>{window.confirm("Clear achievement progress? Existing milestones will need to be re-earned.")&&(Le(),ae("Achievements cleared.","info"))},an=tM(te,Ft);w.useEffect(()=>{const I=Object.keys(p.reduce((O,U)=>{var le;const F=U.venueId?((le=Ft[U.venueId])==null?void 0:le.name)??Xn:Xn;return O[F]=!0,O},{}));h(O=>{const U={...O};return I.forEach(F=>{U[F]===void 0&&(U[F]=!0)}),U})},[p,Ft]),w.useEffect(()=>{const I=C||Q||T||S||_||ue;return document.body.style.overflow=I?"hidden":"auto",()=>{document.body.style.overflow="auto"}},[C,Q,T,S,_,ue]),w.useEffect(()=>{!e&&dd()&&(Xo(!1),H(!1))},[e]),w.useEffect(()=>{if(t){Uc();return}let I=!1;if(!de||!e){Uc();return}return(async()=>{const O=await TR($t);!I&&!O.ok&&(Xo(!1),H(!1),ae(O.error??"Unable to enable proximity alerts.","error"),Re("proximity_error",{message:O.error??"unknown"})),!I&&O.ok&&Re("proximity_started",{monitoredVenues:$t.length})})(),()=>{I=!0,Uc()}},[de,ae,$t,e,t]),w.useEffect(()=>{!de||!e||_R($t)},[$t,de,e]);const Ys=Xj(l,p,A,R==="asc").map(I=>I.name).filter(I=>an[I]),To=nM(Ys,g).favorites,Ol=X==="favs"?To:Ys,{achievements:L,stats:fe,resetAchievements:Le}=iM(p,l,g),Bt=I=>{if(!I)return{venue_name:"Unclassified",venue_type:"unclassified"};const O=Ft[I];return O?{venue_name:O.name,venue_type:g.includes(O.name)?"favorite":"existing"}:{venue_name:"Custom Venue",venue_type:"new"}},zt=Zg.useRef(new Set);w.useEffect(()=>{const I=zt.current,O=new Set(I);L.forEach(U=>{U.unlocked&&!U.unlockedAt&&!I.has(U.id)&&(Z(z.Heavy),Re("achievement_unlocked",{id:U.id,type:U.type,title:U.title}),ae(`Achievement unlocked: ${U.title}`,"celebration",{description:U.description}),O.add(U.id))}),zt.current=O},[L,ae]);const Ln=w.useMemo(()=>{const I=p.reduce((be,vt)=>{var _o;const Qs=vt.venueId?((_o=Ft[vt.venueId])==null?void 0:_o.name)??Xn:Xn;return be[Qs]=(be[Qs]||0)+1,be},{}),O=Object.entries(I).sort((be,vt)=>vt[1]-be[1])[0],U=O?{name:O[0],count:O[1]}:void 0,F=p.reduce((be,vt)=>{var Qs;return(Qs=vt.tags)==null||Qs.forEach(_o=>{const Vl=o(_o);Vl&&(be[Vl]=(be[Vl]||0)+1)}),be},{}),le=Object.entries(F).sort((be,vt)=>vt[1]-be[1])[0],he=le?{name:le[0],count:le[1]}:void 0,Dn=p.filter(be=>be.favorite).length,Xs=l.reduce((be,vt)=>vt.coords?be+1:be,0),Ht=[...p].filter(be=>be.dateMet).sort((be,vt)=>new Date(vt.dateMet).getTime()-new Date(be.dateMet).getTime())[0],Zs=Ht?{name:Ht.name,date:Ht.dateMet}:void 0;return{topVenue:U,topTag:he,favoritesCount:Dn,lastInteraction:Zs,pinsSaved:Xs}},[p,Ft,o]);return w.useEffect(()=>{const I=new Map;p.forEach(F=>{var le;(le=F.tags)==null||le.forEach(he=>{I.set(he,(I.get(he)??0)+1)})});const O=r.map(F=>{const le=I.get(F.id)??0;return F.count!==le?{...F,count:le}:F});O.some((F,le)=>F!==r[le])&&a(O)},[p,r,a]),t?d.jsx(zj,{onComplete:Mn}):d.jsxs("div",{className:"flex flex-col min-h-screen bg-[var(--color-background)] text-[var(--color-text-primary)]",style:{paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:[d.jsx(Bj,{searchQuery:Pt,setSearchQuery:vr,activeTags:Nn,setActiveTags:xr,venueSortKey:A,venueSortDir:R,setVenueSortKey:P,setVenueSortDir:W,personSort:An,setPersonSort:Yr,onOpenSettings:()=>V(!0),onOpenProfile:()=>J(!0),getTagNameById:o,venueView:X,setVenueView:Be,favoriteVenueCount:To.length,totalVenueCount:Ys.length,showSortModal:ue,setShowSortModal:Ae}),d.jsx("main",{className:"flex-1 pb-24 w-full",style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))"},children:d.jsxs("div",{className:"p-4 sm:p-6 md:p-8 lg:p-10 grid gap-4 md:gap-6 lg:gap-8 max-w-3xl lg:max-w-5xl mx-auto w-full",children:[d.jsx(Oj,{showAdd:T,onAddCancel:()=>M(!1),onAdd:async I=>{var U;await Z(z.Heavy),v(I),M(!1),ae(`${I.name} added`,"success");const O=Bt(I.venueId);Re("person_added",{...O,tags:((U=I.tags)==null?void 0:U.length)??0,favorite:!!I.favorite})},tags:r,people:p,getTagIdByName:i,getTagNameById:o,createTag:s,editingPerson:S,onEditCancel:()=>k(null),onEdit:async I=>{var U;await Z(z.Heavy),x(I),k(null),ae(`${I.name} updated`,"success");const O=Bt(I.venueId);Re("person_updated",{id:I.id,...O,tags:((U=I.tags)==null?void 0:U.length)??0,favorite:!!I.favorite})},personToDelete:_,onDeleteCancel:()=>E(null),onDeleteConfirm:I=>{var le;const O=(_==null?void 0:_.name)??"Person",U=p.find(he=>he.id===I),F=Bt(U==null?void 0:U.venueId);Re("person_deleted",{id:I,...F,tags:((le=U==null?void 0:U.tags)==null?void 0:le.length)??0,favorite:(U==null?void 0:U.favorite)??!1}),b(I),E(null),ae(`${O} deleted`,"info")},globalProximityEnabled:de,onEnableGlobalProximity:Dl}),d.jsx(_j,{groupedPeople:an,favoriteVenues:g,visibleVenueNames:Ol,totalVenueCount:l.length,viewMode:X,personSort:An,activeTags:Nn,setActiveTags:xr,getTagNameById:o,openGroups:f,toggleGroup:bo,setFavoriteVenues:y,onEdit:k,onDelete:jn,onToggleFavorite:I=>{const O=p.find(U=>U.id===I);O&&x({...O,favorite:!O.favorite})},searchQuery:Pt,distanceLabels:j})]})}),d.jsx("button",{onClick:async()=>{await Z(z.Light),M(!0)},className:"fixed sm:bottom-8 md:bottom-10 right-6 bg-[var(--color-accent)] text-white text-3xl rounded-full w-14 h-14 hover:brightness-110 transition z-40",style:{bottom:"calc(1.5rem + env(safe-area-inset-bottom))"},"aria-label":"Add Person",children:""}),d.jsx(mR,{open:C,onClose:()=>V(!1),favoriteVenues:g,setFavoriteVenues:y,onResetData:Rl,onResetApp:Rn,onClearAchievements:on,proximityEnabled:de,onToggleProximity:Ll,proximitySupported:e}),d.jsx(vR,{open:Q,onClose:()=>J(!1),achievements:L,stats:fe,insights:Ln}),d.jsx("div",{className:"fixed right-6 z-[120] flex flex-col gap-3 pointer-events-none",style:{bottom:"calc(6rem + env(safe-area-inset-bottom))"},children:d.jsx(kn,{children:ze.map(I=>d.jsx(Jj,{message:I.message,type:I.type,meta:I.meta,onDismiss:()=>yt(I.id)},I.id))})})]})}Fc.createRoot(document.getElementById("root")).render(d.jsx(Zg.StrictMode,{children:d.jsx(eR,{children:d.jsx(ZA,{children:d.jsx(AE,{children:d.jsx(QA,{children:d.jsx(JA,{children:d.jsx(eM,{children:d.jsx(CR,{})})})})})})})}));export{Wm as C,z as I,Ag as N,mo as W,Hm as a,KP as b,AR as c,MR as d,g1 as g,Jf as l,NR as s};
