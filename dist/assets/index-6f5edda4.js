(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wg={exports:{}},ll={},Gg={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=Symbol.for("react.element"),vw=Symbol.for("react.portal"),xw=Symbol.for("react.fragment"),ww=Symbol.for("react.strict_mode"),Sw=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),kw=Symbol.for("react.context"),Tw=Symbol.for("react.forward_ref"),_w=Symbol.for("react.suspense"),Cw=Symbol.for("react.memo"),Ew=Symbol.for("react.lazy"),xh=Symbol.iterator;function Iw(e){return e===null||typeof e!="object"?null:(e=xh&&e[xh]||e["@@iterator"],typeof e=="function"?e:null)}var Kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qg=Object.assign,Yg={};function Fs(e,t,n){this.props=e,this.context=t,this.refs=Yg,this.updater=n||Kg}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xg(){}Xg.prototype=Fs.prototype;function md(e,t,n){this.props=e,this.context=t,this.refs=Yg,this.updater=n||Kg}var gd=md.prototype=new Xg;gd.constructor=md;qg(gd,Fs.prototype);gd.isPureReactComponent=!0;var wh=Array.isArray,Zg=Object.prototype.hasOwnProperty,yd={current:null},Qg={key:!0,ref:!0,__self:!0,__source:!0};function Jg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Zg.call(t,r)&&!Qg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ao,type:e,key:i,ref:o,props:s,_owner:yd.current}}function Pw(e,t){return{$$typeof:ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ao}function Nw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sh=/\/+/g;function Bl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nw(""+e.key):t.toString(36)}function ea(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ao:case vw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Bl(o,0):r,wh(s)?(n="",e!=null&&(n=e.replace(Sh,"$&/")+"/"),ea(s,t,n,"",function(c){return c})):s!=null&&(vd(s)&&(s=Pw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",wh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Bl(i,a);o+=ea(i,t,n,l,s)}else if(l=Iw(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Bl(i,a++),o+=ea(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Io(e,t,n){if(e==null)return e;var r=[],s=0;return ea(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Aw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},ta={transition:null},Mw={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ta,ReactCurrentOwner:yd};function ey(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Io,forEach:function(e,t,n){Io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Io(e,function(){t++}),t},toArray:function(e){return Io(e,function(t){return t})||[]},only:function(e){if(!vd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Fs;q.Fragment=xw;q.Profiler=Sw;q.PureComponent=md;q.StrictMode=ww;q.Suspense=_w;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mw;q.act=ey;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=yd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Zg.call(t,l)&&!Qg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ao,type:e.type,key:s,ref:i,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:kw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bw,_context:e},e.Consumer=e};q.createElement=Jg;q.createFactory=function(e){var t=Jg.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Tw,render:e}};q.isValidElement=vd;q.lazy=function(e){return{$$typeof:Ew,_payload:{_status:-1,_result:e},_init:Aw}};q.memo=function(e,t){return{$$typeof:Cw,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=ta.transition;ta.transition={};try{e()}finally{ta.transition=t}};q.unstable_act=ey;q.useCallback=function(e,t){return nt.current.useCallback(e,t)};q.useContext=function(e){return nt.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};q.useEffect=function(e,t){return nt.current.useEffect(e,t)};q.useId=function(){return nt.current.useId()};q.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return nt.current.useMemo(e,t)};q.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};q.useRef=function(e){return nt.current.useRef(e)};q.useState=function(e){return nt.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return nt.current.useTransition()};q.version="18.3.1";Gg.exports=q;var w=Gg.exports;const ty=yw(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=w,jw=Symbol.for("react.element"),Lw=Symbol.for("react.fragment"),Dw=Object.prototype.hasOwnProperty,Ow=Rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vw={key:!0,ref:!0,__self:!0,__source:!0};function ny(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Dw.call(t,r)&&!Vw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jw,type:e,key:i,ref:o,props:s,_owner:Ow.current}}ll.Fragment=Lw;ll.jsx=ny;ll.jsxs=ny;Wg.exports=ll;var d=Wg.exports,zc={},ry={exports:{}},mt={},sy={exports:{}},iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,R){var V=N.length;N.push(R);e:for(;0<V;){var Z=V-1>>>1,X=N[Z];if(0<s(X,R))N[Z]=R,N[V]=X,V=Z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var R=N[0],V=N.pop();if(V!==R){N[0]=V;e:for(var Z=0,X=N.length,z=X>>>1;Z<z;){var K=2*(Z+1)-1,Pe=N[K],He=K+1,le=N[He];if(0>s(Pe,V))He<X&&0>s(le,Pe)?(N[Z]=le,N[He]=V,Z=He):(N[Z]=Pe,N[K]=V,Z=K);else if(He<X&&0>s(le,V))N[Z]=le,N[He]=V,Z=He;else break e}}return R}function s(N,R){var V=N.sortIndex-R.sortIndex;return V!==0?V:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=N)r(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(c)}}function S(N){if(x=!1,y(N),!v)if(n(l)!==null)v=!0,fe(k);else{var R=n(c);R!==null&&W(S,R.startTime-N)}}function k(N,R){v=!1,x&&(x=!1,m(_),_=-1),p=!0;var V=h;try{for(y(R),f=n(l);f!==null&&(!(f.expirationTime>R)||N&&!O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var X=Z(f.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),y(R)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var K=n(c);K!==null&&W(S,K.startTime-R),z=!1}return z}finally{f=null,h=V,p=!1}}var T=!1,C=null,_=-1,A=5,E=-1;function O(){return!(e.unstable_now()-E<A)}function ee(){if(C!==null){var N=e.unstable_now();E=N;var R=!0;try{R=C(!0,N)}finally{R?Y():(T=!1,C=null)}}else T=!1}var Y;if(typeof g=="function")Y=function(){g(ee)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Re=de.port2;de.port1.onmessage=ee,Y=function(){Re.postMessage(null)}}else Y=function(){b(ee,0)};function fe(N){C=N,T||(T=!0,Y())}function W(N,R){_=b(function(){N(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,fe(k))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var V=h;h=R;try{return N()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=h;h=N;try{return R()}finally{h=V}},e.unstable_scheduleCallback=function(N,R,V){var Z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,N){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,N={id:u++,callback:R,priorityLevel:N,startTime:V,expirationTime:X,sortIndex:-1},V>Z?(N.sortIndex=V,t(c,N),n(l)===null&&N===n(c)&&(x?(m(_),_=-1):x=!0,W(S,V-Z))):(N.sortIndex=X,t(l,N),v||p||(v=!0,fe(k))),N},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(N){var R=h;return function(){var V=h;h=R;try{return N.apply(this,arguments)}finally{h=V}}}})(iy);sy.exports=iy;var Uw=sy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw=w,pt=Uw;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oy=new Set,Ri={};function Wr(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(Ri[e]=t,e=0;e<t.length;e++)oy.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=Object.prototype.hasOwnProperty,$w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bh={},kh={};function Bw(e){return Hc.call(kh,e)?!0:Hc.call(bh,e)?!1:$w.test(e)?kh[e]=!0:(bh[e]=!0,!1)}function zw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hw(e,t,n,r){if(t===null||typeof t>"u"||zw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xd=/[\-:]([a-z])/g;function wd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xd,wd);ze[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xd,wd);ze[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xd,wd);ze[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sd(e,t,n,r){var s=ze.hasOwnProperty(t)?ze[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hw(t,n,s,r)&&(n=null),r||s===null?Bw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pn=Fw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),bd=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),ay=Symbol.for("react.provider"),ly=Symbol.for("react.context"),kd=Symbol.for("react.forward_ref"),Gc=Symbol.for("react.suspense"),Kc=Symbol.for("react.suspense_list"),Td=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),cy=Symbol.for("react.offscreen"),Th=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=Th&&e[Th]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,zl;function ui(e){if(zl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Hl=!1;function Wl(e,t){if(!e||Hl)return"";Hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ui(e):""}function Ww(e){switch(e.tag){case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function qc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Zr:return"Portal";case Wc:return"Profiler";case bd:return"StrictMode";case Gc:return"Suspense";case Kc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ly:return(e.displayName||"Context")+".Consumer";case ay:return(e._context.displayName||"Context")+".Provider";case kd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Td:return t=e.displayName||null,t!==null?t:qc(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return qc(e(t))}catch{}}return null}function Gw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qc(t);case 8:return t===bd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kw(e){var t=uy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function No(e){e._valueTracker||(e._valueTracker=Kw(e))}function dy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yc(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _h(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fy(e,t){t=t.checked,t!=null&&Sd(e,"checked",t,!1)}function Xc(e,t){fy(e,t);var n=ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zc(e,t.type,ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ch(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zc(e,t,n){(t!=="number"||wa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var di=Array.isArray;function ys(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(di(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ur(n)}}function hy(e,t){var n=ur(t.value),r=ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ih(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function py(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?py(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ao,my=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ji(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qw=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(e){qw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]})});function gy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mi.hasOwnProperty(e)&&mi[e]?(""+t).trim():t+"px"}function yy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Yw=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(e,t){if(t){if(Yw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function tu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function _d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ru=null,vs=null,xs=null;function Ph(e){if(e=uo(e)){if(typeof ru!="function")throw Error(P(280));var t=e.stateNode;t&&(t=hl(t),ru(e.stateNode,e.type,t))}}function vy(e){vs?xs?xs.push(e):xs=[e]:vs=e}function xy(){if(vs){var e=vs,t=xs;if(xs=vs=null,Ph(e),t)for(e=0;e<t.length;e++)Ph(t[e])}}function wy(e,t){return e(t)}function Sy(){}var Gl=!1;function by(e,t,n){if(Gl)return e(t,n);Gl=!0;try{return wy(e,t,n)}finally{Gl=!1,(vs!==null||xs!==null)&&(Sy(),xy())}}function Li(e,t){var n=e.stateNode;if(n===null)return null;var r=hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var su=!1;if(vn)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){su=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{su=!1}function Xw(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var gi=!1,Sa=null,ba=!1,iu=null,Zw={onError:function(e){gi=!0,Sa=e}};function Qw(e,t,n,r,s,i,o,a,l){gi=!1,Sa=null,Xw.apply(Zw,arguments)}function Jw(e,t,n,r,s,i,o,a,l){if(Qw.apply(this,arguments),gi){if(gi){var c=Sa;gi=!1,Sa=null}else throw Error(P(198));ba||(ba=!0,iu=c)}}function Gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ky(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nh(e){if(Gr(e)!==e)throw Error(P(188))}function eS(e){var t=e.alternate;if(!t){if(t=Gr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nh(s),e;if(i===r)return Nh(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Ty(e){return e=eS(e),e!==null?_y(e):null}function _y(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_y(e);if(t!==null)return t;e=e.sibling}return null}var Cy=pt.unstable_scheduleCallback,Ah=pt.unstable_cancelCallback,tS=pt.unstable_shouldYield,nS=pt.unstable_requestPaint,Ie=pt.unstable_now,rS=pt.unstable_getCurrentPriorityLevel,Cd=pt.unstable_ImmediatePriority,Ey=pt.unstable_UserBlockingPriority,ka=pt.unstable_NormalPriority,sS=pt.unstable_LowPriority,Iy=pt.unstable_IdlePriority,cl=null,Yt=null;function iS(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(cl,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:lS,oS=Math.log,aS=Math.LN2;function lS(e){return e>>>=0,e===0?32:31-(oS(e)/aS|0)|0}var Mo=64,Ro=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ta(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fi(a):(i&=o,i!==0&&(r=fi(i)))}else o=n&~s,o!==0?r=fi(o):i!==0&&(r=fi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),s=1<<n,r|=e[n],t&=~s;return r}function cS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Dt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=cS(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Py(){var e=Mo;return Mo<<=1,!(Mo&4194240)&&(Mo=64),e}function Kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function dS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ed(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var se=0;function Ny(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ay,Id,My,Ry,jy,au=!1,jo=[],Jn=null,er=null,tr=null,Di=new Map,Oi=new Map,Bn=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mh(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(t.pointerId)}}function ri(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=uo(t),t!==null&&Id(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hS(e,t,n,r,s){switch(t){case"focusin":return Jn=ri(Jn,e,t,n,r,s),!0;case"dragenter":return er=ri(er,e,t,n,r,s),!0;case"mouseover":return tr=ri(tr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Di.set(i,ri(Di.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oi.set(i,ri(Oi.get(i)||null,e,t,n,r,s)),!0}return!1}function Ly(e){var t=_r(e.target);if(t!==null){var n=Gr(t);if(n!==null){if(t=n.tag,t===13){if(t=ky(n),t!==null){e.blockedOn=t,jy(e.priority,function(){My(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nu=r,n.target.dispatchEvent(r),nu=null}else return t=uo(n),t!==null&&Id(t),e.blockedOn=n,!1;t.shift()}return!0}function Rh(e,t,n){na(e)&&n.delete(t)}function pS(){au=!1,Jn!==null&&na(Jn)&&(Jn=null),er!==null&&na(er)&&(er=null),tr!==null&&na(tr)&&(tr=null),Di.forEach(Rh),Oi.forEach(Rh)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,au||(au=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,pS)))}function Vi(e){function t(s){return si(s,e)}if(0<jo.length){si(jo[0],e);for(var n=1;n<jo.length;n++){var r=jo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jn!==null&&si(Jn,e),er!==null&&si(er,e),tr!==null&&si(tr,e),Di.forEach(t),Oi.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)Ly(n),n.blockedOn===null&&Bn.shift()}var ws=Pn.ReactCurrentBatchConfig,_a=!0;function mS(e,t,n,r){var s=se,i=ws.transition;ws.transition=null;try{se=1,Pd(e,t,n,r)}finally{se=s,ws.transition=i}}function gS(e,t,n,r){var s=se,i=ws.transition;ws.transition=null;try{se=4,Pd(e,t,n,r)}finally{se=s,ws.transition=i}}function Pd(e,t,n,r){if(_a){var s=lu(e,t,n,r);if(s===null)rc(e,t,r,Ca,n),Mh(e,r);else if(hS(s,e,t,n,r))r.stopPropagation();else if(Mh(e,r),t&4&&-1<fS.indexOf(e)){for(;s!==null;){var i=uo(s);if(i!==null&&Ay(i),i=lu(e,t,n,r),i===null&&rc(e,t,r,Ca,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rc(e,t,r,null,n)}}var Ca=null;function lu(e,t,n,r){if(Ca=null,e=_d(r),e=_r(e),e!==null)if(t=Gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ky(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ca=e,null}function Dy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rS()){case Cd:return 1;case Ey:return 4;case ka:case sS:return 16;case Iy:return 536870912;default:return 16}default:return 16}}var qn=null,Nd=null,ra=null;function Oy(){if(ra)return ra;var e,t=Nd,n=t.length,r,s="value"in qn?qn.value:qn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ra=s.slice(e,1<r?1-r:void 0)}function sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lo(){return!0}function jh(){return!1}function gt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lo:jh,this.isPropagationStopped=jh,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),t}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ad=gt($s),co=be({},$s,{view:0,detail:0}),yS=gt(co),ql,Yl,ii,ul=be({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Md,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(ql=e.screenX-ii.screenX,Yl=e.screenY-ii.screenY):Yl=ql=0,ii=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Yl}}),Lh=gt(ul),vS=be({},ul,{dataTransfer:0}),xS=gt(vS),wS=be({},co,{relatedTarget:0}),Xl=gt(wS),SS=be({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=gt(SS),kS=be({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TS=gt(kS),_S=be({},$s,{data:0}),Dh=gt(_S),CS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ES={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IS[e])?!!t[e]:!1}function Md(){return PS}var NS=be({},co,{key:function(e){if(e.key){var t=CS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ES[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Md,charCode:function(e){return e.type==="keypress"?sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AS=gt(NS),MS=be({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oh=gt(MS),RS=be({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Md}),jS=gt(RS),LS=be({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),DS=gt(LS),OS=be({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VS=gt(OS),US=[9,13,27,32],Rd=vn&&"CompositionEvent"in window,yi=null;vn&&"documentMode"in document&&(yi=document.documentMode);var FS=vn&&"TextEvent"in window&&!yi,Vy=vn&&(!Rd||yi&&8<yi&&11>=yi),Vh=String.fromCharCode(32),Uh=!1;function Uy(e,t){switch(e){case"keyup":return US.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function $S(e,t){switch(e){case"compositionend":return Fy(t);case"keypress":return t.which!==32?null:(Uh=!0,Vh);case"textInput":return e=t.data,e===Vh&&Uh?null:e;default:return null}}function BS(e,t){if(Jr)return e==="compositionend"||!Rd&&Uy(e,t)?(e=Oy(),ra=Nd=qn=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vy&&t.locale!=="ko"?null:t.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zS[e.type]:t==="textarea"}function $y(e,t,n,r){vy(r),t=Ea(t,"onChange"),0<t.length&&(n=new Ad("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vi=null,Ui=null;function HS(e){Qy(e,0)}function dl(e){var t=ns(e);if(dy(t))return e}function WS(e,t){if(e==="change")return t}var By=!1;if(vn){var Zl;if(vn){var Ql="oninput"in document;if(!Ql){var $h=document.createElement("div");$h.setAttribute("oninput","return;"),Ql=typeof $h.oninput=="function"}Zl=Ql}else Zl=!1;By=Zl&&(!document.documentMode||9<document.documentMode)}function Bh(){vi&&(vi.detachEvent("onpropertychange",zy),Ui=vi=null)}function zy(e){if(e.propertyName==="value"&&dl(Ui)){var t=[];$y(t,Ui,e,_d(e)),by(HS,t)}}function GS(e,t,n){e==="focusin"?(Bh(),vi=t,Ui=n,vi.attachEvent("onpropertychange",zy)):e==="focusout"&&Bh()}function KS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dl(Ui)}function qS(e,t){if(e==="click")return dl(t)}function YS(e,t){if(e==="input"||e==="change")return dl(t)}function XS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:XS;function Fi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hc.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hh(e,t){var n=zh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zh(n)}}function Hy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wy(){for(var e=window,t=wa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wa(e.document)}return t}function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZS(e){var t=Wy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hy(n.ownerDocument.documentElement,n)){if(r!==null&&jd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Hh(n,i);var o=Hh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QS=vn&&"documentMode"in document&&11>=document.documentMode,es=null,cu=null,xi=null,uu=!1;function Wh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uu||es==null||es!==wa(r)||(r=es,"selectionStart"in r&&jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xi&&Fi(xi,r)||(xi=r,r=Ea(cu,"onSelect"),0<r.length&&(t=new Ad("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=es)))}function Do(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ts={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},Jl={},Gy={};vn&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function fl(e){if(Jl[e])return Jl[e];if(!ts[e])return e;var t=ts[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gy)return Jl[e]=t[n];return e}var Ky=fl("animationend"),qy=fl("animationiteration"),Yy=fl("animationstart"),Xy=fl("transitionend"),Zy=new Map,Gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(e,t){Zy.set(e,t),Wr(t,[e])}for(var ec=0;ec<Gh.length;ec++){var tc=Gh[ec],JS=tc.toLowerCase(),eb=tc[0].toUpperCase()+tc.slice(1);pr(JS,"on"+eb)}pr(Ky,"onAnimationEnd");pr(qy,"onAnimationIteration");pr(Yy,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(Xy,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function Kh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jw(r,t,void 0,e),e.currentTarget=null}function Qy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Kh(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Kh(s,a,c),i=l}}}if(ba)throw e=iu,ba=!1,iu=null,e}function me(e,t){var n=t[mu];n===void 0&&(n=t[mu]=new Set);var r=e+"__bubble";n.has(r)||(Jy(t,e,2,!1),n.add(r))}function nc(e,t,n){var r=0;t&&(r|=4),Jy(n,e,r,t)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function $i(e){if(!e[Oo]){e[Oo]=!0,oy.forEach(function(n){n!=="selectionchange"&&(tb.has(n)||nc(n,!1,e),nc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oo]||(t[Oo]=!0,nc("selectionchange",!1,t))}}function Jy(e,t,n,r){switch(Dy(t)){case 1:var s=mS;break;case 4:s=gS;break;default:s=Pd}n=s.bind(null,t,n,e),s=void 0,!su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_r(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}by(function(){var c=i,u=_d(n),f=[];e:{var h=Zy.get(e);if(h!==void 0){var p=Ad,v=e;switch(e){case"keypress":if(sa(n)===0)break e;case"keydown":case"keyup":p=AS;break;case"focusin":v="focus",p=Xl;break;case"focusout":v="blur",p=Xl;break;case"beforeblur":case"afterblur":p=Xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jS;break;case Ky:case qy:case Yy:p=bS;break;case Xy:p=DS;break;case"scroll":p=yS;break;case"wheel":p=VS;break;case"copy":case"cut":case"paste":p=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Oh}var x=(t&4)!==0,b=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var g=c,y;g!==null;){y=g;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,m!==null&&(S=Li(g,m),S!=null&&x.push(Bi(g,S,y)))),b)break;g=g.return}0<x.length&&(h=new p(h,v,null,n,u),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==nu&&(v=n.relatedTarget||n.fromElement)&&(_r(v)||v[xn]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?_r(v):null,v!==null&&(b=Gr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(x=Lh,S="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Oh,S="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?h:ns(p),y=v==null?h:ns(v),h=new x(S,g+"leave",p,n,u),h.target=b,h.relatedTarget=y,S=null,_r(u)===c&&(x=new x(m,g+"enter",v,n,u),x.target=y,x.relatedTarget=b,S=x),b=S,p&&v)t:{for(x=p,m=v,g=0,y=x;y;y=Xr(y))g++;for(y=0,S=m;S;S=Xr(S))y++;for(;0<g-y;)x=Xr(x),g--;for(;0<y-g;)m=Xr(m),y--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=Xr(x),m=Xr(m)}x=null}else x=null;p!==null&&qh(f,h,p,x,!1),v!==null&&b!==null&&qh(f,b,v,x,!0)}}e:{if(h=c?ns(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=WS;else if(Fh(h))if(By)k=YS;else{k=KS;var T=GS}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=qS);if(k&&(k=k(e,c))){$y(f,k,n,u);break e}T&&T(e,h,c),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Zc(h,"number",h.value)}switch(T=c?ns(c):window,e){case"focusin":(Fh(T)||T.contentEditable==="true")&&(es=T,cu=c,xi=null);break;case"focusout":xi=cu=es=null;break;case"mousedown":uu=!0;break;case"contextmenu":case"mouseup":case"dragend":uu=!1,Wh(f,n,u);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":Wh(f,n,u)}var C;if(Rd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Jr?Uy(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Vy&&n.locale!=="ko"&&(Jr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Jr&&(C=Oy()):(qn=u,Nd="value"in qn?qn.value:qn.textContent,Jr=!0)),T=Ea(c,_),0<T.length&&(_=new Dh(_,e,null,n,u),f.push({event:_,listeners:T}),C?_.data=C:(C=Fy(n),C!==null&&(_.data=C)))),(C=FS?$S(e,n):BS(e,n))&&(c=Ea(c,"onBeforeInput"),0<c.length&&(u=new Dh("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}Qy(f,t)})}function Bi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ea(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Li(e,n),i!=null&&r.unshift(Bi(e,i,s)),i=Li(e,t),i!=null&&r.push(Bi(e,i,s))),e=e.return}return r}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Li(n,i),l!=null&&o.unshift(Bi(n,l,a))):s||(l=Li(n,i),l!=null&&o.push(Bi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nb=/\r\n?/g,rb=/\u0000|\uFFFD/g;function Yh(e){return(typeof e=="string"?e:""+e).replace(nb,`
`).replace(rb,"")}function Vo(e,t,n){if(t=Yh(t),Yh(e)!==t&&n)throw Error(P(425))}function Ia(){}var du=null,fu=null;function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,ib=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(e){return Xh.resolve(null).then(e).catch(ob)}:pu;function ob(e){setTimeout(function(){throw e})}function sc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vi(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),qt="__reactFiber$"+Bs,zi="__reactProps$"+Bs,xn="__reactContainer$"+Bs,mu="__reactEvents$"+Bs,ab="__reactListeners$"+Bs,lb="__reactHandles$"+Bs;function _r(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zh(e);e!==null;){if(n=e[qt])return n;e=Zh(e)}return t}e=n,n=e.parentNode}return null}function uo(e){return e=e[qt]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function hl(e){return e[zi]||null}var gu=[],rs=-1;function mr(e){return{current:e}}function ge(e){0>rs||(e.current=gu[rs],gu[rs]=null,rs--)}function ue(e,t){rs++,gu[rs]=e.current,e.current=t}var dr={},Ze=mr(dr),at=mr(!1),Dr=dr;function Es(e,t){var n=e.type.contextTypes;if(!n)return dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function Pa(){ge(at),ge(Ze)}function Qh(e,t,n){if(Ze.current!==dr)throw Error(P(168));ue(Ze,t),ue(at,n)}function e0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,Gw(e)||"Unknown",s));return be({},n,r)}function Na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Dr=Ze.current,ue(Ze,e),ue(at,at.current),!0}function Jh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=e0(e,t,Dr),r.__reactInternalMemoizedMergedChildContext=e,ge(at),ge(Ze),ue(Ze,e)):ge(at),ue(at,n)}var un=null,pl=!1,ic=!1;function t0(e){un===null?un=[e]:un.push(e)}function cb(e){pl=!0,t0(e)}function gr(){if(!ic&&un!==null){ic=!0;var e=0,t=se;try{var n=un;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,pl=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),Cy(Cd,gr),s}finally{se=t,ic=!1}}return null}var ss=[],is=0,Aa=null,Ma=0,St=[],bt=0,Or=null,fn=1,hn="";function Sr(e,t){ss[is++]=Ma,ss[is++]=Aa,Aa=e,Ma=t}function n0(e,t,n){St[bt++]=fn,St[bt++]=hn,St[bt++]=Or,Or=e;var r=fn;e=hn;var s=32-Dt(r)-1;r&=~(1<<s),n+=1;var i=32-Dt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-Dt(t)+s|n<<s|r,hn=i+e}else fn=1<<i|n<<s|r,hn=e}function Ld(e){e.return!==null&&(Sr(e,1),n0(e,1,0))}function Dd(e){for(;e===Aa;)Aa=ss[--is],ss[is]=null,Ma=ss[--is],ss[is]=null;for(;e===Or;)Or=St[--bt],St[bt]=null,hn=St[--bt],St[bt]=null,fn=St[--bt],St[bt]=null}var ft=null,dt=null,ye=!1,jt=null;function r0(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ep(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,dt=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Or!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,dt=null,!0):!1;default:return!1}}function yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(ye){var t=dt;if(t){var n=t;if(!ep(e,t)){if(yu(e))throw Error(P(418));t=nr(n.nextSibling);var r=ft;t&&ep(e,t)?r0(r,n):(e.flags=e.flags&-4097|2,ye=!1,ft=e)}}else{if(yu(e))throw Error(P(418));e.flags=e.flags&-4097|2,ye=!1,ft=e}}}function tp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Uo(e){if(e!==ft)return!1;if(!ye)return tp(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hu(e.type,e.memoizedProps)),t&&(t=dt)){if(yu(e))throw s0(),Error(P(418));for(;t;)r0(e,t),t=nr(t.nextSibling)}if(tp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ft?nr(e.stateNode.nextSibling):null;return!0}function s0(){for(var e=dt;e;)e=nr(e.nextSibling)}function Is(){dt=ft=null,ye=!1}function Od(e){jt===null?jt=[e]:jt.push(e)}var ub=Pn.ReactCurrentBatchConfig;function oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function np(e){var t=e._init;return t(e._payload)}function i0(e){function t(m,g){if(e){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=or(m,g),m.index=0,m.sibling=null,m}function i(m,g,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,y,S){return g===null||g.tag!==6?(g=fc(y,m.mode,S),g.return=m,g):(g=s(g,y),g.return=m,g)}function l(m,g,y,S){var k=y.type;return k===Qr?u(m,g,y.props.children,S,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fn&&np(k)===g.type)?(S=s(g,y.props),S.ref=oi(m,g,y),S.return=m,S):(S=da(y.type,y.key,y.props,null,m.mode,S),S.ref=oi(m,g,y),S.return=m,S)}function c(m,g,y,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=hc(y,m.mode,S),g.return=m,g):(g=s(g,y.children||[]),g.return=m,g)}function u(m,g,y,S,k){return g===null||g.tag!==7?(g=Mr(y,m.mode,S,k),g.return=m,g):(g=s(g,y),g.return=m,g)}function f(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=fc(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Po:return y=da(g.type,g.key,g.props,null,m.mode,y),y.ref=oi(m,null,g),y.return=m,y;case Zr:return g=hc(g,m.mode,y),g.return=m,g;case Fn:var S=g._init;return f(m,S(g._payload),y)}if(di(g)||ti(g))return g=Mr(g,m.mode,y,null),g.return=m,g;Fo(m,g)}return null}function h(m,g,y,S){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Po:return y.key===k?l(m,g,y,S):null;case Zr:return y.key===k?c(m,g,y,S):null;case Fn:return k=y._init,h(m,g,k(y._payload),S)}if(di(y)||ti(y))return k!==null?null:u(m,g,y,S,null);Fo(m,y)}return null}function p(m,g,y,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(y)||null,a(g,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Po:return m=m.get(S.key===null?y:S.key)||null,l(g,m,S,k);case Zr:return m=m.get(S.key===null?y:S.key)||null,c(g,m,S,k);case Fn:var T=S._init;return p(m,g,y,T(S._payload),k)}if(di(S)||ti(S))return m=m.get(y)||null,u(g,m,S,k,null);Fo(g,S)}return null}function v(m,g,y,S){for(var k=null,T=null,C=g,_=g=0,A=null;C!==null&&_<y.length;_++){C.index>_?(A=C,C=null):A=C.sibling;var E=h(m,C,y[_],S);if(E===null){C===null&&(C=A);break}e&&C&&E.alternate===null&&t(m,C),g=i(E,g,_),T===null?k=E:T.sibling=E,T=E,C=A}if(_===y.length)return n(m,C),ye&&Sr(m,_),k;if(C===null){for(;_<y.length;_++)C=f(m,y[_],S),C!==null&&(g=i(C,g,_),T===null?k=C:T.sibling=C,T=C);return ye&&Sr(m,_),k}for(C=r(m,C);_<y.length;_++)A=p(C,m,_,y[_],S),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?_:A.key),g=i(A,g,_),T===null?k=A:T.sibling=A,T=A);return e&&C.forEach(function(O){return t(m,O)}),ye&&Sr(m,_),k}function x(m,g,y,S){var k=ti(y);if(typeof k!="function")throw Error(P(150));if(y=k.call(y),y==null)throw Error(P(151));for(var T=k=null,C=g,_=g=0,A=null,E=y.next();C!==null&&!E.done;_++,E=y.next()){C.index>_?(A=C,C=null):A=C.sibling;var O=h(m,C,E.value,S);if(O===null){C===null&&(C=A);break}e&&C&&O.alternate===null&&t(m,C),g=i(O,g,_),T===null?k=O:T.sibling=O,T=O,C=A}if(E.done)return n(m,C),ye&&Sr(m,_),k;if(C===null){for(;!E.done;_++,E=y.next())E=f(m,E.value,S),E!==null&&(g=i(E,g,_),T===null?k=E:T.sibling=E,T=E);return ye&&Sr(m,_),k}for(C=r(m,C);!E.done;_++,E=y.next())E=p(C,m,_,E.value,S),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?_:E.key),g=i(E,g,_),T===null?k=E:T.sibling=E,T=E);return e&&C.forEach(function(ee){return t(m,ee)}),ye&&Sr(m,_),k}function b(m,g,y,S){if(typeof y=="object"&&y!==null&&y.type===Qr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Po:e:{for(var k=y.key,T=g;T!==null;){if(T.key===k){if(k=y.type,k===Qr){if(T.tag===7){n(m,T.sibling),g=s(T,y.props.children),g.return=m,m=g;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fn&&np(k)===T.type){n(m,T.sibling),g=s(T,y.props),g.ref=oi(m,T,y),g.return=m,m=g;break e}n(m,T);break}else t(m,T);T=T.sibling}y.type===Qr?(g=Mr(y.props.children,m.mode,S,y.key),g.return=m,m=g):(S=da(y.type,y.key,y.props,null,m.mode,S),S.ref=oi(m,g,y),S.return=m,m=S)}return o(m);case Zr:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=s(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=hc(y,m.mode,S),g.return=m,m=g}return o(m);case Fn:return T=y._init,b(m,g,T(y._payload),S)}if(di(y))return v(m,g,y,S);if(ti(y))return x(m,g,y,S);Fo(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,y),g.return=m,m=g):(n(m,g),g=fc(y,m.mode,S),g.return=m,m=g),o(m)):n(m,g)}return b}var Ps=i0(!0),o0=i0(!1),Ra=mr(null),ja=null,os=null,Vd=null;function Ud(){Vd=os=ja=null}function Fd(e){var t=Ra.current;ge(Ra),e._currentValue=t}function xu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ja=e,Vd=os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Vd!==e)if(e={context:e,memoizedValue:t,next:null},os===null){if(ja===null)throw Error(P(308));os=e,ja.dependencies={lanes:0,firstContext:e}}else os=os.next=e;return t}var Cr=null;function $d(e){Cr===null?Cr=[e]:Cr.push(e)}function a0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,$d(t)):(n.next=s.next,s.next=n),t.interleaved=n,wn(e,r)}function wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function Bd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,wn(e,n)}return s=r.interleaved,s===null?(t.next=t,$d(r)):(t.next=s.next,s.next=t),r.interleaved=t,wn(e,n)}function ia(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ed(e,n)}}function rp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var s=e.updateQueue;$n=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(h=t,p=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=be({},f,h);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ur|=o,e.lanes=o,e.memoizedState=f}}function sp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var fo={},Xt=mr(fo),Hi=mr(fo),Wi=mr(fo);function Er(e){if(e===fo)throw Error(P(174));return e}function zd(e,t){switch(ue(Wi,t),ue(Hi,e),ue(Xt,fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jc(t,e)}ge(Xt),ue(Xt,t)}function Ns(){ge(Xt),ge(Hi),ge(Wi)}function c0(e){Er(Wi.current);var t=Er(Xt.current),n=Jc(t,e.type);t!==n&&(ue(Hi,e),ue(Xt,n))}function Hd(e){Hi.current===e&&(ge(Xt),ge(Hi))}var xe=mr(0);function Da(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oc=[];function Wd(){for(var e=0;e<oc.length;e++)oc[e]._workInProgressVersionPrimary=null;oc.length=0}var oa=Pn.ReactCurrentDispatcher,ac=Pn.ReactCurrentBatchConfig,Vr=0,Se=null,Ae=null,je=null,Oa=!1,wi=!1,Gi=0,db=0;function We(){throw Error(P(321))}function Gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Kd(e,t,n,r,s,i){if(Vr=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=e===null||e.memoizedState===null?mb:gb,e=n(r,s),wi){i=0;do{if(wi=!1,Gi=0,25<=i)throw Error(P(301));i+=1,je=Ae=null,t.updateQueue=null,oa.current=yb,e=n(r,s)}while(wi)}if(oa.current=Va,t=Ae!==null&&Ae.next!==null,Vr=0,je=Ae=Se=null,Oa=!1,t)throw Error(P(300));return e}function qd(){var e=Gi!==0;return Gi=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Se.memoizedState=je=e:je=je.next=e,je}function It(){if(Ae===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=je===null?Se.memoizedState:je.next;if(t!==null)je=t,Ae=e;else{if(e===null)throw Error(P(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},je===null?Se.memoizedState=je=e:je=je.next=e}return je}function Ki(e,t){return typeof t=="function"?t(e):t}function lc(e){var t=It(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Vr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Se.lanes|=u,Ur|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Vt(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Se.lanes|=i,Ur|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cc(e){var t=It(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(it=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function u0(){}function d0(e,t){var n=Se,r=It(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,it=!0),r=r.queue,Yd(p0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,qi(9,h0.bind(null,n,r,s,t),void 0,null),Le===null)throw Error(P(349));Vr&30||f0(n,t,s)}return s}function f0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function h0(e,t,n,r){t.value=n,t.getSnapshot=r,m0(t)&&g0(e)}function p0(e,t,n){return n(function(){m0(t)&&g0(e)})}function m0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function g0(e){var t=wn(e,1);t!==null&&Ot(t,e,1,-1)}function ip(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t.queue=e,e=e.dispatch=pb.bind(null,Se,e),[t.memoizedState,e]}function qi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function y0(){return It().memoizedState}function aa(e,t,n,r){var s=Kt();Se.flags|=e,s.memoizedState=qi(1|t,n,void 0,r===void 0?null:r)}function ml(e,t,n,r){var s=It();r=r===void 0?null:r;var i=void 0;if(Ae!==null){var o=Ae.memoizedState;if(i=o.destroy,r!==null&&Gd(r,o.deps)){s.memoizedState=qi(t,n,i,r);return}}Se.flags|=e,s.memoizedState=qi(1|t,n,i,r)}function op(e,t){return aa(8390656,8,e,t)}function Yd(e,t){return ml(2048,8,e,t)}function v0(e,t){return ml(4,2,e,t)}function x0(e,t){return ml(4,4,e,t)}function w0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function S0(e,t,n){return n=n!=null?n.concat([e]):null,ml(4,4,w0.bind(null,t,e),n)}function Xd(){}function b0(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function k0(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function T0(e,t,n){return Vr&21?(Vt(n,t)||(n=Py(),Se.lanes|=n,Ur|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function fb(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=ac.transition;ac.transition={};try{e(!1),t()}finally{se=n,ac.transition=r}}function _0(){return It().memoizedState}function hb(e,t,n){var r=ir(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},C0(e))E0(t,n);else if(n=a0(e,t,n,r),n!==null){var s=et();Ot(n,e,r,s),I0(n,t,r)}}function pb(e,t,n){var r=ir(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(C0(e))E0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Vt(a,o)){var l=t.interleaved;l===null?(s.next=s,$d(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=a0(e,t,s,r),n!==null&&(s=et(),Ot(n,e,r,s),I0(n,t,r))}}function C0(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function E0(e,t){wi=Oa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function I0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ed(e,n)}}var Va={readContext:Et,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},mb={readContext:Et,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:op,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,aa(4194308,4,w0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return aa(4,2,e,t)},useMemo:function(e,t){var n=Kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hb.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:ip,useDebugValue:Xd,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=ip(!1),t=e[0];return e=fb.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,s=Kt();if(ye){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Le===null)throw Error(P(349));Vr&30||f0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,op(p0.bind(null,r,i,e),[e]),r.flags|=2048,qi(9,h0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Kt(),t=Le.identifierPrefix;if(ye){var n=hn,r=fn;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=db++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gb={readContext:Et,useCallback:b0,useContext:Et,useEffect:Yd,useImperativeHandle:S0,useInsertionEffect:v0,useLayoutEffect:x0,useMemo:k0,useReducer:lc,useRef:y0,useState:function(){return lc(Ki)},useDebugValue:Xd,useDeferredValue:function(e){var t=It();return T0(t,Ae.memoizedState,e)},useTransition:function(){var e=lc(Ki)[0],t=It().memoizedState;return[e,t]},useMutableSource:u0,useSyncExternalStore:d0,useId:_0,unstable_isNewReconciler:!1},yb={readContext:Et,useCallback:b0,useContext:Et,useEffect:Yd,useImperativeHandle:S0,useInsertionEffect:v0,useLayoutEffect:x0,useMemo:k0,useReducer:cc,useRef:y0,useState:function(){return cc(Ki)},useDebugValue:Xd,useDeferredValue:function(e){var t=It();return Ae===null?t.memoizedState=e:T0(t,Ae.memoizedState,e)},useTransition:function(){var e=cc(Ki)[0],t=It().memoizedState;return[e,t]},useMutableSource:u0,useSyncExternalStore:d0,useId:_0,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gl={isMounted:function(e){return(e=e._reactInternals)?Gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),s=ir(e),i=yn(r,s);i.payload=t,n!=null&&(i.callback=n),t=rr(e,i,s),t!==null&&(Ot(t,e,s,r),ia(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),s=ir(e),i=yn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rr(e,i,s),t!==null&&(Ot(t,e,s,r),ia(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=ir(e),s=yn(n,r);s.tag=2,t!=null&&(s.callback=t),t=rr(e,s,r),t!==null&&(Ot(t,e,r,n),ia(t,e,r))}};function ap(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Fi(n,r)||!Fi(s,i):!0}function P0(e,t,n){var r=!1,s=dr,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=lt(t)?Dr:Ze.current,r=t.contextTypes,i=(r=r!=null)?Es(e,s):dr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function Su(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Bd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=lt(t)?Dr:Ze.current,s.context=Es(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gl.enqueueReplaceState(s,s.state,null),La(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function As(e,t){try{var n="",r=t;do n+=Ww(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function uc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vb=typeof WeakMap=="function"?WeakMap:Map;function N0(e,t,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fa||(Fa=!0,Mu=r),bu(e,t)},n}function A0(e,t,n){n=yn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){bu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bu(e,t),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Mb.bind(null,e,t,n),t.then(e,e))}function up(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yn(-1,1),t.tag=2,rr(n,t,1))),n.lanes|=1),e)}var xb=Pn.ReactCurrentOwner,it=!1;function Qe(e,t,n,r){t.child=e===null?o0(t,null,n,r):Ps(t,e.child,n,r)}function fp(e,t,n,r,s){n=n.render;var i=t.ref;return Ss(t,s),r=Kd(e,t,n,r,i,s),n=qd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(ye&&n&&Ld(t),t.flags|=1,Qe(e,t,r,s),t.child)}function hp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!sf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,M0(e,t,i,r,s)):(e=da(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fi,n(o,r)&&e.ref===t.ref)return Sn(e,t,s)}return t.flags|=1,e=or(i,r),e.ref=t.ref,e.return=t,t.child=e}function M0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Fi(i,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,Sn(e,t,s)}return ku(e,t,n,r,s)}function R0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ls,ut),ut|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(ls,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(ls,ut),ut|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(ls,ut),ut|=r;return Qe(e,t,s,n),t.child}function j0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ku(e,t,n,r,s){var i=lt(n)?Dr:Ze.current;return i=Es(t,i),Ss(t,s),n=Kd(e,t,n,r,i,s),r=qd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(ye&&r&&Ld(t),t.flags|=1,Qe(e,t,n,s),t.child)}function pp(e,t,n,r,s){if(lt(n)){var i=!0;Na(t)}else i=!1;if(Ss(t,s),t.stateNode===null)la(e,t),P0(t,n,r),Su(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=lt(n)?Dr:Ze.current,c=Es(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lp(t,o,r,c),$n=!1;var h=t.memoizedState;o.state=h,La(t,r,o,s),l=t.memoizedState,a!==r||h!==l||at.current||$n?(typeof u=="function"&&(wu(t,n,u,r),l=t.memoizedState),(a=$n||ap(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,l0(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Mt(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Et(l):(l=lt(n)?Dr:Ze.current,l=Es(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&lp(t,o,r,l),$n=!1,h=t.memoizedState,o.state=h,La(t,r,o,s);var v=t.memoizedState;a!==f||h!==v||at.current||$n?(typeof p=="function"&&(wu(t,n,p,r),v=t.memoizedState),(c=$n||ap(t,n,c,r,h,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,i,s)}function Tu(e,t,n,r,s,i){j0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Jh(t,n,!1),Sn(e,t,i);r=t.stateNode,xb.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ps(t,e.child,null,i),t.child=Ps(t,null,a,i)):Qe(e,t,a,i),t.memoizedState=r.state,s&&Jh(t,n,!0),t.child}function L0(e){var t=e.stateNode;t.pendingContext?Qh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qh(e,t.context,!1),zd(e,t.containerInfo)}function mp(e,t,n,r,s){return Is(),Od(s),t.flags|=256,Qe(e,t,n,r),t.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function Cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function D0(e,t,n){var r=t.pendingProps,s=xe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(xe,s&1),e===null)return vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xl(o,r,0,null),e=Mr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Cu(n),t.memoizedState=_u,e):Zd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wb(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=or(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=or(a,i):(i=Mr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Cu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=_u,r}return i=e.child,e=i.sibling,r=or(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zd(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $o(e,t,n,r){return r!==null&&Od(r),Ps(t,e.child,null,n),e=Zd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=uc(Error(P(422))),$o(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xl({mode:"visible",children:r.children},s,0,null),i=Mr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ps(t,e.child,null,o),t.child.memoizedState=Cu(o),t.memoizedState=_u,i);if(!(t.mode&1))return $o(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=uc(i,r,void 0),$o(e,t,o,r)}if(a=(o&e.childLanes)!==0,it||a){if(r=Le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wn(e,s),Ot(r,e,s,-1))}return rf(),r=uc(Error(P(421))),$o(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,dt=nr(s.nextSibling),ft=t,ye=!0,jt=null,e!==null&&(St[bt++]=fn,St[bt++]=hn,St[bt++]=Or,fn=e.id,hn=e.overflow,Or=t),t=Zd(t,r.children),t.flags|=4096,t)}function gp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xu(e.return,t,n)}function dc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function O0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Qe(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gp(e,n,t);else if(e.tag===19)gp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Da(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),dc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Da(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}dc(t,!0,n,null,i);break;case"together":dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ur|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=or(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=or(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sb(e,t,n){switch(t.tag){case 3:L0(t),Is();break;case 5:c0(t);break;case 1:lt(t.type)&&Na(t);break;case 4:zd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(Ra,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?D0(e,t,n):(ue(xe,xe.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);ue(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return O0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,R0(e,t,n)}return Sn(e,t,n)}var V0,Eu,U0,F0;V0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eu=function(){};U0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Er(Xt.current);var i=null;switch(n){case"input":s=Yc(e,s),r=Yc(e,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=Qc(e,s),r=Qc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ia)}eu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ri.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ri.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&me("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};F0=function(e,t,n,r){n!==r&&(t.flags|=4)};function ai(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bb(e,t,n){var r=t.pendingProps;switch(Dd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return lt(t.type)&&Pa(),Ge(t),null;case 3:return r=t.stateNode,Ns(),ge(at),ge(Ze),Wd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Uo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(Lu(jt),jt=null))),Eu(e,t),Ge(t),null;case 5:Hd(t);var s=Er(Wi.current);if(n=t.type,e!==null&&t.stateNode!=null)U0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ge(t),null}if(e=Er(Xt.current),Uo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[qt]=t,r[zi]=i,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(s=0;s<hi.length;s++)me(hi[s],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":_h(r,i),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},me("invalid",r);break;case"textarea":Eh(r,i),me("invalid",r)}eu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vo(r.textContent,a,e),s=["children",""+a]):Ri.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":No(r),Ch(r,i,!0);break;case"textarea":No(r),Ih(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ia)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=py(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[qt]=t,e[zi]=r,V0(e,t,!1,!1),t.stateNode=e;e:{switch(o=tu(n,r),n){case"dialog":me("cancel",e),me("close",e),s=r;break;case"iframe":case"object":case"embed":me("load",e),s=r;break;case"video":case"audio":for(s=0;s<hi.length;s++)me(hi[s],e);s=r;break;case"source":me("error",e),s=r;break;case"img":case"image":case"link":me("error",e),me("load",e),s=r;break;case"details":me("toggle",e),s=r;break;case"input":_h(e,r),s=Yc(e,r),me("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),me("invalid",e);break;case"textarea":Eh(e,r),s=Qc(e,r),me("invalid",e);break;default:s=r}eu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?yy(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&my(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ji(e,l):typeof l=="number"&&ji(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ri.hasOwnProperty(i)?l!=null&&i==="onScroll"&&me("scroll",e):l!=null&&Sd(e,i,l,o))}switch(n){case"input":No(e),Ch(e,r,!1);break;case"textarea":No(e),Ih(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ur(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ys(e,!!r.multiple,i,!1):r.defaultValue!=null&&ys(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)F0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Er(Wi.current),Er(Xt.current),Uo(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(i=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:Vo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return Ge(t),null;case 13:if(ge(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&dt!==null&&t.mode&1&&!(t.flags&128))s0(),Is(),t.flags|=98560,i=!1;else if(i=Uo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[qt]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),i=!1}else jt!==null&&(Lu(jt),jt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Me===0&&(Me=3):rf())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return Ns(),Eu(e,t),e===null&&$i(t.stateNode.containerInfo),Ge(t),null;case 10:return Fd(t.type._context),Ge(t),null;case 17:return lt(t.type)&&Pa(),Ge(t),null;case 19:if(ge(xe),i=t.memoizedState,i===null)return Ge(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ai(i,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Da(e),o!==null){for(t.flags|=128,ai(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>Ms&&(t.flags|=128,r=!0,ai(i,!1),t.lanes=4194304)}else{if(!r)if(e=Da(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ai(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return Ge(t),null}else 2*Ie()-i.renderingStartTime>Ms&&n!==1073741824&&(t.flags|=128,r=!0,ai(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=xe.current,ue(xe,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return nf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ut&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function kb(e,t){switch(Dd(t),t.tag){case 1:return lt(t.type)&&Pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),ge(at),ge(Ze),Wd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hd(t),null;case 13:if(ge(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(xe),null;case 4:return Ns(),null;case 10:return Fd(t.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var Bo=!1,qe=!1,Tb=typeof WeakSet=="function"?WeakSet:Set,L=null;function as(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Iu(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var yp=!1;function _b(e,t){if(du=_a,e=Wy(),jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},_a=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Mt(t.type,x),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){Ce(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return v=yp,yp=!1,v}function Si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Iu(t,n,i)}s=s.next}while(s!==r)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $0(e){var t=e.alternate;t!==null&&(e.alternate=null,$0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[zi],delete t[mu],delete t[ab],delete t[lb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function B0(e){return e.tag===5||e.tag===3||e.tag===4}function vp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||B0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(r!==4&&(e=e.child,e!==null))for(Nu(e,t,n),e=e.sibling;e!==null;)Nu(e,t,n),e=e.sibling}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}var Ue=null,Rt=!1;function On(e,t,n){for(n=n.child;n!==null;)z0(e,t,n),n=n.sibling}function z0(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:qe||as(n,t);case 6:var r=Ue,s=Rt;Ue=null,On(e,t,n),Ue=r,Rt=s,Ue!==null&&(Rt?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Rt?(e=Ue,n=n.stateNode,e.nodeType===8?sc(e.parentNode,n):e.nodeType===1&&sc(e,n),Vi(e)):sc(Ue,n.stateNode));break;case 4:r=Ue,s=Rt,Ue=n.stateNode.containerInfo,Rt=!0,On(e,t,n),Ue=r,Rt=s;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Iu(n,t,o),s=s.next}while(s!==r)}On(e,t,n);break;case 1:if(!qe&&(as(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,t,a)}On(e,t,n);break;case 21:On(e,t,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,On(e,t,n),qe=r):On(e,t,n);break;default:On(e,t,n)}}function xp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Tb),t.forEach(function(r){var s=jb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ue=a.stateNode,Rt=!1;break e;case 3:Ue=a.stateNode.containerInfo,Rt=!0;break e;case 4:Ue=a.stateNode.containerInfo,Rt=!0;break e}a=a.return}if(Ue===null)throw Error(P(160));z0(i,o,s),Ue=null,Rt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ce(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H0(t,e),t=t.sibling}function H0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Gt(e),r&4){try{Si(3,e,e.return),yl(3,e)}catch(x){Ce(e,e.return,x)}try{Si(5,e,e.return)}catch(x){Ce(e,e.return,x)}}break;case 1:Nt(t,e),Gt(e),r&512&&n!==null&&as(n,n.return);break;case 5:if(Nt(t,e),Gt(e),r&512&&n!==null&&as(n,n.return),e.flags&32){var s=e.stateNode;try{ji(s,"")}catch(x){Ce(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&fy(s,i),tu(a,o);var c=tu(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?yy(s,f):u==="dangerouslySetInnerHTML"?my(s,f):u==="children"?ji(s,f):Sd(s,u,f,c)}switch(a){case"input":Xc(s,i);break;case"textarea":hy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ys(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ys(s,!!i.multiple,i.defaultValue,!0):ys(s,!!i.multiple,i.multiple?[]:"",!1))}s[zi]=i}catch(x){Ce(e,e.return,x)}}break;case 6:if(Nt(t,e),Gt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ce(e,e.return,x)}}break;case 3:if(Nt(t,e),Gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(x){Ce(e,e.return,x)}break;case 4:Nt(t,e),Gt(e);break;case 13:Nt(t,e),Gt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ef=Ie())),r&4&&xp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(c=qe)||u,Nt(t,e),qe=c):Nt(t,e),Gt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(L=e,u=e.child;u!==null;){for(f=L=u;L!==null;){switch(h=L,p=h.child,h.tag){case 0:case 11:case 14:case 15:Si(4,h,h.return);break;case 1:as(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){Ce(r,n,x)}}break;case 5:as(h,h.return);break;case 22:if(h.memoizedState!==null){Sp(f);continue}}p!==null?(p.return=h,L=p):Sp(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gy("display",o))}catch(x){Ce(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Ce(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nt(t,e),Gt(e),r&4&&xp(e);break;case 21:break;default:Nt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(B0(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ji(s,""),r.flags&=-33);var i=vp(e);Au(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vp(e);Nu(e,a,o);break;default:throw Error(P(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cb(e,t,n){L=e,W0(e)}function W0(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||qe;a=Bo;var c=qe;if(Bo=o,(qe=l)&&!c)for(L=s;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?bp(s):l!==null?(l.return=o,L=l):bp(s);for(;i!==null;)L=i,W0(i),i=i.sibling;L=s,Bo=a,qe=c}wp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):wp(e)}}function wp(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||yl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}qe||t.flags&512&&Pu(t)}catch(h){Ce(t,t.return,h)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Sp(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function bp(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(l){Ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ce(t,s,l)}}var i=t.return;try{Pu(t)}catch(l){Ce(t,i,l)}break;case 5:var o=t.return;try{Pu(t)}catch(l){Ce(t,o,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Eb=Math.ceil,Ua=Pn.ReactCurrentDispatcher,Qd=Pn.ReactCurrentOwner,_t=Pn.ReactCurrentBatchConfig,ne=0,Le=null,Ne=null,$e=0,ut=0,ls=mr(0),Me=0,Yi=null,Ur=0,vl=0,Jd=0,bi=null,st=null,ef=0,Ms=1/0,cn=null,Fa=!1,Mu=null,sr=null,zo=!1,Yn=null,$a=0,ki=0,Ru=null,ca=-1,ua=0;function et(){return ne&6?Ie():ca!==-1?ca:ca=Ie()}function ir(e){return e.mode&1?ne&2&&$e!==0?$e&-$e:ub.transition!==null?(ua===0&&(ua=Py()),ua):(e=se,e!==0||(e=window.event,e=e===void 0?16:Dy(e.type)),e):1}function Ot(e,t,n,r){if(50<ki)throw ki=0,Ru=null,Error(P(185));lo(e,n,r),(!(ne&2)||e!==Le)&&(e===Le&&(!(ne&2)&&(vl|=n),Me===4&&zn(e,$e)),ct(e,r),n===1&&ne===0&&!(t.mode&1)&&(Ms=Ie()+500,pl&&gr()))}function ct(e,t){var n=e.callbackNode;uS(e,t);var r=Ta(e,e===Le?$e:0);if(r===0)n!==null&&Ah(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ah(n),t===1)e.tag===0?cb(kp.bind(null,e)):t0(kp.bind(null,e)),ib(function(){!(ne&6)&&gr()}),n=null;else{switch(Ny(r)){case 1:n=Cd;break;case 4:n=Ey;break;case 16:n=ka;break;case 536870912:n=Iy;break;default:n=ka}n=J0(n,G0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function G0(e,t){if(ca=-1,ua=0,ne&6)throw Error(P(327));var n=e.callbackNode;if(bs()&&e.callbackNode!==n)return null;var r=Ta(e,e===Le?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ba(e,r);else{t=r;var s=ne;ne|=2;var i=q0();(Le!==e||$e!==t)&&(cn=null,Ms=Ie()+500,Ar(e,t));do try{Nb();break}catch(a){K0(e,a)}while(1);Ud(),Ua.current=i,ne=s,Ne!==null?t=0:(Le=null,$e=0,t=Me)}if(t!==0){if(t===2&&(s=ou(e),s!==0&&(r=s,t=ju(e,s))),t===1)throw n=Yi,Ar(e,0),zn(e,r),ct(e,Ie()),n;if(t===6)zn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ib(s)&&(t=Ba(e,r),t===2&&(i=ou(e),i!==0&&(r=i,t=ju(e,i))),t===1))throw n=Yi,Ar(e,0),zn(e,r),ct(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:br(e,st,cn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=ef+500-Ie(),10<t)){if(Ta(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pu(br.bind(null,e,st,cn),t);break}br(e,st,cn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Dt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eb(r/1960))-r,10<r){e.timeoutHandle=pu(br.bind(null,e,st,cn),r);break}br(e,st,cn);break;case 5:br(e,st,cn);break;default:throw Error(P(329))}}}return ct(e,Ie()),e.callbackNode===n?G0.bind(null,e):null}function ju(e,t){var n=bi;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=Ba(e,t),e!==2&&(t=st,st=n,t!==null&&Lu(t)),e}function Lu(e){st===null?st=e:st.push.apply(st,e)}function Ib(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~Jd,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function kp(e){if(ne&6)throw Error(P(327));bs();var t=Ta(e,0);if(!(t&1))return ct(e,Ie()),null;var n=Ba(e,t);if(e.tag!==0&&n===2){var r=ou(e);r!==0&&(t=r,n=ju(e,r))}if(n===1)throw n=Yi,Ar(e,0),zn(e,t),ct(e,Ie()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,st,cn),ct(e,Ie()),null}function tf(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Ms=Ie()+500,pl&&gr())}}function Fr(e){Yn!==null&&Yn.tag===0&&!(ne&6)&&bs();var t=ne;ne|=1;var n=_t.transition,r=se;try{if(_t.transition=null,se=1,e)return e()}finally{se=r,_t.transition=n,ne=t,!(ne&6)&&gr()}}function nf(){ut=ls.current,ge(ls)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sb(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Dd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pa();break;case 3:Ns(),ge(at),ge(Ze),Wd();break;case 5:Hd(r);break;case 4:Ns();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:Fd(r.type._context);break;case 22:case 23:nf()}n=n.return}if(Le=e,Ne=e=or(e.current,null),$e=ut=t,Me=0,Yi=null,Jd=vl=Ur=0,st=bi=null,Cr!==null){for(t=0;t<Cr.length;t++)if(n=Cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cr=null}return e}function K0(e,t){do{var n=Ne;try{if(Ud(),oa.current=Va,Oa){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oa=!1}if(Vr=0,je=Ae=Se=null,wi=!1,Gi=0,Qd.current=null,n===null||n.return===null){Me=1,Yi=t,Ne=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=$e,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=up(o);if(p!==null){p.flags&=-257,dp(p,o,a,i,t),p.mode&1&&cp(i,c,t),t=p,l=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){cp(i,c,t),rf();break e}l=Error(P(426))}}else if(ye&&a.mode&1){var b=up(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dp(b,o,a,i,t),Od(As(l,a));break e}}i=l=As(l,a),Me!==4&&(Me=2),bi===null?bi=[i]:bi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=N0(i,l,t);rp(i,m);break e;case 1:a=l;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(sr===null||!sr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=A0(i,a,t);rp(i,S);break e}}i=i.return}while(i!==null)}X0(n)}catch(k){t=k,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(1)}function q0(){var e=Ua.current;return Ua.current=Va,e===null?Va:e}function rf(){(Me===0||Me===3||Me===2)&&(Me=4),Le===null||!(Ur&268435455)&&!(vl&268435455)||zn(Le,$e)}function Ba(e,t){var n=ne;ne|=2;var r=q0();(Le!==e||$e!==t)&&(cn=null,Ar(e,t));do try{Pb();break}catch(s){K0(e,s)}while(1);if(Ud(),ne=n,Ua.current=r,Ne!==null)throw Error(P(261));return Le=null,$e=0,Me}function Pb(){for(;Ne!==null;)Y0(Ne)}function Nb(){for(;Ne!==null&&!tS();)Y0(Ne)}function Y0(e){var t=Q0(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?X0(e):Ne=t,Qd.current=null}function X0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kb(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Ne=null;return}}else if(n=bb(n,t,ut),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Me===0&&(Me=5)}function br(e,t,n){var r=se,s=_t.transition;try{_t.transition=null,se=1,Ab(e,t,n,r)}finally{_t.transition=s,se=r}return null}function Ab(e,t,n,r){do bs();while(Yn!==null);if(ne&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dS(e,i),e===Le&&(Ne=Le=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zo||(zo=!0,J0(ka,function(){return bs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_t.transition,_t.transition=null;var o=se;se=1;var a=ne;ne|=4,Qd.current=null,_b(e,n),H0(n,e),ZS(fu),_a=!!du,fu=du=null,e.current=n,Cb(n),nS(),ne=a,se=o,_t.transition=i}else e.current=n;if(zo&&(zo=!1,Yn=e,$a=s),i=e.pendingLanes,i===0&&(sr=null),iS(n.stateNode),ct(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fa)throw Fa=!1,e=Mu,Mu=null,e;return $a&1&&e.tag!==0&&bs(),i=e.pendingLanes,i&1?e===Ru?ki++:(ki=0,Ru=e):ki=0,gr(),null}function bs(){if(Yn!==null){var e=Ny($a),t=_t.transition,n=se;try{if(_t.transition=null,se=16>e?16:e,Yn===null)var r=!1;else{if(e=Yn,Yn=null,$a=0,ne&6)throw Error(P(331));var s=ne;for(ne|=4,L=e.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:Si(8,u,i)}var f=u.child;if(f!==null)f.return=u,L=f;else for(;L!==null;){u=L;var h=u.sibling,p=u.return;if($0(u),u===c){L=null;break}if(h!==null){h.return=p,L=h;break}L=p}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Si(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,L=m;break e}L=i.return}}var g=e.current;for(L=g;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=g;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yl(9,a)}}catch(k){Ce(a,a.return,k)}if(a===o){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(ne=s,gr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(cl,e)}catch{}r=!0}return r}finally{se=n,_t.transition=t}}return!1}function Tp(e,t,n){t=As(n,t),t=N0(e,t,1),e=rr(e,t,1),t=et(),e!==null&&(lo(e,1,t),ct(e,t))}function Ce(e,t,n){if(e.tag===3)Tp(e,e,n);else for(;t!==null;){if(t.tag===3){Tp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sr===null||!sr.has(r))){e=As(n,e),e=A0(t,e,1),t=rr(t,e,1),e=et(),t!==null&&(lo(t,1,e),ct(t,e));break}}t=t.return}}function Mb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&($e&n)===n&&(Me===4||Me===3&&($e&130023424)===$e&&500>Ie()-ef?Ar(e,0):Jd|=n),ct(e,t)}function Z0(e,t){t===0&&(e.mode&1?(t=Ro,Ro<<=1,!(Ro&130023424)&&(Ro=4194304)):t=1);var n=et();e=wn(e,t),e!==null&&(lo(e,t,n),ct(e,n))}function Rb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Z0(e,n)}function jb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Z0(e,n)}var Q0;Q0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,Sb(e,t,n);it=!!(e.flags&131072)}else it=!1,ye&&t.flags&1048576&&n0(t,Ma,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;la(e,t),e=t.pendingProps;var s=Es(t,Ze.current);Ss(t,n),s=Kd(null,t,r,e,s,n);var i=qd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(i=!0,Na(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bd(t),s.updater=gl,t.stateNode=s,s._reactInternals=t,Su(t,r,e,n),t=Tu(null,t,r,!0,i,n)):(t.tag=0,ye&&i&&Ld(t),Qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(la(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Db(r),e=Mt(r,e),s){case 0:t=ku(null,t,r,e,n);break e;case 1:t=pp(null,t,r,e,n);break e;case 11:t=fp(null,t,r,e,n);break e;case 14:t=hp(null,t,r,Mt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),ku(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),pp(e,t,r,s,n);case 3:e:{if(L0(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,l0(e,t),La(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=As(Error(P(423)),t),t=mp(e,t,r,n,s);break e}else if(r!==s){s=As(Error(P(424)),t),t=mp(e,t,r,n,s);break e}else for(dt=nr(t.stateNode.containerInfo.firstChild),ft=t,ye=!0,jt=null,n=o0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===s){t=Sn(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return c0(t),e===null&&vu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,hu(r,s)?o=null:i!==null&&hu(r,i)&&(t.flags|=32),j0(e,t),Qe(e,t,o,n),t.child;case 6:return e===null&&vu(t),null;case 13:return D0(e,t,n);case 4:return zd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ps(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),fp(e,t,r,s,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ue(Ra,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!at.current){t=Sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=yn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ss(t,n),s=Et(s),r=r(s),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,s=Mt(r,t.pendingProps),s=Mt(r.type,s),hp(e,t,r,s,n);case 15:return M0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),la(e,t),t.tag=1,lt(r)?(e=!0,Na(t)):e=!1,Ss(t,n),P0(t,r,s),Su(t,r,s,n),Tu(null,t,r,!0,e,n);case 19:return O0(e,t,n);case 22:return R0(e,t,n)}throw Error(P(156,t.tag))};function J0(e,t){return Cy(e,t)}function Lb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new Lb(e,t,n,r)}function sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Db(e){if(typeof e=="function")return sf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kd)return 11;if(e===Td)return 14}return 2}function or(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function da(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")sf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qr:return Mr(n.children,s,i,t);case bd:o=8,s|=8;break;case Wc:return e=Tt(12,n,t,s|2),e.elementType=Wc,e.lanes=i,e;case Gc:return e=Tt(13,n,t,s),e.elementType=Gc,e.lanes=i,e;case Kc:return e=Tt(19,n,t,s),e.elementType=Kc,e.lanes=i,e;case cy:return xl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ay:o=10;break e;case ly:o=9;break e;case kd:o=11;break e;case Td:o=14;break e;case Fn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Tt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mr(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function xl(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=cy,e.lanes=n,e.stateNode={isHidden:!1},e}function fc(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function hc(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ob(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function of(e,t,n,r,s,i,o,a,l){return e=new Ob(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(i),e}function Vb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ev(e){if(!e)return dr;e=e._reactInternals;e:{if(Gr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(lt(n))return e0(e,n,t)}return t}function tv(e,t,n,r,s,i,o,a,l){return e=of(n,r,!0,e,s,i,o,a,l),e.context=ev(null),n=e.current,r=et(),s=ir(n),i=yn(r,s),i.callback=t??null,rr(n,i,s),e.current.lanes=s,lo(e,s,r),ct(e,r),e}function wl(e,t,n,r){var s=t.current,i=et(),o=ir(s);return n=ev(n),t.context===null?t.context=n:t.pendingContext=n,t=yn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rr(s,t,o),e!==null&&(Ot(e,s,o,i),ia(e,s,o)),o}function za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _p(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function af(e,t){_p(e,t),(e=e.alternate)&&_p(e,t)}function Ub(){return null}var nv=typeof reportError=="function"?reportError:function(e){console.error(e)};function lf(e){this._internalRoot=e}Sl.prototype.render=lf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));wl(e,t,null,null)};Sl.prototype.unmount=lf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fr(function(){wl(null,e,null,null)}),t[xn]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ry();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&Ly(e)}};function cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cp(){}function Fb(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=za(o);i.call(c)}}var o=tv(t,r,e,0,null,!1,!1,"",Cp);return e._reactRootContainer=o,e[xn]=o.current,$i(e.nodeType===8?e.parentNode:e),Fr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=za(l);a.call(c)}}var l=of(e,0,!1,null,null,!1,!1,"",Cp);return e._reactRootContainer=l,e[xn]=l.current,$i(e.nodeType===8?e.parentNode:e),Fr(function(){wl(t,l,n,r)}),l}function kl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=za(o);a.call(l)}}wl(t,o,e,s)}else o=Fb(n,t,e,s,r);return za(o)}Ay=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fi(t.pendingLanes);n!==0&&(Ed(t,n|1),ct(t,Ie()),!(ne&6)&&(Ms=Ie()+500,gr()))}break;case 13:Fr(function(){var r=wn(e,1);if(r!==null){var s=et();Ot(r,e,1,s)}}),af(e,1)}};Id=function(e){if(e.tag===13){var t=wn(e,134217728);if(t!==null){var n=et();Ot(t,e,134217728,n)}af(e,134217728)}};My=function(e){if(e.tag===13){var t=ir(e),n=wn(e,t);if(n!==null){var r=et();Ot(n,e,t,r)}af(e,t)}};Ry=function(){return se};jy=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};ru=function(e,t,n){switch(t){case"input":if(Xc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hl(r);if(!s)throw Error(P(90));dy(r),Xc(r,s)}}}break;case"textarea":hy(e,n);break;case"select":t=n.value,t!=null&&ys(e,!!n.multiple,t,!1)}};wy=tf;Sy=Fr;var $b={usingClientEntryPoint:!1,Events:[uo,ns,hl,vy,xy,tf]},li={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bb={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ty(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||Ub,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{cl=Ho.inject(Bb),Yt=Ho}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$b;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(t))throw Error(P(200));return Vb(e,t,null,n)};mt.createRoot=function(e,t){if(!cf(e))throw Error(P(299));var n=!1,r="",s=nv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=of(e,1,!1,null,null,n,!1,r,s),e[xn]=t.current,$i(e.nodeType===8?e.parentNode:e),new lf(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Ty(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return Fr(e)};mt.hydrate=function(e,t,n){if(!bl(t))throw Error(P(200));return kl(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!cf(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=tv(t,null,e,1,n??null,s,!1,i,o),e[xn]=t.current,$i(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Sl(t)};mt.render=function(e,t,n){if(!bl(t))throw Error(P(200));return kl(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!bl(e))throw Error(P(40));return e._reactRootContainer?(Fr(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};mt.unstable_batchedUpdates=tf;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return kl(e,t,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function rv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rv)}catch(e){console.error(e)}}rv(),ry.exports=mt;var sv=ry.exports,Ep=sv;zc.createRoot=Ep.createRoot,zc.hydrateRoot=Ep.hydrateRoot;const Xi=w.createContext({});function uf(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const df=typeof window<"u",ff=df?w.useLayoutEffect:w.useEffect,Tl=w.createContext(null);function hf(e,t){e.indexOf(t)===-1&&e.push(t)}function pf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bn=(e,t,n)=>n>t?t:n<e?e:n;let mf=()=>{};const kn={},iv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ov(e){return typeof e=="object"&&e!==null}const av=e=>/^0[^.\s]+$/u.test(e);function gf(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ct=e=>e,zb=(e,t)=>n=>t(e(n)),ho=(...e)=>e.reduce(zb),Zi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class yf{constructor(){this.subscriptions=[]}add(t){return hf(this.subscriptions,t),()=>pf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zt=e=>e*1e3,Qt=e=>e/1e3;function lv(e,t){return t?e*(1e3/t):0}const cv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Hb=1e-7,Wb=12;function Gb(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=cv(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Hb&&++a<Wb);return o}function po(e,t,n,r){if(e===t&&n===r)return Ct;const s=i=>Gb(i,0,1,e,n);return i=>i===0||i===1?i:cv(s(i),t,r)}const uv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dv=e=>t=>1-e(1-t),fv=po(.33,1.53,.69,.99),vf=dv(fv),hv=uv(vf),pv=e=>(e*=2)<1?.5*vf(e):.5*(2-Math.pow(2,-10*(e-1))),xf=e=>1-Math.sin(Math.acos(e)),mv=dv(xf),gv=uv(xf),Kb=po(.42,0,1,1),qb=po(0,0,.58,1),yv=po(.42,0,.58,1),Yb=e=>Array.isArray(e)&&typeof e[0]!="number",vv=e=>Array.isArray(e)&&typeof e[0]=="number",Xb={linear:Ct,easeIn:Kb,easeInOut:yv,easeOut:qb,circIn:xf,circInOut:gv,circOut:mv,backIn:vf,backInOut:hv,backOut:fv,anticipate:pv},Zb=e=>typeof e=="string",Ip=e=>{if(vv(e)){mf(e.length===4);const[t,n,r,s]=e;return po(t,n,r,s)}else if(Zb(e))return Xb[e];return e},Wo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Pp={value:null,addProjectionMetrics:null};function Qb(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(u.schedule(f),e()),l++,f(a)}const u={schedule:(f,h=!1,p=!1)=>{const x=p&&s?n:r;return h&&o.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&Pp.value&&Pp.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(f))}};return u}const Jb=40;function xv(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Wo.reduce((y,S)=>(y[S]=Qb(i,t?S:void 0),y),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:v}=o,x=()=>{const y=kn.useManualTiming?s.timestamp:performance.now();n=!1,kn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,Jb),1)),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),f.process(s),h.process(s),p.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(x))},b=()=>{n=!0,r=!0,s.isProcessing||e(x)};return{schedule:Wo.reduce((y,S)=>{const k=o[S];return y[S]=(T,C=!1,_=!1)=>(n||b(),k.schedule(T,C,_)),y},{}),cancel:y=>{for(let S=0;S<Wo.length;S++)o[Wo[S]].cancel(y)},state:s,steps:o}}const{schedule:ve,cancel:fr,state:Fe,steps:pc}=xv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ct,!0);let fa;function ek(){fa=void 0}const ot={now:()=>(fa===void 0&&ot.set(Fe.isProcessing||kn.useManualTiming?Fe.timestamp:performance.now()),fa),set:e=>{fa=e,queueMicrotask(ek)}},wv=e=>t=>typeof t=="string"&&t.startsWith(e),wf=wv("--"),tk=wv("var(--"),Sf=e=>tk(e)?nk.test(e.split("/*")[0].trim()):!1,nk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qi={...zs,transform:e=>bn(0,1,e)},Go={...zs,default:1},Ti=e=>Math.round(e*1e5)/1e5,bf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rk(e){return e==null}const sk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kf=(e,t)=>n=>!!(typeof n=="string"&&sk.test(n)&&n.startsWith(e)||t&&!rk(n)&&Object.prototype.hasOwnProperty.call(n,t)),Sv=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(bf);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ik=e=>bn(0,255,e),mc={...zs,transform:e=>Math.round(ik(e))},Ir={test:kf("rgb","red"),parse:Sv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+mc.transform(e)+", "+mc.transform(t)+", "+mc.transform(n)+", "+Ti(Qi.transform(r))+")"};function ok(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Du={test:kf("#"),parse:ok,transform:Ir.transform},mo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Un=mo("deg"),Jt=mo("%"),$=mo("px"),ak=mo("vh"),lk=mo("vw"),Np=(()=>({...Jt,parse:e=>Jt.parse(e)/100,transform:e=>Jt.transform(e*100)}))(),cs={test:kf("hsl","hue"),parse:Sv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Jt.transform(Ti(t))+", "+Jt.transform(Ti(n))+", "+Ti(Qi.transform(r))+")"},Ke={test:e=>Ir.test(e)||Du.test(e)||cs.test(e),parse:e=>Ir.test(e)?Ir.parse(e):cs.test(e)?cs.parse(e):Du.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ir.transform(e):cs.transform(e)},ck=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uk(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bf))==null?void 0:t.length)||0)+(((n=e.match(ck))==null?void 0:n.length)||0)>0}const bv="number",kv="color",dk="var",fk="var(",Ap="${}",hk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ji(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(hk,l=>(Ke.test(l)?(r.color.push(i),s.push(kv),n.push(Ke.parse(l))):l.startsWith(fk)?(r.var.push(i),s.push(dk),n.push(l)):(r.number.push(i),s.push(bv),n.push(parseFloat(l))),++i,Ap)).split(Ap);return{values:n,split:a,indexes:r,types:s}}function Tv(e){return Ji(e).values}function _v(e){const{split:t,types:n}=Ji(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===bv?i+=Ti(s[o]):a===kv?i+=Ke.transform(s[o]):i+=s[o]}return i}}const pk=e=>typeof e=="number"?0:e;function mk(e){const t=Tv(e);return _v(e)(t.map(pk))}const hr={test:uk,parse:Tv,createTransformer:_v,getAnimatableNone:mk};function gc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function gk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=gc(l,a,e+1/3),i=gc(l,a,e),o=gc(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ha(e,t){return n=>n>0?t:e}const we=(e,t,n)=>e+(t-e)*n,yc=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},yk=[Du,Ir,cs],vk=e=>yk.find(t=>t.test(e));function Mp(e){const t=vk(e);if(!t)return!1;let n=t.parse(e);return t===cs&&(n=gk(n)),n}const Rp=(e,t)=>{const n=Mp(e),r=Mp(t);if(!n||!r)return Ha(e,t);const s={...n};return i=>(s.red=yc(n.red,r.red,i),s.green=yc(n.green,r.green,i),s.blue=yc(n.blue,r.blue,i),s.alpha=we(n.alpha,r.alpha,i),Ir.transform(s))},Ou=new Set(["none","hidden"]);function xk(e,t){return Ou.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function wk(e,t){return n=>we(e,t,n)}function Tf(e){return typeof e=="number"?wk:typeof e=="string"?Sf(e)?Ha:Ke.test(e)?Rp:kk:Array.isArray(e)?Cv:typeof e=="object"?Ke.test(e)?Rp:Sk:Ha}function Cv(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Tf(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Sk(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Tf(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function bk(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const kk=(e,t)=>{const n=hr.createTransformer(t),r=Ji(e),s=Ji(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ou.has(e)&&!s.values.length||Ou.has(t)&&!r.values.length?xk(e,t):ho(Cv(bk(r,s),s.values),n):Ha(e,t)};function Ev(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?we(e,t,n):Tf(e)(e,t)}const Tk=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ve.update(t,n),stop:()=>fr(t),now:()=>Fe.isProcessing?Fe.timestamp:ot.now()}},Iv=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Wa=2e4;function _f(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wa;)t+=n,r=e.next(t);return t>=Wa?1/0:t}function _k(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(_f(r),Wa);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Qt(s)}}const Ck=5;function Pv(e,t,n){const r=Math.max(t-Ck,0);return lv(n-e(r),t-r)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vc=.001;function Ek({duration:e=_e.duration,bounce:t=_e.bounce,velocity:n=_e.velocity,mass:r=_e.mass}){let s,i,o=1-t;o=bn(_e.minDamping,_e.maxDamping,o),e=bn(_e.minDuration,_e.maxDuration,Qt(e)),o<1?(s=c=>{const u=c*o,f=u*e,h=u-n,p=Vu(c,o),v=Math.exp(-f);return vc-h/p*v},i=c=>{const f=c*o*e,h=f*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,v=Math.exp(-f),x=Vu(Math.pow(c,2),o);return(-s(c)+vc>0?-1:1)*((h-p)*v)/x}):(s=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-vc+u*f},i=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const a=5/e,l=Pk(s,i,a);if(e=Zt(e),isNaN(l))return{stiffness:_e.stiffness,damping:_e.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const Ik=12;function Pk(e,t,n){let r=n;for(let s=1;s<Ik;s++)r=r-e(r)/t(r);return r}function Vu(e,t){return e*Math.sqrt(1-t*t)}const Nk=["duration","bounce"],Ak=["stiffness","damping","mass"];function jp(e,t){return t.some(n=>e[n]!==void 0)}function Mk(e){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...e};if(!jp(e,Ak)&&jp(e,Nk))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*bn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:_e.mass,stiffness:s,damping:i}}else{const n=Ek(e);t={...t,...n,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function Ga(e=_e.visualDuration,t=_e.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Mk({...n,velocity:-Qt(n.velocity||0)}),v=h||0,x=c/(2*Math.sqrt(l*u)),b=o-i,m=Qt(Math.sqrt(l/u)),g=Math.abs(b)<5;r||(r=g?_e.restSpeed.granular:_e.restSpeed.default),s||(s=g?_e.restDelta.granular:_e.restDelta.default);let y;if(x<1){const k=Vu(m,x);y=T=>{const C=Math.exp(-x*m*T);return o-C*((v+x*m*b)/k*Math.sin(k*T)+b*Math.cos(k*T))}}else if(x===1)y=k=>o-Math.exp(-m*k)*(b+(v+m*b)*k);else{const k=m*Math.sqrt(x*x-1);y=T=>{const C=Math.exp(-x*m*T),_=Math.min(k*T,300);return o-C*((v+x*m*b)*Math.sinh(_)+k*b*Math.cosh(_))/k}}const S={calculatedDuration:p&&f||null,next:k=>{const T=y(k);if(p)a.done=k>=f;else{let C=k===0?v:0;x<1&&(C=k===0?Zt(v):Pv(y,k,T));const _=Math.abs(C)<=r,A=Math.abs(o-T)<=s;a.done=_&&A}return a.value=a.done?o:T,a},toString:()=>{const k=Math.min(_f(S),Wa),T=Iv(C=>S.next(k*C).value,k,30);return k+"ms "+T},toTransition:()=>{}};return S}Ga.applyToOptions=e=>{const t=_k(e,100,Ga);return e.ease=t.ease,e.duration=Zt(t.duration),e.type="keyframes",e};function Uu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=_=>a!==void 0&&_<a||l!==void 0&&_>l,v=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let x=n*t;const b=f+x,m=o===void 0?b:o(b);m!==b&&(x=m-f);const g=_=>-x*Math.exp(-_/r),y=_=>m+g(_),S=_=>{const A=g(_),E=y(_);h.done=Math.abs(A)<=c,h.value=h.done?m:E};let k,T;const C=_=>{p(h.value)&&(k=_,T=Ga({keyframes:[h.value,v(h.value)],velocity:Pv(y,_,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:_=>{let A=!1;return!T&&k===void 0&&(A=!0,S(_),C(_)),k!==void 0&&_>=k?T.next(_-k):(!A&&S(_),h)}}}function Rk(e,t,n){const r=[],s=n||kn.mix||Ev,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ct:t;a=ho(l,a)}r.push(a)}return r}function jk(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(mf(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Rk(t,r,s),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Zi(e[f],e[f+1],u);return a[f](h)};return n?u=>c(bn(e[0],e[i-1],u)):c}function Lk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Zi(0,t,r);e.push(we(n,1,s))}}function Dk(e){const t=[0];return Lk(t,e.length-1),t}function Ok(e,t){return e.map(n=>n*t)}function Vk(e,t){return e.map(()=>t||yv).splice(0,e.length-1)}function _i({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Yb(r)?r.map(Ip):Ip(r),i={done:!1,value:t[0]},o=Ok(n&&n.length===t.length?n:Dk(t),e),a=jk(o,t,{ease:Array.isArray(s)?s:Vk(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Uk=e=>e!==null;function Cf(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Uk),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Fk={decay:Uu,inertia:Uu,tween:_i,keyframes:_i,spring:Ga};function Nv(e){typeof e.type=="string"&&(e.type=Fk[e.type])}class Ef{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const $k=e=>e/100;class If extends Ef{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,s;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==ot.now()&&this.tick(ot.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Nv(t);const{type:n=_i,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||_i;l!==_i&&typeof a[0]!="number"&&(this.mixKeyframes=ho($k,Ev(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=_f(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:v,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-c*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,S=r;if(f){const _=Math.min(this.currentTime,s)/a;let A=Math.floor(_),E=_%1;!E&&_>=1&&(E=1),E===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(E=1-E,p&&(E-=p/a)):h==="mirror"&&(S=o)),y=bn(0,1,E)*a}const k=g?{done:!1,value:u[0]}:S.next(y);i&&(k.value=i(k.value));let{done:T}=k;!g&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&v!==Uu&&(k.value=Cf(u,this.options,b,this.speed)),x&&x(k.value),C&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Qt(this.calculatedDuration)}get time(){return Qt(this.currentTime)}set time(t){var n;t=Zt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ot.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=Tk,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Bk(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Pr=e=>e*180/Math.PI,Fu=e=>{const t=Pr(Math.atan2(e[1],e[0]));return $u(t)},zk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Fu,rotateZ:Fu,skewX:e=>Pr(Math.atan(e[1])),skewY:e=>Pr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$u=e=>(e=e%360,e<0&&(e+=360),e),Lp=Fu,Dp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Op=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Hk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dp,scaleY:Op,scale:e=>(Dp(e)+Op(e))/2,rotateX:e=>$u(Pr(Math.atan2(e[6],e[5]))),rotateY:e=>$u(Pr(Math.atan2(-e[2],e[0]))),rotateZ:Lp,rotate:Lp,skewX:e=>Pr(Math.atan(e[4])),skewY:e=>Pr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Bu(e){return e.includes("scale")?1:0}function zu(e,t){if(!e||e==="none")return Bu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Hk,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zk,s=a}if(!s)return Bu(t);const i=r[t],o=s[1].split(",").map(Gk);return typeof i=="function"?i(o):o[i]}const Wk=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return zu(n,t)};function Gk(e){return parseFloat(e.trim())}const Hs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ws=(()=>new Set(Hs))(),Vp=e=>e===zs||e===$,Kk=new Set(["x","y","z"]),qk=Hs.filter(e=>!Kk.has(e));function Yk(e){const t=[];return qk.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Rr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>zu(t,"x"),y:(e,{transform:t})=>zu(t,"y")};Rr.translateX=Rr.x;Rr.translateY=Rr.y;const jr=new Set;let Hu=!1,Wu=!1,Gu=!1;function Av(){if(Wu){const e=Array.from(jr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Yk(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wu=!1,Hu=!1,jr.forEach(e=>e.complete(Gu)),jr.clear()}function Mv(){jr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wu=!0)})}function Xk(){Gu=!0,Mv(),Av(),Gu=!1}class Pf{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(jr.add(this),Hu||(Hu=!0,ve.read(Mv),ve.resolveKeyframes(Av))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Bk(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jr.delete(this)}cancel(){this.state==="scheduled"&&(jr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zk=e=>e.startsWith("--");function Qk(e,t,n){Zk(t)?e.style.setProperty(t,n):e.style[t]=n}const Jk=gf(()=>window.ScrollTimeline!==void 0),eT={};function tT(e,t){const n=gf(e);return()=>eT[t]??n()}const Rv=tT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pi=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Up={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pi([0,.65,.55,1]),circOut:pi([.55,0,1,.45]),backIn:pi([.31,.01,.66,-.59]),backOut:pi([.33,1.53,.69,.99])};function jv(e,t){if(e)return typeof e=="function"?Rv()?Iv(e,t):"ease-out":vv(e)?pi(e):Array.isArray(e)?e.map(n=>jv(n,t)||Up.easeOut):Up[e]}function nT(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const f=jv(a,s);Array.isArray(f)&&(u.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Lv(e){return typeof e=="function"&&"applyToOptions"in e}function rT({type:e,...t}){return Lv(e)&&Rv()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class sT extends Ef{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,mf(typeof t.type!="string");const c=rT(t);this.animation=nT(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Cf(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):Qk(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qt(Number(t))}get time(){return Qt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Zt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Jk()?(this.animation.timeline=t,Ct):n(this)}}const Dv={anticipate:pv,backInOut:hv,circInOut:gv};function iT(e){return e in Dv}function oT(e){typeof e.ease=="string"&&iT(e.ease)&&(e.ease=Dv[e.ease])}const Fp=10;class aT extends sT{constructor(t){oT(t),Nv(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new If({...o,autoplay:!1}),l=Zt(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Fp).value,a.sample(l).value,Fp),a.stop()}}const $p=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hr.test(e)||e==="0")&&!e.startsWith("url("));function lT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function cT(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=$p(s,t),a=$p(i,t);return!o||!a?!1:lT(e)||(n==="spring"||Lv(n))&&r}function Nf(e){return ov(e)&&"offsetHeight"in e}const uT=new Set(["opacity","clipPath","filter","transform"]),dT=gf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fT(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!Nf((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return dT()&&n&&uT.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const hT=40;class pT extends Ef{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...f}){var v;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ot.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||Pf;this.keyframeResolver=new p(a,(x,b,m)=>this.onKeyframesResolved(x,b,h,!m),l,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=ot.now(),cT(t,i,o,a)||((kn.instantAnimations||!l)&&(u==null||u(Cf(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>hT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!c&&fT(h)?new aT({...h,element:h.motionValue.owner.current}):new If(h);p.finished.then(()=>this.notifyFinished()).catch(Ct),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Xk()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const mT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gT(e){const t=mT.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Ov(e,t,n=1){const[r,s]=gT(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return iv(o)?parseFloat(o):o}return Sf(s)?Ov(s,t,n+1):s}function Af(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Vv=new Set(["width","height","top","left","right","bottom",...Hs]),yT={test:e=>e==="auto",parse:e=>e},Uv=e=>t=>t.test(e),Fv=[zs,$,Jt,Un,lk,ak,yT],Bp=e=>Fv.find(Uv(e));function vT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||av(e):!0}const xT=new Set(["brightness","contrast","saturate","opacity"]);function wT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(bf)||[];if(!r)return e;const s=n.replace(r,"");let i=xT.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ST=/\b([a-z-]*)\(.*?\)/gu,Ku={...hr,getAnimatableNone:e=>{const t=e.match(ST);return t?t.map(wT).join(" "):e}},zp={...zs,transform:Math.round},bT={rotate:Un,rotateX:Un,rotateY:Un,rotateZ:Un,scale:Go,scaleX:Go,scaleY:Go,scaleZ:Go,skew:Un,skewX:Un,skewY:Un,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Qi,originX:Np,originY:Np,originZ:$},Mf={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$,...bT,zIndex:zp,fillOpacity:Qi,strokeOpacity:Qi,numOctaves:zp},kT={...Mf,color:Ke,backgroundColor:Ke,outlineColor:Ke,fill:Ke,stroke:Ke,borderColor:Ke,borderTopColor:Ke,borderRightColor:Ke,borderBottomColor:Ke,borderLeftColor:Ke,filter:Ku,WebkitFilter:Ku},$v=e=>kT[e];function Bv(e,t){let n=$v(e);return n!==Ku&&(n=hr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const TT=new Set(["auto","none","0"]);function _T(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!TT.has(i)&&Ji(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Bv(n,s)}class CT extends Pf{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Sf(c))){const u=Ov(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Vv.has(r)||t.length!==2)return;const[s,i]=t,o=Bp(s),a=Bp(i);if(o!==a)if(Vp(o)&&Vp(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Rr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||vT(t[s]))&&r.push(s);r.length&&_T(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Rr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ET(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Hp=30,IT=e=>!isNaN(parseFloat(e));class PT{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=ot.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ot.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=IT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yf);const r=this.events[t].add(n);return t==="change"?()=>{r(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hp);return lv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rs(e,t){return new PT(e,t)}const zv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Rf,cancel:Mj}=xv(queueMicrotask,!1),At={x:!1,y:!1};function Hv(){return At.x||At.y}function NT(e){return e==="x"||e==="y"?At[e]?null:(At[e]=!0,()=>{At[e]=!1}):At.x||At.y?null:(At.x=At.y=!0,()=>{At.x=At.y=!1})}function Wv(e,t){const n=ET(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Wp(e){return!(e.pointerType==="touch"||Hv())}function AT(e,t,n={}){const[r,s,i]=Wv(e,n),o=a=>{if(!Wp(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=f=>{Wp(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Gv=(e,t)=>t?e===t?!0:Gv(e,t.parentElement):!1,jf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,MT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RT(e){return MT.has(e.tagName)||e.tabIndex!==-1}const ha=new WeakSet;function Gp(e){return t=>{t.key==="Enter"&&e(t)}}function xc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const jT=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Gp(()=>{if(ha.has(n))return;xc(n,"down");const s=Gp(()=>{xc(n,"up")}),i=()=>xc(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Kp(e){return jf(e)&&!Hv()}function LT(e,t,n={}){const[r,s,i]=Wv(e,n),o=a=>{const l=a.currentTarget;if(!Kp(a))return;ha.add(l);const c=t(l,a),u=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),ha.has(l)&&ha.delete(l),Kp(p)&&typeof c=="function"&&c(p,{success:v})},f=p=>{u(p,l===window||l===document||n.useGlobalTarget||Gv(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Nf(a)&&(a.addEventListener("focus",c=>jT(c,s)),!RT(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Kv(e){return ov(e)&&"ownerSVGElement"in e}function DT(e){return Kv(e)&&e.tagName==="svg"}const Xe=e=>!!(e&&e.getVelocity),OT=[...Fv,Ke,hr],VT=e=>OT.find(Uv(e)),Lf=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class UT extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Nf(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FT({children:e,isPresent:t,anchorX:n}){const r=w.useId(),s=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(Lf);return w.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:f}=i.current;if(t||!s.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${f}`;s.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),d.jsx(UT,{isPresent:t,childRef:s,sizeRef:i,children:w.cloneElement(e,{ref:s})})}const $T=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=uf(BT),c=w.useId();let u=!0,f=w.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return i&&u&&(f={...f}),w.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=d.jsx(FT,{isPresent:n,anchorX:a,children:e})),d.jsx(Tl.Provider,{value:f,children:e})};function BT(){return new Map}function qv(e=!0){const t=w.useContext(Tl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=w.useId();w.useEffect(()=>{if(e)return s(i)},[e]);const o=w.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Ko=e=>e.key||"";function qp(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const Tn=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=qv(o),u=w.useMemo(()=>qp(e),[e]),f=o&&!l?[]:u.map(Ko),h=w.useRef(!0),p=w.useRef(u),v=uf(()=>new Map),[x,b]=w.useState(u),[m,g]=w.useState(u);ff(()=>{h.current=!1,p.current=u;for(let k=0;k<m.length;k++){const T=Ko(m[k]);f.includes(T)?v.delete(T):v.get(T)!==!0&&v.set(T,!1)}},[m,f.length,f.join("-")]);const y=[];if(u!==x){let k=[...u];for(let T=0;T<m.length;T++){const C=m[T],_=Ko(C);f.includes(_)||(k.splice(T,0,C),y.push(C))}return i==="wait"&&y.length&&(k=y),g(qp(k)),b(u),null}const{forceRender:S}=w.useContext(Xi);return d.jsx(d.Fragment,{children:m.map(k=>{const T=Ko(k),C=o&&!l?!1:u===m||f.includes(T),_=()=>{if(v.has(T))v.set(T,!0);else return;let A=!0;v.forEach(E=>{E||(A=!1)}),A&&(S==null||S(),g(p.current),o&&(c==null||c()),r&&r())};return d.jsx($T,{isPresent:C,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:_,anchorX:a,children:k},T)})})},zT=w.createContext(null);function HT(){const e=w.useRef(!1);return ff(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function WT(){const e=HT(),[t,n]=w.useState(0),r=w.useCallback(()=>{e.current&&n(t+1)},[t]);return[w.useCallback(()=>ve.postRender(r),[r]),t]}const GT=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Yp(){const e=new Set,t=new WeakMap,n=()=>e.forEach(GT);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const s=t.get(r);s&&(s(),t.delete(r)),n()},dirty:n}}const Yv=e=>e===!0,KT=e=>Yv(e===!0)||e==="id",qT=({children:e,id:t,inherit:n=!0})=>{const r=w.useContext(Xi),s=w.useContext(zT),[i,o]=WT(),a=w.useRef(null),l=r.id||s;a.current===null&&(KT(n)&&l&&(t=t?l+"-"+t:l),a.current={id:t,group:Yv(n)&&r.group||Yp()});const c=w.useMemo(()=>({...a.current,forceRender:i}),[o]);return d.jsx(Xi.Provider,{value:c,children:e})},Xv=w.createContext({strict:!1}),Xp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},js={};for(const e in Xp)js[e]={isEnabled:t=>Xp[e].some(n=>!!t[n])};function YT(e){for(const t in e)js[t]={...js[t],...e[t]}}const XT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ka(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XT.has(e)}let Zv=e=>!Ka(e);function ZT(e){e&&(Zv=t=>t.startsWith("on")?!Ka(t):e(t))}try{ZT(require("@emotion/is-prop-valid").default)}catch{}function QT(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Zv(s)||n===!0&&Ka(s)||!t&&!Ka(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function JT(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const _l=w.createContext({});function Cl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function eo(e){return typeof e=="string"||Array.isArray(e)}const Df=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Of=["initial",...Df];function El(e){return Cl(e.animate)||Of.some(t=>eo(e[t]))}function Qv(e){return!!(El(e)||e.variants)}function e_(e,t){if(El(e)){const{initial:n,animate:r}=e;return{initial:n===!1||eo(n)?n:void 0,animate:eo(r)?r:void 0}}return e.inherit!==!1?t:{}}function t_(e){const{initial:t,animate:n}=e_(e,w.useContext(_l));return w.useMemo(()=>({initial:t,animate:n}),[Zp(t),Zp(n)])}function Zp(e){return Array.isArray(e)?e.join(" "):e}const n_=Symbol.for("motionComponentSymbol");function us(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function r_(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):us(n)&&(n.current=r))},[t])}const Vf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),s_="framerAppearId",Jv="data-"+Vf(s_),ex=w.createContext({});function i_(e,t,n,r,s){var x,b;const{visualElement:i}=w.useContext(_l),o=w.useContext(Xv),a=w.useContext(Tl),l=w.useContext(Lf).reducedMotion,c=w.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=w.useContext(ex);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&o_(c.current,n,s,f);const h=w.useRef(!1);w.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const p=n[Jv],v=w.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return ff(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Rf.render(u.render),v.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,p)}),v.current=!1))}),u}function o_(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tx(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&us(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function tx(e){if(e)return e.options.allowProjection!==!1?e.projection:tx(e.parent)}function a_({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&YT(e);function i(a,l){let c;const u={...w.useContext(Lf),...a,layoutId:l_(a)},{isStatic:f}=u,h=t_(a),p=r(a,f);if(!f&&df){c_();const v=u_(u);c=v.MeasureLayout,h.visualElement=i_(s,p,u,t,v.ProjectionNode)}return d.jsxs(_l.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,n(s,a,r_(p,h.visualElement,l),p,f,h.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=w.forwardRef(i);return o[n_]=s,o}function l_({layoutId:e}){const t=w.useContext(Xi).id;return t&&e!==void 0?t+"-"+e:e}function c_(e,t){w.useContext(Xv).strict}function u_(e){const{drag:t,layout:n}=js;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const to={};function d_(e){for(const t in e)to[t]=e[t],wf(t)&&(to[t].isCSSVariable=!0)}function nx(e,{layout:t,layoutId:n}){return Ws.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!to[e]||e==="opacity")}const f_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h_=Hs.length;function p_(e,t,n){let r="",s=!0;for(let i=0;i<h_;i++){const o=Hs[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=zv(a,Mf[o]);if(!l){s=!1;const u=f_[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Uf(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Ws.has(l)){o=!0;continue}else if(wf(l)){s[l]=c;continue}else{const u=zv(c,Mf[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=p_(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const Ff=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rx(e,t,n){for(const r in t)!Xe(t[r])&&!nx(r,n)&&(e[r]=t[r])}function m_({transformTemplate:e},t){return w.useMemo(()=>{const n=Ff();return Uf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function g_(e,t){const n=e.style||{},r={};return rx(r,n,e),Object.assign(r,m_(e,t)),r}function y_(e,t){const n={},r=g_(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const v_={offset:"stroke-dashoffset",array:"stroke-dasharray"},x_={offset:"strokeDashoffset",array:"strokeDasharray"};function w_(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?v_:x_;e[i.offset]=$.transform(-r);const o=$.transform(t),a=$.transform(n);e[i.array]=`${o} ${a}`}function sx(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(Uf(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&w_(f,s,i,o,!1)}const ix=()=>({...Ff(),attrs:{}}),ox=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S_(e,t,n,r){const s=w.useMemo(()=>{const i=ix();return sx(i,t,ox(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};rx(i,e.style,e),s.style={...i,...s.style}}return s}const b_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $f(e){return typeof e!="string"||e.includes("-")?!1:!!(b_.indexOf(e)>-1||/[A-Z]/u.test(e))}function k_(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=($f(n)?S_:y_)(r,i,o,n),c=QT(r,typeof n=="string",e),u=n!==w.Fragment?{...c,...l,ref:s}:{},{children:f}=r,h=w.useMemo(()=>Xe(f)?f.get():f,[f]);return w.createElement(n,{...u,children:h})}}function Qp(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Bf(e,t,n,r){if(typeof t=="function"){const[s,i]=Qp(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Qp(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function pa(e){return Xe(e)?e.get():e}function T_({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:__(n,r,s,e),renderState:t()}}const ax=e=>(t,n)=>{const r=w.useContext(_l),s=w.useContext(Tl),i=()=>T_(e,t,r,s);return n?i():uf(i)};function __(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=pa(i[h]);let{initial:o,animate:a}=e;const l=El(e),c=Qv(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!Cl(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=Bf(e,h[p]);if(v){const{transitionEnd:x,transition:b,...m}=v;for(const g in m){let y=m[g];if(Array.isArray(y)){const S=u?y.length-1:0;y=y[S]}y!==null&&(s[g]=y)}for(const g in x)s[g]=x[g]}}}return s}function zf(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Xe(r[o])||t.style&&Xe(t.style[o])||nx(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const C_={useVisualState:ax({scrapeMotionValuesFromProps:zf,createRenderState:Ff})};function lx(e,t,n){const r=zf(e,t,n);for(const s in e)if(Xe(e[s])||Xe(t[s])){const i=Hs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const E_={useVisualState:ax({scrapeMotionValuesFromProps:lx,createRenderState:ix})};function I_(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...$f(r)?E_:C_,preloadedFeatures:e,useRender:k_(s),createVisualElement:t,Component:r};return a_(o)}}function no(e,t,n){const r=e.getProps();return Bf(r,t,n!==void 0?n:r.custom,e)}const qu=e=>Array.isArray(e);function P_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Rs(n))}function N_(e){return qu(e)?e[e.length-1]||0:e}function A_(e,t){const n=no(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=N_(i[o]);P_(e,o,a)}}function M_(e){return!!(Xe(e)&&e.add)}function Yu(e,t){const n=e.getValue("willChange");if(M_(n))return n.add(t);if(!n&&kn.WillChange){const r=new kn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function cx(e){return e.props[Jv]}const R_=e=>e!==null;function j_(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(R_),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const L_={type:"spring",stiffness:500,damping:25,restSpeed:10},D_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),O_={type:"keyframes",duration:.8},V_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U_=(e,{keyframes:t})=>t.length>2?O_:Ws.has(e)?e.startsWith("scale")?D_(t[1]):L_:V_;function F_({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Hf=(e,t,n,r={},s,i)=>o=>{const a=Af(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Zt(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};F_(a)||Object.assign(u,U_(e,u)),u.duration&&(u.duration=Zt(u.duration)),u.repeatDelay&&(u.repeatDelay=Zt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(kn.instantAnimations||kn.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,f&&!i&&t.get()!==void 0){const h=j_(u.keyframes,a);if(h!==void 0){ve.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new If(u):new pT(u)};function $_({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ux(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){const f=e.getValue(u,e.latestValues[u]??null),h=a[u];if(h===void 0||c&&$_(c,u))continue;const p={delay:n,...Af(i||{},u)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const m=cx(e);if(m){const g=window.MotionHandoffAnimation(m,u,ve);g!==null&&(p.startTime=g,x=!0)}}Yu(e,u),f.start(Hf(u,f,h,e.shouldReduceMotion&&Vv.has(u)?{type:!1}:p,e,x));const b=f.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{ve.update(()=>{o&&A_(e,o)})}),l}function Xu(e,t,n={}){var l;const r=no(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(ux(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=s;return B_(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function B_(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(z_).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Xu(c,t,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function z_(e,t){return e.sortNodePosition(t)}function H_(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Xu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Xu(e,t,n);else{const s=typeof t=="function"?no(e,t,n.custom):t;r=Promise.all(ux(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function dx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const W_=Of.length;function fx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<W_;n++){const r=Of[n],s=e.props[r];(eo(s)||s===!1)&&(t[r]=s)}return t}const G_=[...Df].reverse(),K_=Df.length;function q_(e){return t=>Promise.all(t.map(({animation:n,options:r})=>H_(e,n,r)))}function Y_(e){let t=q_(e),n=Jp(),r=!0;const s=l=>(c,u)=>{var h;const f=no(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:v,...x}=f;c={...c,...x,...v}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,u=fx(e.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let b=0;b<K_;b++){const m=G_[b],g=n[m],y=c[m]!==void 0?c[m]:u[m],S=eo(y),k=m===l?g.isActive:null;k===!1&&(v=b);let T=y===u[m]&&y!==c[m]&&S;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...p},!g.isActive&&k===null||!y&&!g.prevProp||Cl(y)||typeof y=="boolean")continue;const C=X_(g.prevProp,y);let _=C||m===l&&g.isActive&&!T&&S||b>v&&S,A=!1;const E=Array.isArray(y)?y:[y];let O=E.reduce(s(m),{});k===!1&&(O={});const{prevResolvedValues:ee={}}=g,Y={...ee,...O},de=W=>{_=!0,h.has(W)&&(A=!0,h.delete(W)),g.needsAnimating[W]=!0;const N=e.getValue(W);N&&(N.liveStyle=!1)};for(const W in Y){const N=O[W],R=ee[W];if(p.hasOwnProperty(W))continue;let V=!1;qu(N)&&qu(R)?V=!dx(N,R):V=N!==R,V?N!=null?de(W):h.add(W):N!==void 0&&h.has(W)?de(W):g.protectedKeys[W]=!0}g.prevProp=y,g.prevResolvedValues=O,g.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(_=!1),_&&(!(T&&C)||A)&&f.push(...E.map(W=>({animation:W,options:{type:m}})))}if(h.size){const b={};if(typeof c.initial!="boolean"){const m=no(e,Array.isArray(c.initial)?c.initial[0]:c.initial);m&&m.transition&&(b.transition=m.transition)}h.forEach(m=>{const g=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),b[m]=g??null}),f.push({animation:b})}let x=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Jp(),r=!0}}}function X_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dx(t,e):!1}function wr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jp(){return{animate:wr(!0),whileInView:wr(),whileHover:wr(),whileTap:wr(),whileDrag:wr(),whileFocus:wr(),exit:wr()}}class yr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Z_ extends yr{constructor(t){super(t),t.animationState||(t.animationState=Y_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Q_=0;class J_ extends yr{constructor(){super(...arguments),this.id=Q_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const e2={animation:{Feature:Z_},exit:{Feature:J_}};function ro(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function go(e){return{point:{x:e.pageX,y:e.pageY}}}const t2=e=>t=>jf(t)&&e(t,go(t));function Ci(e,t,n,r){return ro(e,t,t2(n),r)}function hx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function n2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function r2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const px=1e-4,s2=1-px,i2=1+px,mx=.01,o2=0-mx,a2=0+mx;function Je(e){return e.max-e.min}function l2(e,t,n){return Math.abs(e-t)<=n}function em(e,t,n,r=.5){e.origin=r,e.originPoint=we(t.min,t.max,e.origin),e.scale=Je(n)/Je(t),e.translate=we(n.min,n.max,e.origin)-e.originPoint,(e.scale>=s2&&e.scale<=i2||isNaN(e.scale))&&(e.scale=1),(e.translate>=o2&&e.translate<=a2||isNaN(e.translate))&&(e.translate=0)}function Ei(e,t,n,r){em(e.x,t.x,n.x,r?r.originX:void 0),em(e.y,t.y,n.y,r?r.originY:void 0)}function tm(e,t,n){e.min=n.min+t.min,e.max=e.min+Je(t)}function c2(e,t,n){tm(e.x,t.x,n.x),tm(e.y,t.y,n.y)}function nm(e,t,n){e.min=t.min-n.min,e.max=e.min+Je(t)}function Ii(e,t,n){nm(e.x,t.x,n.x),nm(e.y,t.y,n.y)}const rm=()=>({translate:0,scale:1,origin:0,originPoint:0}),ds=()=>({x:rm(),y:rm()}),sm=()=>({min:0,max:0}),Ee=()=>({x:sm(),y:sm()});function wt(e){return[e("x"),e("y")]}function wc(e){return e===void 0||e===1}function Zu({scale:e,scaleX:t,scaleY:n}){return!wc(e)||!wc(t)||!wc(n)}function kr(e){return Zu(e)||gx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gx(e){return im(e.x)||im(e.y)}function im(e){return e&&e!=="0%"}function qa(e,t,n){const r=e-n,s=t*r;return n+s}function om(e,t,n,r,s){return s!==void 0&&(e=qa(e,s,r)),qa(e,n,r)+t}function Qu(e,t=0,n=1,r,s){e.min=om(e.min,t,n,r,s),e.max=om(e.max,t,n,r,s)}function yx(e,{x:t,y:n}){Qu(e.x,t.translate,t.scale,t.originPoint),Qu(e.y,n.translate,n.scale,n.originPoint)}const am=.999999999999,lm=1.0000000000001;function u2(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,yx(e,o)),r&&kr(i.latestValues)&&hs(e,i.latestValues))}t.x<lm&&t.x>am&&(t.x=1),t.y<lm&&t.y>am&&(t.y=1)}function fs(e,t){e.min=e.min+t,e.max=e.max+t}function cm(e,t,n,r,s=.5){const i=we(e.min,e.max,s);Qu(e,t,n,i,r)}function hs(e,t){cm(e.x,t.x,t.scaleX,t.scale,t.originX),cm(e.y,t.y,t.scaleY,t.scale,t.originY)}function vx(e,t){return hx(r2(e.getBoundingClientRect(),t))}function d2(e,t,n){const r=vx(e,n),{scroll:s}=t;return s&&(fs(r.x,s.offset.x),fs(r.y,s.offset.y)),r}const xx=({current:e})=>e?e.ownerDocument.defaultView:null,um=(e,t)=>Math.abs(e-t);function f2(e,t){const n=um(e.x,t.x),r=um(e.y,t.y);return Math.sqrt(n**2+r**2)}class wx{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=bc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=f2(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:x}=Fe;this.history.push({...v,timestamp:x});const{onStart:b,onMove:m}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Sc(h,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=bc(f.type==="pointercancel"?this.lastMoveEventInfo:Sc(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),v&&v(f,b)},!jf(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=go(t),a=Sc(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Fe;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,bc(a,this.history)),this.removeListeners=ho(Ci(this.contextWindow,"pointermove",this.handlePointerMove),Ci(this.contextWindow,"pointerup",this.handlePointerUp),Ci(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fr(this.updatePoint)}}function Sc(e,t){return t?{point:t(e.point)}:e}function dm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bc({point:e},t){return{point:e,delta:dm(e,Sx(t)),offset:dm(e,h2(t)),velocity:p2(t,.1)}}function h2(e){return e[0]}function Sx(e){return e[e.length-1]}function p2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Sx(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Zt(t)));)n--;if(!r)return{x:0,y:0};const i=Qt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function m2(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?we(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?we(n,e,r.max):Math.min(e,n)),e}function fm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function g2(e,{top:t,left:n,bottom:r,right:s}){return{x:fm(e.x,n,s),y:fm(e.y,t,r)}}function hm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function y2(e,t){return{x:hm(e.x,t.x),y:hm(e.y,t.y)}}function v2(e,t){let n=.5;const r=Je(e),s=Je(t);return s>r?n=Zi(t.min,t.max-r,e.min):r>s&&(n=Zi(e.min,e.max-s,t.min)),bn(0,1,n)}function x2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ju=.35;function w2(e=Ju){return e===!1?e=0:e===!0&&(e=Ju),{x:pm(e,"left","right"),y:pm(e,"top","bottom")}}function pm(e,t,n){return{min:mm(e,t),max:mm(e,n)}}function mm(e,t){return typeof e=="number"?e:e[t]||0}const S2=new WeakMap;class b2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(go(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NT(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wt(b=>{let m=this.getAxisMotionValue(b).get()||0;if(Jt.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[b];y&&(m=Je(y)*(parseFloat(m)/100))}}this.originPoint[b]=m}),v&&ve.postRender(()=>v(u,f)),Yu(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=k2(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),x&&x(u,f)},a=(u,f)=>this.stop(u,f),l=()=>wt(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new wx(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:xx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ve.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!qo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=m2(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&us(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=g2(r.layoutBox,t):this.constraints=!1,this.elastic=w2(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=x2(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!us(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=d2(r,s.root,this.visualElement.getTransformPagePoint());let o=y2(s.layout.layoutBox,i);if(n){const a=n(n2(o));this.hasMutatedConstraints=!!a,a&&(o=hx(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=wt(u=>{if(!qo(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Yu(this.visualElement,t),r.start(Hf(t,r,0,n,this.visualElement,!1))}stopAnimation(){wt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){wt(n=>{const{drag:r}=this.getProps();if(!qo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-we(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!us(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=v2({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wt(o=>{if(!qo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(we(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;S2.set(this.visualElement,this);const t=this.visualElement.current,n=Ci(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();us(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ve.read(r);const o=ro(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(wt(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ju,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function qo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function k2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class T2 extends yr{constructor(t){super(t),this.removeGroupControls=Ct,this.removeListeners=Ct,this.controls=new b2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const gm=e=>(t,n)=>{e&&ve.postRender(()=>e(t,n))};class _2 extends yr{constructor(){super(...arguments),this.removePointerDownListener=Ct}onPointerDown(t){this.session=new wx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:gm(t),onStart:gm(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ve.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ci(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ma={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ym(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ci={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=ym(e,t.target.x),r=ym(e,t.target.y);return`${n}% ${r}%`}},C2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=hr.parse(e);if(s.length>5)return r;const i=hr.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=we(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class E2 extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;d_(I2),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ma.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Rf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bx(e){const[t,n]=qv(),r=w.useContext(Xi);return d.jsx(E2,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(ex),isPresent:t,safeToRemove:n})}const I2={borderRadius:{...ci,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ci,borderTopRightRadius:ci,borderBottomLeftRadius:ci,borderBottomRightRadius:ci,boxShadow:C2};function P2(e,t,n){const r=Xe(e)?e:Rs(e);return r.start(Hf("",r,t,n)),r.animation}const N2=(e,t)=>e.depth-t.depth;class A2{constructor(){this.children=[],this.isDirty=!1}add(t){hf(this.children,t),this.isDirty=!0}remove(t){pf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(N2),this.isDirty=!1,this.children.forEach(t)}}function M2(e,t){const n=ot.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(fr(r),e(i-t))};return ve.setup(r,!0),()=>fr(r)}const kx=["TopLeft","TopRight","BottomLeft","BottomRight"],R2=kx.length,vm=e=>typeof e=="string"?parseFloat(e):e,xm=e=>typeof e=="number"||$.test(e);function j2(e,t,n,r,s,i){s?(e.opacity=we(0,n.opacity??1,L2(r)),e.opacityExit=we(t.opacity??1,0,D2(r))):i&&(e.opacity=we(t.opacity??1,n.opacity??1,r));for(let o=0;o<R2;o++){const a=`border${kx[o]}Radius`;let l=wm(t,a),c=wm(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||xm(l)===xm(c)?(e[a]=Math.max(we(vm(l),vm(c),r),0),(Jt.test(c)||Jt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=we(t.rotate||0,n.rotate||0,r))}function wm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const L2=Tx(0,.5,mv),D2=Tx(.5,.95,Ct);function Tx(e,t,n){return r=>r<e?0:r>t?1:n(Zi(e,t,r))}function Sm(e,t){e.min=t.min,e.max=t.max}function xt(e,t){Sm(e.x,t.x),Sm(e.y,t.y)}function bm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function km(e,t,n,r,s){return e-=t,e=qa(e,1/n,r),s!==void 0&&(e=qa(e,1/s,r)),e}function O2(e,t=0,n=1,r=.5,s,i=e,o=e){if(Jt.test(t)&&(t=parseFloat(t),t=we(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=we(i.min,i.max,r);e===i&&(a-=t),e.min=km(e.min,t,n,a,s),e.max=km(e.max,t,n,a,s)}function Tm(e,t,[n,r,s],i,o){O2(e,t[n],t[r],t[s],t.scale,i,o)}const V2=["x","scaleX","originX"],U2=["y","scaleY","originY"];function _m(e,t,n,r){Tm(e.x,t,V2,n?n.x:void 0,r?r.x:void 0),Tm(e.y,t,U2,n?n.y:void 0,r?r.y:void 0)}function Cm(e){return e.translate===0&&e.scale===1}function _x(e){return Cm(e.x)&&Cm(e.y)}function Em(e,t){return e.min===t.min&&e.max===t.max}function F2(e,t){return Em(e.x,t.x)&&Em(e.y,t.y)}function Im(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Cx(e,t){return Im(e.x,t.x)&&Im(e.y,t.y)}function Pm(e){return Je(e.x)/Je(e.y)}function Nm(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $2{constructor(){this.members=[]}add(t){hf(this.members,t),t.scheduleRender()}remove(t){if(pf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B2(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const kc=["","X","Y","Z"],z2={visibility:"hidden"},H2=1e3;let W2=0;function Tc(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ex(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=cx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ex(r)}function Ix({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=W2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(q2),this.nodes.forEach(J2),this.nodes.forEach(eC),this.nodes.forEach(Y2)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new A2)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yf),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Kv(o)&&!DT(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=M2(f,250),ma.hasAnimatedSinceResize&&(ma.hasAnimatedSinceResize=!1,this.nodes.forEach(Mm))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||iC,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=c.getProps(),m=!this.targetLayout||!Cx(this.targetLayout,p),g=!f&&h;if(this.options.layoutRoot||this.resumeFrom||g||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,g);const y={...Af(v,"layout"),onPlay:x,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else f||Mm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ex(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Am);return}this.isUpdating||this.nodes.forEach(Z2),this.isUpdating=!1,this.nodes.forEach(Q2),this.nodes.forEach(G2),this.nodes.forEach(K2),this.clearAllSnapshots();const a=ot.now();Fe.delta=bn(0,1e3/60,a-Fe.timestamp),Fe.timestamp=a,Fe.isProcessing=!0,pc.update.process(Fe),pc.preRender.process(Fe),pc.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X2),this.sharedNodes.forEach(nC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Je(this.snapshot.measuredBox.x)&&!Je(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!_x(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||kr(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oC(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ee();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(aC))){const{scroll:u}=this.root;u&&(fs(a.x,u.offset.x),fs(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Ee();if(xt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&xt(a,o),fs(a.x,f.offset.x),fs(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Ee();xt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&hs(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kr(u.latestValues)&&hs(l,u.latestValues)}return kr(this.latestValues)&&hs(l,this.latestValues),l}removeTransform(o){const a=Ee();xt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!kr(c.latestValues))continue;Zu(c.latestValues)&&c.updateSnapshot();const u=Ee(),f=c.measurePageBox();xt(u,f),_m(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return kr(this.latestValues)&&_m(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Ii(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xt(this.target,this.layout.layoutBox),yx(this.target,this.targetDelta)):xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Ii(this.relativeTargetOrigin,this.target,p.target),xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zu(this.parent.latestValues)||gx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;xt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;u2(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ee());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bm(this.prevProjectionDelta.x,this.projectionDelta.x),bm(this.prevProjectionDelta.y,this.projectionDelta.y)),Ei(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Nm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Nm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ds(),this.projectionDelta=ds(),this.projectionDeltaWithTransform=ds()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ds();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ee(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=p!==v,b=this.getStack(),m=!b||b.members.length<=1,g=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(sC));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const k=S/1e3;Rm(f.x,o.x,k),Rm(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ii(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rC(this.relativeTarget,this.relativeTargetOrigin,h,k),y&&F2(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ee()),xt(y,this.relativeTarget)),x&&(this.animationValues=u,j2(u,c,this.latestValues,k,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{ma.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rs(0)),this.currentAnimation=P2(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(H2),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Px(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ee();const f=Je(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Je(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}xt(a,l),hs(a,u),Ei(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $2),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Tc("z",o,c,this.animationValues);for(let u=0;u<kc.length;u++)Tc(`rotate${kc[u]}`,o,c,this.animationValues),Tc(`skew${kc[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return z2;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=pa(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=pa(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kr(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=B2(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in to){if(u[p]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:b}=to[p],m=a.transform==="none"?u[p]:v(u[p],c);if(x){const g=x.length;for(let y=0;y<g;y++)a[x[y]]=m}else b?this.options.visualElement.renderState.vars[p]=m:a[p]=m}return this.options.layoutId&&(a.pointerEvents=c===this?pa(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(Am),this.root.sharedNodes.clear()}}}function G2(e){e.updateLayout()}function K2(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?wt(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=Je(h);h.min=r[f].min,h.max=h.min+p}):Px(i,t.layoutBox,r)&&wt(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],p=Je(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const a=ds();Ei(a,r,t.layoutBox);const l=ds();o?Ei(l,e.applyTransform(s,!0),t.measuredBox):Ei(l,r,t.layoutBox);const c=!_x(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=Ee();Ii(v,t.layoutBox,h.layoutBox);const x=Ee();Ii(x,r,p.layoutBox),Cx(v,x)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function q2(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Y2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function X2(e){e.clearSnapshot()}function Am(e){e.clearMeasurements()}function Z2(e){e.isLayoutDirty=!1}function Q2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function J2(e){e.resolveTargetDelta()}function eC(e){e.calcProjection()}function tC(e){e.resetSkewAndRotation()}function nC(e){e.removeLeadSnapshot()}function Rm(e,t,n){e.translate=we(t.translate,0,n),e.scale=we(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jm(e,t,n,r){e.min=we(t.min,n.min,r),e.max=we(t.max,n.max,r)}function rC(e,t,n,r){jm(e.x,t.x,n.x,r),jm(e.y,t.y,n.y,r)}function sC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iC={duration:.45,ease:[.4,0,.1,1]},Lm=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Dm=Lm("applewebkit/")&&!Lm("chrome/")?Math.round:Ct;function Om(e){e.min=Dm(e.min),e.max=Dm(e.max)}function oC(e){Om(e.x),Om(e.y)}function Px(e,t,n){return e==="position"||e==="preserve-aspect"&&!l2(Pm(t),Pm(n),.2)}function aC(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const lC=Ix({attachResizeListener:(e,t)=>ro(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_c={current:void 0},Nx=Ix({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_c.current){const e=new lC({});e.mount(window),e.setOptions({layoutScroll:!0}),_c.current=e}return _c.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cC={pan:{Feature:_2},drag:{Feature:T2,ProjectionNode:Nx,MeasureLayout:bx}};function Vm(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ve.postRender(()=>i(t,go(t)))}class uC extends yr{mount(){const{current:t}=this.node;t&&(this.unmount=AT(t,(n,r)=>(Vm(this.node,r,"Start"),s=>Vm(this.node,s,"End"))))}unmount(){}}class dC extends yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ho(ro(this.node.current,"focus",()=>this.onFocus()),ro(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Um(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ve.postRender(()=>i(t,go(t)))}class fC extends yr{mount(){const{current:t}=this.node;t&&(this.unmount=LT(t,(n,r)=>(Um(this.node,r,"Start"),(s,{success:i})=>Um(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ed=new WeakMap,Cc=new WeakMap,hC=e=>{const t=ed.get(e.target);t&&t(e)},pC=e=>{e.forEach(hC)};function mC({root:e,...t}){const n=e||document;Cc.has(n)||Cc.set(n,{});const r=Cc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(pC,{root:e,...t})),r[s]}function gC(e,t,n){const r=mC(t);return ed.set(e,n),r.observe(e),()=>{ed.delete(e),r.unobserve(e)}}const yC={some:0,all:1};class vC extends yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:yC[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return gC(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(xC(t,n))&&this.startObserver()}unmount(){}}function xC({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const wC={inView:{Feature:vC},tap:{Feature:fC},focus:{Feature:dC},hover:{Feature:uC}},SC={layout:{ProjectionNode:Nx,MeasureLayout:bx}},td={current:null},Ax={current:!1};function bC(){if(Ax.current=!0,!!df)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>td.current=e.matches;e.addListener(t),t()}else td.current=!1}const kC=new WeakMap;function TC(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Xe(s))e.addValue(r,s);else if(Xe(i))e.addValue(r,Rs(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Rs(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Fm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _C{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ot.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ve.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=El(n),this.isVariantNode=Qv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Xe(p)&&p.set(l[h],!1)}}mount(t){this.current=t,kC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ax.current||bC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:td.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ws.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in js){const n=js[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Fm.length;r++){const s=Fm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=TC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Rs(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(iv(r)||av(r))?r=parseFloat(r):!VT(r)&&hr.test(n)&&(r=Bv(t,n)),this.setBaseTarget(t,Xe(r)?r.get():r)),Xe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Bf(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Xe(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Mx extends _C{constructor(){super(...arguments),this.KeyframeResolver=CT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Rx(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}function CC(e){return window.getComputedStyle(e)}class EC extends Mx{constructor(){super(...arguments),this.type="html",this.renderInstance=Rx}readValueFromInstance(t,n){var r;if(Ws.has(n))return(r=this.projection)!=null&&r.isProjecting?Bu(n):Wk(t,n);{const s=CC(t),i=(wf(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return vx(t,n)}build(t,n,r){Uf(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return zf(t,n,r)}}const jx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IC(e,t,n,r){Rx(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(jx.has(s)?s:Vf(s),t.attrs[s])}class PC extends Mx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ws.has(n)){const r=$v(n);return r&&r.default||0}return n=jx.has(n)?n:Vf(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return lx(t,n,r)}build(t,n,r){sx(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){IC(t,n,r,s)}mount(t){this.isSVGTag=ox(t.tagName),super.mount(t)}}const NC=(e,t)=>$f(e)?new PC(t):new EC(t,{allowProjection:e!==w.Fragment}),AC=I_({...e2,...wC,...cC,...SC},NC),Q=JT(AC);function Ls(e,t,n={}){const[r,s]=w.useState(()=>{var i;try{const o=window.localStorage.getItem(e);return o!==null?JSON.parse(o):typeof t=="function"?t():t}catch(o){return console.warn(`useLocalStorage: Error reading key "${e}":`,o),(i=n.onError)==null||i.call(n,"read",o),typeof t=="function"?t():t}});return w.useEffect(()=>{var i;try{const o=JSON.stringify(r);window.localStorage.setItem(e,o)}catch(o){console.warn(`useLocalStorage: Error setting key "${e}":`,o),(i=n.onError)==null||i.call(n,"write",o)}},[e,r,n]),[r,s]}const Ve=[];for(let e=0;e<256;++e)Ve.push((e+256).toString(16).slice(1));function MC(e,t=0){return(Ve[e[t+0]]+Ve[e[t+1]]+Ve[e[t+2]]+Ve[e[t+3]]+"-"+Ve[e[t+4]]+Ve[e[t+5]]+"-"+Ve[e[t+6]]+Ve[e[t+7]]+"-"+Ve[e[t+8]]+Ve[e[t+9]]+"-"+Ve[e[t+10]]+Ve[e[t+11]]+Ve[e[t+12]]+Ve[e[t+13]]+Ve[e[t+14]]+Ve[e[t+15]]).toLowerCase()}let Ec;const RC=new Uint8Array(16);function jC(){if(!Ec){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ec=crypto.getRandomValues.bind(crypto)}return Ec(RC)}const LC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$m={randomUUID:LC};function oe(e,t,n){var s;if($m.randomUUID&&!t&&!e)return $m.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??jC();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[n+i]=r[i];return t}return MC(r)}const Lx=[{id:"tech",name:"tech",count:0,lastUsed:0},{id:"tattoos",name:"tattoos",count:0,lastUsed:0},{id:"crypto",name:"crypto",count:0,lastUsed:0},{id:"friendly",name:"friendly",count:0,lastUsed:0},{id:"foodie",name:"foodie",count:0,lastUsed:0},{id:"kind",name:"kind",count:0,lastUsed:0},{id:"local",name:"local",count:0,lastUsed:0},{id:"fashion",name:"fashion",count:0,lastUsed:0},{id:"raptors",name:"raptors",count:0,lastUsed:0},{id:"neighbour",name:"neighbour",count:0,lastUsed:0},{id:"marketing",name:"marketing",count:0,lastUsed:0},{id:"networker",name:"networker",count:0,lastUsed:0},{id:"events",name:"events",count:0,lastUsed:0},{id:"chef",name:"chef",count:0,lastUsed:0},{id:"intense",name:"intense",count:0,lastUsed:0},{id:"creative",name:"creative",count:0,lastUsed:0},{id:"design",name:"design",count:0,lastUsed:0},{id:"sketching",name:"sketching",count:0,lastUsed:0},{id:"dj",name:"dj",count:0,lastUsed:0},{id:"music",name:"music",count:0,lastUsed:0},{id:"nightlife",name:"nightlife",count:0,lastUsed:0},{id:"vibes",name:"vibes",count:0,lastUsed:0},{id:"photography",name:"photography",count:0,lastUsed:0},{id:"social",name:"social",count:0,lastUsed:0},{id:"bartender",name:"bartender",count:0,lastUsed:0},{id:"chill",name:"chill",count:0,lastUsed:0},{id:"mezcal",name:"mezcal",count:0,lastUsed:0},{id:"hospitality",name:"hospitality",count:0,lastUsed:0},{id:"law",name:"law",count:0,lastUsed:0},{id:"debate",name:"debate",count:0,lastUsed:0},{id:"ai",name:"ai",count:0,lastUsed:0},{id:"smart",name:"smart",count:0,lastUsed:0},{id:"energetic",name:"energetic",count:0,lastUsed:0},{id:"fast",name:"fast",count:0,lastUsed:0},{id:"confident",name:"confident",count:0,lastUsed:0},{id:"funny",name:"funny",count:0,lastUsed:0},{id:"health",name:"health",count:0,lastUsed:0},{id:"calm",name:"calm",count:0,lastUsed:0}],Te=[{id:oe(),name:"Bar Raval",locationTag:"Little Italy  Toronto, ON",coords:{lat:43.6557,lon:-79.4111},favorite:!1,proximityAlertsEnabled:!0},{id:oe(),name:"The Drake Hotel",locationTag:"Queen West  Toronto, ON",coords:{lat:43.6424,lon:-79.4254},favorite:!1,proximityAlertsEnabled:!0},{id:oe(),name:"Mother Tongue",locationTag:"Entertainment District  Toronto, ON",coords:{lat:43.6479,lon:-79.3947},favorite:!1,proximityAlertsEnabled:!0},{id:oe(),name:"The Broadview Rooftop",locationTag:"Riverside  Toronto, ON",coords:{lat:43.6593,lon:-79.3511},favorite:!1,proximityAlertsEnabled:!0},{id:oe(),name:"Stackt Market Pavilion",locationTag:"Bathurst & Front  Toronto, ON",coords:{lat:43.6419,lon:-79.4036},favorite:!1,proximityAlertsEnabled:!0},{id:oe(),name:"Hemingway's",locationTag:"Yorkville  Toronto, ON",coords:{lat:43.671,lon:-79.3932},favorite:!1,proximityAlertsEnabled:!0}],Dx=[{id:oe(),name:"Grant Bass",position:"Software Engineer",description:"Met after a React meetup spillover at Bar Ravalsmart, energetic.",venueId:Te[0].id,dateMet:"2025-05-03T21:30:00.000Z",createdAt:"2025-05-03T21:30:00.000Z",tags:["tech","smart","energetic"]},{id:oe(),name:"Sarah Mitchell",position:"Nurse",description:"Friendly and kindgrabbed mocktails at The Drake Hotel lobby bar.",venueId:Te[1].id,dateMet:"2025-05-04T20:15:00.000Z",createdAt:"2025-05-04T20:15:00.000Z",tags:["friendly","kind","local"]},{id:oe(),name:"Alex Wong",position:"Software Engineer",description:"Into crypto and blockchainloves Mother Tongues late-night vibe.",venueId:Te[2].id,dateMet:"2025-04-25T23:00:00.000Z",createdAt:"2025-04-25T23:00:00.000Z",tags:["crypto","tech","creative"]},{id:oe(),name:"Sophie Turner",position:"Marketing Coordinator",description:"Always networkingco-hosted a pop-up at Stackt Market.",venueId:Te[4].id,dateMet:"2025-05-07T20:00:00.000Z",createdAt:"2025-05-07T20:00:00.000Z",tags:["marketing","networker","events"]},{id:oe(),name:"Marcus James",position:"Chef",description:"Creative chef who moonlights at Mother Tongues test kitchen.",venueId:Te[2].id,dateMet:"2025-05-09T18:45:00.000Z",createdAt:"2025-05-09T18:45:00.000Z",tags:["chef","intense","foodie"]},{id:oe(),name:"Ella Chen",position:"UX Designer",description:"Sketches rooftop concepts over espresso at The Broadview.",venueId:Te[3].id,dateMet:"2025-04-30T19:20:00.000Z",createdAt:"2025-04-30T19:20:00.000Z",tags:["design","sketching","creative"]},{id:oe(),name:"Tyrese Cole",position:"DJ",description:"Spins vinyl for Drake Hotel lobby sets and loves the sound system.",venueId:Te[1].id,dateMet:"2025-05-12T01:00:00.000Z",createdAt:"2025-05-12T01:00:00.000Z",tags:["dj","music","nightlife"]},{id:oe(),name:"Dani Romero",position:"Photographer",description:"Shoots candid portraits around Stackts container alleys.",venueId:Te[4].id,dateMet:"2025-05-12T23:30:00.000Z",createdAt:"2025-05-12T23:30:00.000Z",tags:["photography","social","creative"]},{id:oe(),name:"Jamal Peterson",position:"Bartender",description:"Chill bartender mixing mezcal cocktails at Hemingway's patio.",venueId:Te[5].id,dateMet:"2025-05-14T00:30:00.000Z",createdAt:"2025-05-14T00:30:00.000Z",tags:["bartender","chill","mezcal"]},{id:oe(),name:"Ava Nguyen",position:"Law Student",description:"Debated AI ethics over tapas at Bar Raval.",venueId:Te[0].id,dateMet:"2025-05-15T21:00:00.000Z",createdAt:"2025-05-15T21:00:00.000Z",tags:["law","debate","ai"]},{id:oe(),name:"Julian Reyes",position:"Barback",description:"Fast and efficientkeeps the Drake Hotel bar humming.",venueId:Te[1].id,dateMet:"2025-04-22T22:00:00.000Z",createdAt:"2025-04-22T22:00:00.000Z",tags:["hospitality","fast","energetic"]},{id:oe(),name:"Nina Keller",position:"Marketing Coordinator",description:"Organizes top-tier launches at Stackt Market.",venueId:Te[4].id,dateMet:"2025-05-08T18:30:00.000Z",createdAt:"2025-05-08T18:30:00.000Z",tags:["events","marketing","networker"]},{id:oe(),name:"Omar Williams",position:"Chef",description:"Trendy food truck guru now staging at Mother Tongue.",venueId:Te[2].id,dateMet:"2025-05-11T17:00:00.000Z",createdAt:"2025-05-11T17:00:00.000Z",tags:["chef","foodie","creative"]},{id:oe(),name:"Tasha Green",position:"Photographer",description:"Retro-style film photographer obsessed with Broadview sunsets.",venueId:Te[3].id,dateMet:"2025-05-13T19:30:00.000Z",createdAt:"2025-05-13T19:30:00.000Z",tags:["photography","vibes","artistic"]},{id:oe(),name:"David Lee",position:"Software Engineer",description:"Connects devs to meetupsalways posts up at Bar Ravals windows.",venueId:Te[0].id,dateMet:"2025-05-06T19:00:00.000Z",createdAt:"2025-05-06T19:00:00.000Z",tags:["tech","networker","friendly"]},{id:oe(),name:"Lena Tran",position:"UX Designer",description:"Detail-oriented designer who sketches at Drakes cafe tables.",venueId:Te[1].id,dateMet:"2025-05-10T18:00:00.000Z",createdAt:"2025-05-10T18:00:00.000Z",tags:["design","kind","creative"]},{id:oe(),name:"Chris McMillan",position:"DJ",description:"Deep house specialist booked for Hemingway's late sets.",venueId:Te[5].id,dateMet:"2025-05-04T20:30:00.000Z",createdAt:"2025-05-04T20:30:00.000Z",tags:["music","nightlife","vibes"]},{id:oe(),name:"Rhea Palmer",position:"Law Student",description:"AI ethics debate champ who favors Broadview rooftop meetups.",venueId:Te[3].id,dateMet:"2025-05-15T21:15:00.000Z",createdAt:"2025-05-15T21:15:00.000Z",tags:["law","debate","ai"]},{id:oe(),name:"Tony Delvecchio",position:"Bartender",description:"Resident jokester slinging mezcal at Hemingway's hidden bar.",venueId:Te[5].id,dateMet:"2025-05-02T20:45:00.000Z",createdAt:"2025-05-02T20:45:00.000Z",tags:["bartender","funny","mezcal"]},{id:oe(),name:"Zo Kim",position:"Nurse",description:"Calm under pressurecelebrated at The Drake after night shift.",venueId:Te[1].id,dateMet:"2025-05-04T21:00:00.000Z",createdAt:"2025-05-04T21:00:00.000Z",tags:["health","calm","kind"]}],Ox=w.createContext(void 0),DC=({children:e,duration:t=3e3})=>{const[n,r]=Ls("remember-me-notifications",[]),[s,i]=w.useState([]),o=w.useCallback((u,f="success",h)=>{const p={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random()}`,message:u,type:f,timestamp:new Date().toISOString(),read:!1,meta:h};r(v=>[p,...v].slice(0,25)),i(v=>[...v,p].slice(-2)),setTimeout(()=>{i(v=>v.filter(x=>x.id!==p.id))},t)},[t,r]),a=w.useCallback(u=>{i(f=>f.filter(h=>h.id!==u))},[]),l=w.useCallback(u=>{r(f=>f.map(h=>h.id===u?{...h,read:!0}:h))},[r]),c=w.useCallback(()=>{r(u=>u.map(f=>f.read?f:{...f,read:!0}))},[r]);return w.useEffect(()=>()=>{i([])},[]),d.jsx(Ox.Provider,{value:{toasts:s,showNotification:o,dismissToast:a,notifications:n,markAsRead:l,markAllAsRead:c},children:e})},Gs=()=>{const e=w.useContext(Ox);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ds;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Ds||(Ds={}));class Ic extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const OC=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},VC=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:OC(e),i=()=>s()!=="web",o=f=>{const h=c.get(f);return!!(h!=null&&h.platforms.has(s())||a(f))},a=f=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===f)},l=f=>e.console.error(f),c=new Map,u=(f,h={})=>{const p=c.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const v=s(),x=a(f);let b;const m=async()=>(!b&&v in h?b=typeof h[v]=="function"?b=await h[v]():b=h[v]:t!==null&&!b&&"web"in h&&(b=typeof h.web=="function"?b=await h.web():b=h.web),b),g=(_,A)=>{var E,O;if(x){const ee=x==null?void 0:x.methods.find(Y=>A===Y.name);if(ee)return ee.rtype==="promise"?Y=>n.nativePromise(f,A.toString(),Y):(Y,de)=>n.nativeCallback(f,A.toString(),Y,de);if(_)return(E=_[A])===null||E===void 0?void 0:E.bind(_)}else{if(_)return(O=_[A])===null||O===void 0?void 0:O.bind(_);throw new Ic(`"${f}" plugin is not implemented on ${v}`,Ds.Unimplemented)}},y=_=>{let A;const E=(...O)=>{const ee=m().then(Y=>{const de=g(Y,_);if(de){const Re=de(...O);return A=Re==null?void 0:Re.remove,Re}else throw new Ic(`"${f}.${_}()" is not implemented on ${v}`,Ds.Unimplemented)});return _==="addListener"&&(ee.remove=async()=>A()),ee};return E.toString=()=>`${_.toString()}() { [capacitor code] }`,Object.defineProperty(E,"name",{value:_,writable:!1,configurable:!1}),E},S=y("addListener"),k=y("removeListener"),T=(_,A)=>{const E=S({eventName:_},A),O=async()=>{const Y=await E;k({eventName:_,callbackId:Y},A)},ee=new Promise(Y=>E.then(()=>Y({remove:O})));return ee.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await O()},ee},C=new Proxy({},{get(_,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?T:S;case"removeListener":return k;default:return y(A)}}});return r[f]=C,c.set(f,{name:f,proxy:C,platforms:new Set([...Object.keys(h),...x?[v]:[]])}),C};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=s,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=u,n.Exception=Ic,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},UC=e=>e.Capacitor=VC(e),Ye=UC(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ut=Ye.registerPlugin;class yo{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Ye.Exception(t,Ds.Unimplemented)}unavailable(t="not available"){return new Ye.Exception(t,Ds.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const Bm=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),zm=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class FC extends yo{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=zm(s).trim(),i=zm(i).trim(),n[s]=i}),n}async setCookie(t){try{const n=Bm(t.key),r=Bm(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Ut("CapacitorCookies",{web:()=>new FC});const $C=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),BC=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=e[t[o]],s),{})},zC=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=t?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=t?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,HC=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=BC(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(e.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(e.data))i.append(a,e.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class WC extends yo{async request(t){const n=HC(t,t.webFetchExtra),r=zC(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?t:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await $C(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const u={};return i.headers.forEach((f,h)=>{u[h]=f}),{data:l,headers:u,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Ut("CapacitorHttp",{web:()=>new WC});var Hm;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Hm||(Hm={}));var Wm;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(Wm||(Wm={}));class GC extends yo{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Ut("SystemBars",{web:()=>new GC});const KC="modulepreload",qC=function(e){return"/"+e},Gm={},Ks=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=qC(i),i in Gm)return;Gm[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":KC,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var Km;(function(e){e.AdPersonalization="AD_PERSONALIZATION",e.AdStorage="AD_STORAGE",e.AdUserData="AD_USER_DATA",e.AnalyticsStorage="ANALYTICS_STORAGE",e.FunctionalityStorage="FUNCTIONALITY_STORAGE",e.PersonalizationStorage="PERSONALIZATION_STORAGE"})(Km||(Km={}));var qm;(function(e){e.Granted="GRANTED",e.Denied="DENIED"})(qm||(qm={}));const YC=Ut("FirebaseAnalytics",{web:()=>Ks(()=>import("./web-78cf953d.js"),[]).then(e=>new e.FirebaseAnalyticsWeb)}),XC=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},ZC=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Vx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ZC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new QC;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class QC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JC=function(e){const t=Vx(e);return Ux.encodeByteArray(t,!0)},Fx=function(e){return JC(e).replace(/\./g,"")},$x=function(e){try{return Ux.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=()=>eE().__FIREBASE_DEFAULTS__,nE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$x(e[1]);return t&&JSON.parse(t)},Wf=()=>{try{return XC()||tE()||nE()||rE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sE=e=>{var t,n;return(n=(t=Wf())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Bx=()=>{var e;return(e=Wf())==null?void 0:e.config},zx=e=>{var t;return(t=Wf())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oE(e){return(await fetch(e,{credentials:"include"})).ok}const Pi={};function aE(){const e={prod:[],emulator:[]};for(const t of Object.keys(Pi))Pi[t]?e.emulator.push(t):e.prod.push(t);return e}function lE(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Ym=!1;function cE(e,t){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Pi[e]===t||Pi[e]||Ym)return;Pi[e]=t;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=aE().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Ym=!0,o()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=lE(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),b=document.getElementById(x)||document.createElement("a"),m=n("preprendIcon"),g=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const y=h.element;a(y),u(b,x);const S=c();l(g,m),y.append(g,v,b,S),document.body.appendChild(y)}i?(v.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function dE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gf(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function fE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hE(){const e=tt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Kf(){try{return typeof indexedDB=="object"}catch{return!1}}function qf(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(n){t(n)}})}function Hx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="FirebaseError";class sn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=pE,Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr.prototype.create)}}class Kr{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?mE(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new sn(s,a,r)}}function mE(e,t){return e.replace(gE,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const gE=/\{\$([^}]+)}/g;function yE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $r(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Xm(i)&&Xm(o)){if(!$r(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Xm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vE(e,t){const n=new xE(e,t);return n.subscribe.bind(n)}class xE{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wE(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Pc),s.error===void 0&&(s.error=Pc),s.complete===void 0&&(s.complete=Pc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wE(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Pc(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=1e3,bE=2,kE=4*60*60*1e3,TE=.5;function Zm(e,t=SE,n=bE){const r=t*Math.pow(n,e),s=Math.round(TE*r*(Math.random()-.5)*2);return Math.min(kE,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e){return e&&e._delegate?e._delegate:e}class rn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new iE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EE(t))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Tr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tr){return this.instances.has(t)}getOptions(t=Tr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Tr){return this.component?this.component.multipleInstances?t:Tr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CE(e){return e===Tr?void 0:e}function EE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _E(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ae||(ae={}));const PE={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},NE=ae.INFO,AE={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},ME=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=AE[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yf{constructor(t){this.name=t,this._logLevel=NE,this._logHandler=ME,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const RE=(e,t)=>t.some(n=>e instanceof n);let Qm,Jm;function jE(){return Qm||(Qm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LE(){return Jm||(Jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wx=new WeakMap,nd=new WeakMap,Gx=new WeakMap,Nc=new WeakMap,Xf=new WeakMap;function DE(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(ar(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Wx.set(n,e)}).catch(()=>{}),Xf.set(t,e),t}function OE(e){if(nd.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});nd.set(e,t)}let rd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Gx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VE(e){rd=e(rd)}function UE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ac(this),t,...n);return Gx.set(r,t.sort?t.sort():[t]),ar(r)}:LE().includes(e)?function(...t){return e.apply(Ac(this),t),ar(Wx.get(this))}:function(...t){return ar(e.apply(Ac(this),t))}}function FE(e){return typeof e=="function"?UE(e):(e instanceof IDBTransaction&&OE(e),RE(e,jE())?new Proxy(e,rd):e)}function ar(e){if(e instanceof IDBRequest)return DE(e);if(Nc.has(e))return Nc.get(e);const t=FE(e);return t!==e&&(Nc.set(e,t),Xf.set(t,e)),t}const Ac=e=>Xf.get(e);function Kx(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=ar(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ar(o.result),l.oldVersion,l.newVersion,ar(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const $E=["get","getKey","getAll","getAllKeys","count"],BE=["put","add","delete","clear"],Mc=new Map;function eg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Mc.get(t))return Mc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=BE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$E.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Mc.set(t,i),i}VE(e=>({...e,get:(t,n,r)=>eg(t,n)||e.get(t,n,r),has:(t,n)=>!!eg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sd="@firebase/app",tg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Yf("@firebase/app"),WE="@firebase/app-compat",GE="@firebase/analytics-compat",KE="@firebase/analytics",qE="@firebase/app-check-compat",YE="@firebase/app-check",XE="@firebase/auth",ZE="@firebase/auth-compat",QE="@firebase/database",JE="@firebase/data-connect",eI="@firebase/database-compat",tI="@firebase/functions",nI="@firebase/functions-compat",rI="@firebase/installations",sI="@firebase/installations-compat",iI="@firebase/messaging",oI="@firebase/messaging-compat",aI="@firebase/performance",lI="@firebase/performance-compat",cI="@firebase/remote-config",uI="@firebase/remote-config-compat",dI="@firebase/storage",fI="@firebase/storage-compat",hI="@firebase/firestore",pI="@firebase/ai",mI="@firebase/firestore-compat",gI="firebase",yI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="[DEFAULT]",vI={[sd]:"fire-core",[WE]:"fire-core-compat",[KE]:"fire-analytics",[GE]:"fire-analytics-compat",[YE]:"fire-app-check",[qE]:"fire-app-check-compat",[XE]:"fire-auth",[ZE]:"fire-auth-compat",[QE]:"fire-rtdb",[JE]:"fire-data-connect",[eI]:"fire-rtdb-compat",[tI]:"fire-fn",[nI]:"fire-fn-compat",[rI]:"fire-iid",[sI]:"fire-iid-compat",[iI]:"fire-fcm",[oI]:"fire-fcm-compat",[aI]:"fire-perf",[lI]:"fire-perf-compat",[cI]:"fire-rc",[uI]:"fire-rc-compat",[dI]:"fire-gcs",[fI]:"fire-gcs-compat",[hI]:"fire-fst",[mI]:"fire-fst-compat",[pI]:"fire-vertex","fire-js":"fire-js",[gI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Map,xI=new Map,od=new Map;function ng(e,t){try{e.container.addComponent(t)}catch(n){_n.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Cn(e){const t=e.name;if(od.has(t))return _n.debug(`There were multiple attempts to register component ${t}.`),!1;od.set(t,e);for(const n of Ya.values())ng(n,e);for(const n of xI.values())ng(n,e);return!0}function qs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Kr("app","Firebase",wI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=yI;function qx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:id,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw lr.create("bad-app-name",{appName:String(s)});if(n||(n=Bx()),!n)throw lr.create("no-options");const i=Ya.get(s);if(i){if($r(n,i.options)&&$r(r,i.config))return i;throw lr.create("duplicate-app",{appName:s})}const o=new IE(s);for(const l of od.values())o.addComponent(l);const a=new SI(n,r,o);return Ya.set(s,a),a}function Yx(e=id){const t=Ya.get(e);if(!t&&e===id&&Bx())return qx();if(!t)throw lr.create("no-app",{appName:e});return t}function en(e,t,n){let r=vI[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_n.warn(o.join(" "));return}Cn(new rn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebase-heartbeat-database",kI=1,so="firebase-heartbeat-store";let Rc=null;function Xx(){return Rc||(Rc=Kx(bI,kI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(so)}catch(n){console.warn(n)}}}}).catch(e=>{throw lr.create("idb-open",{originalErrorMessage:e.message})})),Rc}async function TI(e){try{const n=(await Xx()).transaction(so),r=await n.objectStore(so).get(Zx(e));return await n.done,r}catch(t){if(t instanceof sn)_n.warn(t.message);else{const n=lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_n.warn(n.message)}}}async function rg(e,t){try{const r=(await Xx()).transaction(so,"readwrite");await r.objectStore(so).put(t,Zx(e)),await r.done}catch(n){if(n instanceof sn)_n.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_n.warn(r.message)}}}function Zx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1024,CI=30;class EI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sg();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>CI){const o=NI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_n.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sg(),{heartbeatsToSend:r,unsentEntries:s}=II(this._heartbeatsCache.heartbeats),i=Fx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return _n.warn(n),""}}}function sg(){return new Date().toISOString().substring(0,10)}function II(e,t=_I){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ig(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ig(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kf()?qf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return rg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return rg(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ig(e){return Fx(JSON.stringify({version:2,heartbeats:e})).length}function NI(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(e){Cn(new rn("platform-logger",t=>new zE(t),"PRIVATE")),Cn(new rn("heartbeat",t=>new EI(t),"PRIVATE")),en(sd,tg,e),en(sd,tg,"esm2020"),en("fire-js","")}AI("");const Qx="@firebase/installations",Zf="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=1e4,e1=`w:${Zf}`,t1="FIS_v2",MI="https://firebaseinstallations.googleapis.com/v1",RI=60*60*1e3,jI="installations",LI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Br=new Kr(jI,LI,DI);function n1(e){return e instanceof sn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1({projectId:e}){return`${MI}/projects/${e}/installations`}function s1(e){return{token:e.token,requestStatus:2,expiresIn:VI(e.expiresIn),creationTime:Date.now()}}async function i1(e,t){const r=(await t.json()).error;return Br.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function o1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function OI(e,{refreshToken:t}){const n=o1(e);return n.append("Authorization",UI(t)),n}async function a1(e){const t=await e();return t.status>=500&&t.status<600?e():t}function VI(e){return Number(e.replace("s","000"))}function UI(e){return`${t1} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=r1(e),s=o1(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:t1,appId:e.appId,sdkVersion:e1},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await a1(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:s1(c.authToken)}}else throw await i1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=/^[cdef][\w-]{21}$/,ad="";function zI(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=HI(e);return BI.test(n)?n:ad}catch{return ad}}function HI(e){return $I(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Map;function u1(e,t){const n=Pl(e);d1(n,t),WI(n,t)}function d1(e,t){const n=c1.get(e);if(n)for(const r of n)r(t)}function WI(e,t){const n=GI();n&&n.postMessage({key:e,fid:t}),KI()}let Nr=null;function GI(){return!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=e=>{d1(e.data.key,e.data.fid)}),Nr}function KI(){c1.size===0&&Nr&&(Nr.close(),Nr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebase-installations-database",YI=1,zr="firebase-installations-store";let jc=null;function Qf(){return jc||(jc=Kx(qI,YI,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(zr)}}})),jc}async function Xa(e,t){const n=Pl(e),s=(await Qf()).transaction(zr,"readwrite"),i=s.objectStore(zr),o=await i.get(n);return await i.put(t,n),await s.done,(!o||o.fid!==t.fid)&&u1(e,t.fid),t}async function f1(e){const t=Pl(e),r=(await Qf()).transaction(zr,"readwrite");await r.objectStore(zr).delete(t),await r.done}async function Nl(e,t){const n=Pl(e),s=(await Qf()).transaction(zr,"readwrite"),i=s.objectStore(zr),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&u1(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(e){let t;const n=await Nl(e.appConfig,r=>{const s=XI(r),i=ZI(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===ad?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function XI(e){const t=e||{fid:zI(),registrationStatus:0};return h1(t)}function ZI(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Br.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=QI(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:JI(e)}:{installationEntry:t}}async function QI(e,t){try{const n=await FI(e,t);return Xa(e.appConfig,n)}catch(n){throw n1(n)&&n.customData.serverCode===409?await f1(e.appConfig):await Xa(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function JI(e){let t=await og(e.appConfig);for(;t.registrationStatus===1;)await l1(100),t=await og(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Jf(e);return r||n}return t}function og(e){return Nl(e,t=>{if(!t)throw Br.create("installation-not-found");return h1(t)})}function h1(e){return eP(e)?{fid:e.fid,registrationStatus:0}:e}function eP(e){return e.registrationStatus===1&&e.registrationTime+Jx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP({appConfig:e,heartbeatServiceProvider:t},n){const r=nP(e,n),s=OI(e,n),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:e1,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await a1(()=>fetch(r,a));if(l.ok){const c=await l.json();return s1(c)}else throw await i1("Generate Auth Token",l)}function nP(e,{fid:t}){return`${r1(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(e,t=!1){let n;const r=await Nl(e.appConfig,i=>{if(!p1(i))throw Br.create("not-registered");const o=i.authToken;if(!t&&iP(o))return i;if(o.requestStatus===1)return n=rP(e,t),i;{if(!navigator.onLine)throw Br.create("app-offline");const a=aP(i);return n=sP(e,a),a}});return n?await n:r.authToken}async function rP(e,t){let n=await ag(e.appConfig);for(;n.authToken.requestStatus===1;)await l1(100),n=await ag(e.appConfig);const r=n.authToken;return r.requestStatus===0?eh(e,t):r}function ag(e){return Nl(e,t=>{if(!p1(t))throw Br.create("not-registered");const n=t.authToken;return lP(n)?{...t,authToken:{requestStatus:0}}:t})}async function sP(e,t){try{const n=await tP(e,t),r={...t,authToken:n};return await Xa(e.appConfig,r),n}catch(n){if(n1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await f1(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Xa(e.appConfig,r)}throw n}}function p1(e){return e!==void 0&&e.registrationStatus===2}function iP(e){return e.requestStatus===2&&!oP(e)}function oP(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+RI}function aP(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function lP(e){return e.requestStatus===1&&e.requestTime+Jx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(e){const t=e,{installationEntry:n,registrationPromise:r}=await Jf(t);return r?r.catch(console.error):eh(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(e,t=!1){const n=e;return await dP(n),(await eh(n,t)).token}async function dP(e){const{registrationPromise:t}=await Jf(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(e){if(!e||!e.options)throw Lc("App Configuration");if(!e.name)throw Lc("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Lc(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Lc(e){return Br.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="installations",hP="installations-internal",pP=e=>{const t=e.getProvider("app").getImmediate(),n=fP(t),r=qs(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},mP=e=>{const t=e.getProvider("app").getImmediate(),n=qs(t,m1).getImmediate();return{getId:()=>cP(n),getToken:s=>uP(n,s)}};function gP(){Cn(new rn(m1,pP,"PUBLIC")),Cn(new rn(hP,mP,"PRIVATE"))}gP();en(Qx,Zf);en(Qx,Zf,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="analytics",yP="firebase_id",vP="origin",xP=60*1e3,wP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",th="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be=new Yf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ht=new Kr("analytics","Analytics",SP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(e){if(!e.startsWith(th)){const t=ht.create("invalid-gtag-resource",{gtagURL:e});return Be.warn(t.message),""}return e}function g1(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function kP(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function TP(e,t){const n=kP("firebase-js-sdk-policy",{createScriptURL:bP}),r=document.createElement("script"),s=`${th}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function _P(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function CP(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const l=(await g1(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){Be.error(a)}e("config",s,i)}async function EP(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await g1(n);for(const l of o){const c=a.find(f=>f.measurementId===l),u=c&&t[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Be.error(i)}}function IP(e,t,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await EP(e,t,n,a,l)}else if(i==="config"){const[a,l]=o;await CP(e,t,n,r,a,l)}else if(i==="consent"){const[a,l]=o;e("consent",a,l)}else if(i==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){Be.error(a)}}return s}function PP(e,t,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=IP(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}function NP(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(th)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=30,MP=1e3;class RP{constructor(t={},n=MP){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const y1=new RP;function jP(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function LP(e){var o;const{appId:t,apiKey:n}=e,r={method:"GET",headers:jP(n)},s=wP.replace("{app-id}",t),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw ht.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function DP(e,t=y1,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw ht.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw ht.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new UP;return setTimeout(async()=>{a.abort()},n!==void 0?n:xP),v1({appId:r,apiKey:s,measurementId:i},o,a,t)}async function v1(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=y1){var a;const{appId:i,measurementId:o}=e;try{await OP(r,t)}catch(l){if(o)return Be.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await LP(e);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!VP(c)){if(s.deleteThrottleMetadata(i),o)return Be.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const u=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?Zm(n,s.intervalMillis,AP):Zm(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(i,f),Be.debug(`Calling attemptFetch again in ${u} millis`),v1(e,f,r,s)}}function OP(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(ht.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function VP(e){if(!(e instanceof sn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class UP{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function FP(e,t,n,r,s){if(s&&s.global){e("event",n,r);return}else{const i=await t,o={...r,send_to:i};e("event",n,o)}}async function $P(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();{const s=await t;e("config",s,{update:!0,user_id:n})}}async function BP(e,t,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return e("set",s),Promise.resolve()}else{const s=await t;e("config",s,{update:!0,user_properties:n})}}async function zP(e,t){const n=await e;window[`ga-disable-${n}`]=!t}let ld;function x1(e){ld=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(){if(Kf())try{await qf()}catch(e){return Be.warn(ht.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Be.warn(ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function WP(e,t,n,r,s,i,o){const a=DP(e);a.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Be.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Be.error(h)),t.push(a);const l=HP().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([a,l]);NP(i)||TP(i,c.measurementId),ld&&(s("consent","default",ld),x1(void 0)),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[vP]="firebase",f.update=!0,u!=null&&(f[yP]=u),s("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t){this.app=t}_delete(){return delete cr[this.app.options.appId],Promise.resolve()}}let cr={},lg=[];const cg={};let Dc="dataLayer",KP="gtag",ug,Os,dg=!1;function qP(){const e=[];if(Gf()&&e.push("This is a browser extension environment."),Hx()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ht.create("invalid-analytics-context",{errorInfo:t});Be.warn(n.message)}}function YP(e,t,n){qP();const r=e.options.appId;if(!r)throw ht.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Be.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ht.create("no-api-key");if(cr[r]!=null)throw ht.create("already-exists",{id:r});if(!dg){_P(Dc);const{wrappedGtag:i,gtagCore:o}=PP(cr,lg,cg,Dc,KP);Os=i,ug=o,dg=!0}return cr[r]=WP(e,lg,cg,t,ug,Dc,n),new GP(e)}function w1(e=Yx()){e=Ft(e);const t=qs(e,Za);return t.isInitialized()?t.getImmediate():XP(e)}function XP(e,t={}){const n=qs(e,Za);if(n.isInitialized()){const s=n.getImmediate();if($r(t,n.getOptions()))return s;throw ht.create("already-initialized")}return n.initialize({options:t})}async function ZP(){if(Gf()||!Hx()||!Kf())return!1;try{return await qf()}catch{return!1}}function jj(e,t,n){e=Ft(e),$P(Os,cr[e.app.options.appId],t,n).catch(r=>Be.error(r))}function QP(e,t,n){e=Ft(e),BP(Os,cr[e.app.options.appId],t,n).catch(r=>Be.error(r))}function Lj(e,t){e=Ft(e),zP(cr[e.app.options.appId],t).catch(n=>Be.error(n))}function nh(e,t,n,r){e=Ft(e),FP(Os,cr[e.app.options.appId],t,n,r).catch(s=>Be.error(s))}function Dj(e){Os?Os("consent","update",e):x1(e)}const fg="@firebase/analytics",hg="0.10.19";function JP(){Cn(new rn(Za,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return YP(r,s,n)},"PUBLIC")),Cn(new rn("analytics-internal",e,"PRIVATE")),en(fg,hg),en(fg,hg,"esm2020");function e(t){try{const n=t.getProvider(Za).getImmediate();return{logEvent:(r,s,i)=>nh(n,r,s,i),setUserProperties:(r,s)=>QP(n,r,s)}}catch(n){throw ht.create("interop-component-reg-failed",{reason:n})}}}JP();var eN="firebase",tN="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en(eN,tN,"app");function S1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=S1,b1=new Kr("auth","Firebase",S1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Yf("@firebase/auth");function rN(e,...t){Qa.logLevel<=ae.WARN&&Qa.warn(`Auth (${xo}): ${e}`,...t)}function ga(e,...t){Qa.logLevel<=ae.ERROR&&Qa.error(`Auth (${xo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(e,...t){throw rh(e,...t)}function tn(e,...t){return rh(e,...t)}function k1(e,t,n){const r={...nN(),[t]:n};return new Kr("auth","Firebase",r).create(t,{appName:e.name})}function Lr(e){return k1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rh(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return b1.create(e,...t)}function B(e,t,...n){if(!e)throw rh(t,...n)}function pn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ga(t),new Error(t)}function In(e,t){e||pn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function sN(){return pg()==="http:"||pg()==="https:"}function pg(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sN()||Gf()||"connection"in navigator)?navigator.onLine:!0}function oN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,n){this.shortDelay=t,this.longDelay=n,In(n>t,"Short delay should be less than long delay!"),this.isMobile=uE()||fE()}get(){return iN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(e,t){In(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cN=new wo(3e4,6e4);function ih(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ys(e,t,n,r,s={}){return _1(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=vo({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...i};return dE()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Il(e.emulatorConfig.host)&&(c.credentials="include"),T1.fetch()(await C1(e,e.config.apiHost,n,a),c)})}async function _1(e,t,n){e._canInitEmulator=!1;const r={...aN,...t};try{const s=new dN(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Yo(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yo(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yo(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yo(e,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw k1(e,u,c);En(e,u)}}catch(s){if(s instanceof sn)throw s;En(e,"network-request-failed",{message:String(s)})}}async function uN(e,t,n,r,s={}){const i=await Ys(e,t,n,r,s);return"mfaPendingCredential"in i&&En(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function C1(e,t,n,r){const s=`${t}${n}?${r}`,i=e,o=i.config.emulator?sh(e.config,s):`${e.config.apiScheme}://${s}`;return lN.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class dN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tn(this.auth,"network-request-failed")),cN.get())})}}function Yo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=tn(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(e,t){return Ys(e,"POST","/v1/accounts:delete",t)}async function Ja(e,t){return Ys(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hN(e,t=!1){const n=Ft(e),r=await n.getIdToken(t),s=oh(r);B(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ni(Oc(s.auth_time)),issuedAtTime:Ni(Oc(s.iat)),expirationTime:Ni(Oc(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Oc(e){return Number(e)*1e3}function oh(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ga("JWT malformed, contained fewer than 3 sections"),null;try{const s=$x(n);return s?JSON.parse(s):(ga("Failed to decode base64 JWT payload"),null)}catch(s){return ga("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mg(e){const t=oh(e);return B(t,"internal-error"),B(typeof t.exp<"u","internal-error"),B(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof sn&&pN(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function pN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ni(this.lastLoginAt),this.creationTime=Ni(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(e){var f;const t=e.auth,n=await e.getIdToken(),r=await io(e,Ja(t,{idToken:n}));B(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?E1(s.providerUserInfo):[],o=yN(e.providerData,i),a=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ud(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function gN(e){const t=Ft(e);await el(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yN(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function E1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(e,t){const n=await _1(e,{},async()=>{const r=vo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=await C1(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&Il(e.emulatorConfig.host)&&(l.credentials="include"),T1.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xN(e,t){return Ys(e,"POST","/v2/accounts:revokeToken",ih(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){B(t.idToken,"internal-error"),B(typeof t.idToken<"u","internal-error"),B(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mg(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){B(t.length!==0,"internal-error");const n=mg(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(B(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await vN(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ks;return r&&(B(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(B(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(B(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ks,this.toJSON())}_performRefresh(){return pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(e,t){B(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Lt{constructor({uid:t,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new mN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ud(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await io(this,this.stsTokenManager.getToken(this.auth,t));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hN(this,t)}reload(){return gN(this)}_assign(t){this!==t&&(B(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Lt({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await el(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Lr(this.auth));const t=await this.getIdToken();return await io(this,fN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:x}=n;B(f&&x,t,"internal-error");const b=ks.fromJSON(this.name,x);B(typeof f=="string",t,"internal-error"),Vn(r,t.name),Vn(s,t.name),B(typeof h=="boolean",t,"internal-error"),B(typeof p=="boolean",t,"internal-error"),Vn(i,t.name),Vn(o,t.name),Vn(a,t.name),Vn(l,t.name),Vn(c,t.name),Vn(u,t.name);const m=new Lt({uid:f,auth:t,email:s,emailVerified:h,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:u});return v&&Array.isArray(v)&&(m.providerData=v.map(g=>({...g}))),l&&(m._redirectEventId=l),m}static async _fromIdTokenResponse(t,n,r=!1){const s=new ks;s.updateFromServerResponse(n);const i=new Lt({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await el(i),i}static async _fromGetAccountInfoResponse(t,n,r){const s=n.users[0];B(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?E1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ks;a.updateFromIdToken(r);const l=new Lt({uid:s.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ud(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Map;function mn(e){In(e instanceof Function,"Expected a class definition");let t=gg.get(e);return t?(In(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gg.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}I1.type="NONE";const yg=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(e,t,n){return`firebase:${e}:${t}:${n}`}class Ts{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ya(this.userKey,s.apiKey,i),this.fullPersistenceKey=ya("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ja(this.auth,{idToken:t}).catch(()=>{});return n?Lt._fromGetAccountInfoResponse(this.auth,n,t):null}return Lt._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Ts(mn(yg),t,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||mn(yg);const o=ya(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await Ja(t,{idToken:u}).catch(()=>{});if(!h)break;f=await Lt._fromGetAccountInfoResponse(t,h,u)}else f=Lt._fromJSON(t,u);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ts(i,t,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ts(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(M1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j1(t))return"Blackberry";if(L1(t))return"Webos";if(N1(t))return"Safari";if((t.includes("chrome/")||A1(t))&&!t.includes("edge/"))return"Chrome";if(R1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P1(e=tt()){return/firefox\//i.test(e)}function N1(e=tt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function A1(e=tt()){return/crios\//i.test(e)}function M1(e=tt()){return/iemobile/i.test(e)}function R1(e=tt()){return/android/i.test(e)}function j1(e=tt()){return/blackberry/i.test(e)}function L1(e=tt()){return/webos/i.test(e)}function ah(e=tt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wN(e=tt()){var t;return ah(e)&&!!((t=window.navigator)!=null&&t.standalone)}function SN(){return hE()&&document.documentMode===10}function D1(e=tt()){return ah(e)||R1(e)||L1(e)||j1(e)||/windows phone/i.test(e)||M1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(e,t=[]){let n;switch(e){case"Browser":n=vg(tt());break;case"Worker":n=`${vg(tt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,a)=>{try{const l=t(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(e,t={}){return Ys(e,"GET","/v2/passwordPolicy",ih(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=6;class _N{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xg(this),this.idTokenSubscription=new xg(this),this.beforeStateQueue=new bN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=mn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ts.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ja(this,{idToken:t}),r=await Lt._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(dn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await el(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(dn(this.app))return Promise.reject(Lr(this));const n=t?Ft(t):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&B(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return dn(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kN(this),n=new _N(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kr("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xN(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&mn(t)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=await Ts.create(this,[mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&rN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function lh(e){return Ft(e)}class xg{constructor(t){this.auth=t,this.observer=null,this.addObserver=vE(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EN(e){ch=e}function IN(e){return ch.loadJS(e)}function PN(){return ch.gapiScript}function NN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(e,t){const n=qs(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if($r(i,t??{}))return s;En(s,"already-initialized")}return n.initialize({options:t})}function MN(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function RN(e,t,n){const r=lh(e);B(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=V1(t),{host:o,port:a}=jN(t),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){B(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),B($r(c,r.config.emulator)&&$r(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Il(o)?(oE(`${i}//${o}${l}`),cE("Auth",!0)):s||LN()}function V1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jN(e){const t=V1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:wg(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:wg(o)}}}function wg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function LN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return pn("not implemented")}_getIdTokenResponse(t){return pn("not implemented")}_linkToIdToken(t,n){return pn("not implemented")}_getReauthenticationResolver(t){return pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(e,t){return uN(e,"POST","/v1/accounts:signInWithIdp",ih(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="http://localhost";class Hr extends U1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Hr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return _s(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,_s(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,_s(t,n)}buildRequest(){const t={requestUri:DN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=vo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends F1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends So{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hn.credentialFromTaggedObject(t)}static credentialFromError(t){return Hn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hn.credential(t.oauthAccessToken)}catch{return null}}}Hn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hr._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wn.credentialFromTaggedObject(t)}static credentialFromError(t){return Wn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Wn.credential(n,r)}catch{return null}}}Wn.GOOGLE_SIGN_IN_METHOD="google.com";Wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends So{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gn.credentialFromTaggedObject(t)}static credentialFromError(t){return Gn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gn.credential(t.oauthAccessToken)}catch{return null}}}Gn.GITHUB_SIGN_IN_METHOD="github.com";Gn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends So{constructor(){super("twitter.com")}static credential(t,n){return Hr._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Kn.credentialFromTaggedObject(t)}static credentialFromError(t){return Kn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kn.credential(n,r)}catch{return null}}}Kn.TWITTER_SIGN_IN_METHOD="twitter.com";Kn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Lt._fromIdTokenResponse(t,r,s),o=Sg(r);return new Vs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=Sg(r);return new Vs({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function Sg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends sn{constructor(t,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,tl.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new tl(t,n,r,s)}}function $1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?tl._fromErrorAndOperation(e,i,t,r):i})}async function ON(e,t,n=!1){const r=await io(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Vs._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(e,t,n=!1){const{auth:r}=e;if(dn(r.app))return Promise.reject(Lr(r));const s="reauthenticate";try{const i=await io(e,$1(r,s,t,e),n);B(i.idToken,r,"internal-error");const o=oh(i.idToken);B(o,r,"internal-error");const{sub:a}=o;return B(e.uid===a,r,"user-mismatch"),Vs._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&En(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(e,t,n=!1){if(dn(e.app))return Promise.reject(Lr(e));const r="signIn",s=await $1(e,r,t),i=await Vs._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function FN(e,t,n,r){return Ft(e).onIdTokenChanged(t,n,r)}function $N(e,t,n){return Ft(e).beforeAuthStateChanged(t,n)}const nl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nl,"1"),this.storage.removeItem(nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1e3,zN=10;class z1 extends B1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);SN()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,zN):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},BN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}z1.type="LOCAL";const HN=z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends B1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}H1.type="SESSION";const W1=H1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Al(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await WN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Al.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=uh("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return window}function KN(e){nn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return typeof nn().WorkerGlobalScope<"u"&&typeof nn().importScripts=="function"}async function qN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YN(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function XN(){return G1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebaseLocalStorageDb",ZN=1,rl="firebaseLocalStorage",q1="fbase_key";class bo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ml(e,t){return e.transaction([rl],t?"readwrite":"readonly").objectStore(rl)}function QN(){const e=indexedDB.deleteDatabase(K1);return new bo(e).toPromise()}function dd(){const e=indexedDB.open(K1,ZN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(rl,{keyPath:q1})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(rl)?t(r):(r.close(),await QN(),t(await dd()))})})}async function bg(e,t,n){const r=Ml(e,!0).put({[q1]:t,value:n});return new bo(r).toPromise()}async function JN(e,t){const n=Ml(e,!1).get(t),r=await new bo(n).toPromise();return r===void 0?null:r.value}function kg(e,t){const n=Ml(e,!0).delete(t);return new bo(n).toPromise()}const eA=800,tA=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>tA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Al._getInstance(XN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new GN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dd();return await bg(t,nl,"1"),await kg(t,nl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bg(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>JN(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kg(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Ml(s,!1).getAll();return new bo(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const nA=Y1;new wo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(e,t){return t?mn(t):(B(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends U1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _s(t,this._buildIdpRequest())}_linkToIdToken(t,n){return _s(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return _s(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sA(e){return UN(e.auth,new dh(e),e.bypassAuthState)}function iA(e){const{auth:t,user:n}=e;return B(n,t,"internal-error"),VN(n,new dh(e),e.bypassAuthState)}async function oA(e){const{auth:t,user:n}=e;return B(n,t,"internal-error"),ON(n,new dh(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sA;case"linkViaPopup":case"linkViaRedirect":return oA;case"reauthViaPopup":case"reauthViaRedirect":return iA;default:En(this.auth,"internal-error")}}resolve(t){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new wo(2e3,1e4);class ps extends X1{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return B(t,this.auth,"internal-error"),t}async onExecution(){In(this.filter.length===1,"Popup operations only handle one event");const t=uh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aA.get())};t()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="pendingRedirect",va=new Map;class cA extends X1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=va.get(this.auth._key());if(!t){try{const r=await uA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}va.set(this.auth._key(),t)}return this.bypassAuthState||va.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uA(e,t){const n=hA(t),r=fA(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dA(e,t){va.set(e._key(),t)}function fA(e){return mn(e._redirectPersistence)}function hA(e){return ya(lA,e.config.apiKey,e.name)}async function pA(e,t,n=!1){if(dn(e.app))return Promise.reject(Lr(e));const r=lh(e),s=rA(r,t),o=await new cA(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=10*60*1e3;class gA{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yA(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Z1(t)){const s=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(tn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tg(t))}saveEventToCache(t){this.cachedEventUids.add(Tg(t)),this.lastProcessedEventTime=Date.now()}}function Tg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Z1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function yA(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(e,t={}){return Ys(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wA=/^https?/;async function SA(e){if(e.config.emulator)return;const{authorizedDomains:t}=await vA(e);for(const n of t)try{if(bA(n))return}catch{}En(e,"unauthorized-domain")}function bA(e){const t=cd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wA.test(n))return!1;if(xA.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new wo(3e4,6e4);function _g(){const e=nn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function TA(e){return new Promise((t,n)=>{var s,i,o;function r(){_g(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_g(),n(tn(e,"network-request-failed"))},timeout:kA.get()})}if((i=(s=nn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((o=nn().gapi)!=null&&o.load)r();else{const a=NN("iframefcb");return nn()[a]=()=>{gapi.load?r():n(tn(e,"network-request-failed"))},IN(`${PN()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw xa=null,t})}let xa=null;function _A(e){return xa=xa||TA(e),xa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new wo(5e3,15e3),EA="__/auth/iframe",IA="emulator/auth/iframe",PA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AA(e){const t=e.config;B(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?sh(t,IA):`https://${e.config.authDomain}/${EA}`,r={apiKey:t.apiKey,appName:e.name,v:xo},s=NA.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vo(r).slice(1)}`}async function MA(e){const t=await _A(e),n=nn().gapi;return B(n,e,"internal-error"),t.open({where:document.body,url:AA(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PA,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=tn(e,"network-request-failed"),a=nn().setTimeout(()=>{i(o)},CA.get());function l(){nn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jA=500,LA=600,DA="_blank",OA="http://localhost";class Cg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VA(e,t,n,r=jA,s=LA){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...RA,width:r.toString(),height:s.toString(),top:i,left:o},c=tt().toLowerCase();n&&(a=A1(c)?DA:n),P1(c)&&(t=t||OA,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(wN(c)&&a!=="_self")return UA(t||"",a),new Cg(null);const f=window.open(t||"",a,u);B(f,e,"popup-blocked");try{f.focus()}catch{}return new Cg(f)}function UA(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="__/auth/handler",$A="emulator/auth/handler",BA=encodeURIComponent("fac");async function Eg(e,t,n,r,s,i){B(e.config.authDomain,e,"auth-domain-config-required"),B(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xo,eventId:s};if(t instanceof F1){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",yE(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries(i||{}))o[u]=f}if(t instanceof So){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${BA}=${encodeURIComponent(l)}`:"";return`${zA(e)}?${vo(a).slice(1)}${c}`}function zA({config:e}){return e.emulator?sh(e,$A):`https://${e.authDomain}/${FA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="webStorageSupport";class HA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W1,this._completeRedirectFn=pA,this._overrideRedirectResult=dA}async _openPopup(t,n,r,s){var o;In((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Eg(t,n,r,cd(),s);return VA(t,i,uh())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await Eg(t,n,r,cd(),s);return KN(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(In(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await MA(t),r=new gA(t);return n.register("authEvent",s=>(B(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vc,{type:Vc},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Vc];i!==void 0&&n(!!i),En(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SA(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return D1()||N1()||ah()}}const WA=HA;var Ig="@firebase/auth",Pg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qA(e){Cn(new rn("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(e)},c=new CN(r,s,i,l);return MN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Cn(new rn("auth-internal",t=>{const n=lh(t.getProvider("auth").getImmediate());return(r=>new GA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),en(Ig,Pg,KA(e)),en(Ig,Pg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=5*60,XA=zx("authIdTokenMaxAge")||YA;let Ng=null;const ZA=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XA)return;const s=n==null?void 0:n.token;Ng!==s&&(Ng=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function QA(e=Yx()){const t=qs(e,"auth");if(t.isInitialized())return t.getImmediate();const n=AN(e,{popupRedirectResolver:WA,persistence:[nA,HN,W1]}),r=zx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=ZA(i.toString());$N(n,o,()=>o(n.currentUser)),FN(n,a=>o(a))}}const s=sE("auth");return s&&RN(n,`http://${s}`),n}function JA(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}EN({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=tn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",JA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qA("Browser");const Q1={apiKey:"AIzaSyCqXy7dPQjWHNwY6bU00qwFF_QbNsAGyHA",authDomain:"eraone-methere.firebaseapp.com",projectId:"eraone-methere",storageBucket:"eraone-methere.firebasestorage.app",messagingSenderId:"149505713742",appId:"1:149505713742:web:00d963c3d4057f4700451f",measurementId:"G-3Q93SD72N4"},fd=Object.entries(Q1).filter(([,e])=>!e);fd.length&&console.warn(`Firebase configuration is incomplete: ${fd.map(([e])=>e).join(", ")}. Check your environment variables.`);let Us=null,J1=null;fd.length?console.warn("Firebase config missing. Analytics disabled until VITE_FIREBASE_* env vars are provided."):(Us=qx(Q1),J1=QA(Us));let Ai=null;if(Us&&typeof window<"u")try{Ai=w1(Us),nh(Ai,"app_started"),console.log("Firebase Auth initialized:",J1),console.log("Firebase Analytics initialized:",Ai)}catch(e){console.warn("Unable to initialize Firebase Analytics immediately",e)}let Uc=null;const eM=()=>Us?(Uc||(Uc=ZP().then(e=>e?Ai||w1(Us):null)),Uc):Promise.resolve(null),gn=async(e,t)=>{try{if(Ye.getPlatform()==="ios"){await YC.logEvent({name:e,params:t});return}const n=await eM();n&&nh(n,e,t)}catch{}},tM={trackEvent:gn},ew=w.createContext({trackEvent:async()=>{}}),nM=({children:e})=>d.jsx(ew.Provider,{value:tM,children:e}),qr=()=>w.useContext(ew),tw=w.createContext(void 0),rM=({children:e})=>{const{showNotification:t}=Gs(),{trackEvent:n}=qr(),r=w.useCallback(f=>{t(`Problem ${f==="read"?"loading":"saving"} tags. Changes may not persist.`,"error")},[t]),s={}.VITE_SHOW_DEV_TOOLS==="true"?Lx:[],[i,o]=Ls("tags",s,{onError:r}),a=f=>{const h=i.find(p=>p.id===f);return h?h.name:""},l=f=>{const h=f.trim().toLowerCase(),p=i.find(v=>v.name.toLowerCase()===h);return p?p.id:null},c=f=>{const h=f.trim().toLowerCase(),p=i.find(x=>x.name.toLowerCase()===h);if(p)return p;const v={id:crypto.randomUUID(),name:h,count:0,lastUsed:Date.now()};return o(x=>[...x,v]),n("tag_created",{name:h}),v},u=f=>{o(()=>[...f])};return d.jsx(tw.Provider,{value:{tags:i,createTag:c,getTagNameById:a,getTagIdByName:l,replaceTags:u},children:e})},fh=()=>{const e=w.useContext(tw);if(!e)throw new Error("useTags must be used within a TagProvider");return e},nw=w.createContext(void 0),sM=({children:e})=>{const{showNotification:t}=Gs(),n=w.useCallback(u=>{t(`Problem ${u==="read"?"loading":"saving"} people data. Changes may not persist.`,"error")},[t]),r={}.VITE_SHOW_DEV_TOOLS==="true"?Dx:[],[s,i]=Ls("people",r,{onError:n}),o=u=>{i(f=>[u,...f])},a=u=>{i(f=>f.map(h=>h.id===u.id?u:h))},l=u=>{i(f=>f.filter(h=>h.id!==u))},c=u=>{i(()=>[...u])};return d.jsx(nw.Provider,{value:{people:s,addPerson:o,updatePerson:a,deletePerson:l,replacePeople:c},children:e})},rw=()=>{const e=w.useContext(nw);if(!e)throw new Error("usePeople must be used within a PeopleProvider");return e},sw=w.createContext(void 0),iM=({children:e})=>{const{showNotification:t}=Gs(),n=w.useCallback(c=>{t(`Problem ${c==="read"?"loading":"saving"} venues. Changes may not persist.`,"error")},[t]),r={}.VITE_SHOW_DEV_TOOLS==="true"?Te:[],[s,i]=Ls("venues",r,{onError:n}),o=c=>i(u=>[...u,c]),a=c=>i(u=>u.map(f=>f.id===c.id?c:f)),l=c=>{i(()=>[...c])};return d.jsx(sw.Provider,{value:{venues:s,addVenue:o,updateVenue:a,replaceVenues:l},children:e})},Rl=()=>{const e=w.useContext(sw);if(!e)throw new Error("useVenues must be used within VenueProvider");return e},Xn="Unclassified";function oM(e,t){return w.useMemo(()=>e.reduce((n,r)=>{var i;const s=r.venueId?((i=t[r.venueId])==null?void 0:i.name)??Xn:Xn;return n[s]||(n[s]=[]),n[s].push(r),n},{}),[e,t])}function aM(e,t){return w.useMemo(()=>({favorites:e.filter(n=>t.includes(n)),others:e.filter(n=>!t.includes(n))}),[e,t])}function lM(e){const[t,n]=w.useState(()=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):[]}catch{return[]}});return w.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(t))}catch{}},[e,t]),[t,n]}const cM=[{id:"people_first",type:"people",target:1,title:"Icebreaker",description:"Add your first person."},{id:"people_5",type:"people",target:5,title:"Circle of Five",description:"Track your first 5 people."},{id:"people_20",type:"people",target:20,title:"Network Builder",description:"Reach 20 tracked people."},{id:"people_50",type:"people",target:50,title:"Community Maven",description:"Log 50 people or more."},{id:"people_75",type:"people",target:75,title:"City Connector",description:"Keep tabs on 75 contacts."},{id:"people_100",type:"people",target:100,title:"Social Curator",description:"Reach 100 logged people."},{id:"venues_first",type:"venues",target:1,title:"First Venue",description:"Log someone at a venue."},{id:"venues_3",type:"venues",target:3,title:"Neighborhood Scout",description:"Add people from 3 different venues."},{id:"venues_10",type:"venues",target:10,title:"City Guide",description:"Tag 10 venues across the city."},{id:"venues_25",type:"venues",target:25,title:"Urban Explorer",description:"Log people from 25 venues."},{id:"venues_40",type:"venues",target:40,title:"City Curator",description:"Tag 40 unique venues."},{id:"venues_50",type:"venues",target:50,title:"Metropolitan Maven",description:"Map out 50 venues."},{id:"tags_first",type:"tags",target:1,title:"First Tag",description:"Categorize someone with a tag."},{id:"tags_5",type:"tags",target:5,title:"Trend Spotter",description:"Use 5 unique tags across your people."},{id:"tags_15",type:"tags",target:15,title:"Culture Curator",description:"Apply 15 different tags."},{id:"tags_30",type:"tags",target:30,title:"Storyteller",description:"Craft rich profiles with 30 tags."},{id:"tags_40",type:"tags",target:40,title:"Narrator",description:"Use 40 different tags."},{id:"tags_50",type:"tags",target:50,title:"Archivist",description:"Capture nuances with 50 tags."},{id:"favorites_first",type:"favorites",target:1,title:"First Favourite",description:"Mark your first favourite venue."},{id:"favorites_3",type:"favorites",target:3,title:"Venue Regular",description:"Have 3 go-to venues."},{id:"favorites_5",type:"favorites",target:5,title:"Community Builder",description:"Pin 5 favourite venues."},{id:"favorites_8",type:"favorites",target:8,title:"Neighborhood VIP",description:"Keep 8 venues on speed dial."},{id:"favorites_10",type:"favorites",target:10,title:"Scene Setter",description:"Highlight 10 go-to venues."}];function uM(e,t,n){const[r,s]=Ls("achievementEarned",{}),[i,o]=Ls("achievementLifetimeStats",{peopleMax:0,venuesMax:0,tagsMax:0,favoritesMax:0}),a=w.useMemo(()=>{const u=new Set,f=new Set;return e.forEach(h=>{h.venueId&&u.add(h.venueId),(h.tags??[]).forEach(p=>f.add(p))}),{peopleCount:e.length,venueCount:t.length,venuesWithPeople:u.size,uniqueTagCount:f.size,favoriteVenueCount:n.length}},[n,e,t]);w.useEffect(()=>{o(u=>{const f={peopleMax:Math.max(u.peopleMax,a.peopleCount),venuesMax:Math.max(u.venuesMax,a.venuesWithPeople),tagsMax:Math.max(u.tagsMax,a.uniqueTagCount),favoritesMax:Math.max(u.favoritesMax,a.favoriteVenueCount)};return f.peopleMax!==u.peopleMax||f.venuesMax!==u.venuesMax||f.tagsMax!==u.tagsMax||f.favoritesMax!==u.favoritesMax?f:u})},[o,a]);const l=w.useMemo(()=>{const u={people:Math.max(a.peopleCount,i.peopleMax),venues:Math.max(a.venuesWithPeople,i.venuesMax),tags:Math.max(a.uniqueTagCount,i.tagsMax),favorites:Math.max(a.favoriteVenueCount,i.favoritesMax)};return cM.map(f=>{const h=f.type==="people"?u.people:f.type==="venues"?u.venues:f.type==="tags"?u.tags:u.favorites,p=Math.min(h/f.target,1);return{...f,current:h,progress:p,unlocked:h>=f.target||!!r[f.id],unlockedAt:r[f.id]}})},[r,i,a]);w.useEffect(()=>{s(u=>{let f=!1;const h={...u};return l.forEach(p=>{p.current>=p.target&&!h[p.id]&&(h[p.id]=new Date().toISOString(),f=!0)}),f?h:u})},[l,s]);const c=w.useCallback(()=>{s({}),o({peopleMax:0,venuesMax:0,tagsMax:0,favoritesMax:0})},[s,o]);return{achievements:l,stats:a,resetAchievements:c}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ag=e=>{const t=fM(e);return t.charAt(0).toUpperCase()+t.slice(1)},iw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),hM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...pM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:iw("lucide",s),...!i&&!hM(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>w.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(mM,{ref:i,iconNode:t,className:iw(`lucide-${dM(Ag(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Ag(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yM=J("award",gM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ow=J("check",vM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],aw=J("chevron-down",xM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],SM=J("chevron-right",wM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kM=J("circle-check",bM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_M=J("clock",TM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],EM=J("cloud-upload",CM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Mg=J("download",IM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],hh=J("heart",PM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AM=J("info",NM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],RM=J("leaf",MM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],LM=J("list-filter",jM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],OM=J("lock",DM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zn=J("map-pin",VM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],FM=J("moon",UM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],lw=J("palette",$M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zM=J("pencil",BM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WM=J("search",HM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cw=J("settings",GM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],qM=J("sparkles",KM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jl=J("star",YM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],ZM=J("sun-medium",XM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Mi=J("tag",QM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],eR=J("trash-2",JM);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nR=J("trending-up",tR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uw=J("triangle-alert",rR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rg=J("upload",sR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],oR=J("user-pen",iR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],lR=J("user-round-plus",aR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],ph=J("user-round",cR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dR=J("user",uR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hR=J("users",fR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],mR=J("waves",pR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],yR=J("wrench",gR);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ll=J("x",vR);var H;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(H||(H={}));var jg;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(jg||(jg={}));const xR=Ut("Haptics",{web:()=>Ks(()=>import("./web-b2e8cb0a.js"),[]).then(e=>new e.HapticsWeb)}),wR=Ye.isNativePlatform(),SR=typeof navigator<"u"&&"vibrate"in navigator;let Dl=!0;const dw="rememberme:haptics-enabled",bR=()=>{if(!(typeof window>"u"))try{const e=window.localStorage.getItem(dw);e!==null&&(Dl=e==="true")}catch(e){console.warn("Unable to read haptics preference",e)}};bR();const kR=()=>Dl,TR=e=>{if(Dl=e,typeof window<"u")try{window.localStorage.setItem(dw,String(e))}catch(t){console.warn("Unable to persist haptics preference",t)}},_R=async e=>{if(!wR)return!1;try{return await e(),!0}catch(t){return console.warn("Native haptics failed",t),!1}},CR=(e=20)=>{SR&&navigator.vibrate(e)},te=async(e=H.Light)=>{if(!Dl)return;await _R(()=>xR.impact({style:e}))||CR()},ER=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");function Xo({text:e,query:t}){if(!e)return null;const n=t.trim();if(!n)return d.jsx(d.Fragment,{children:e});const r=new RegExp(`(${ER(n)})`,"ig"),s=e.split(r),i=n.toLowerCase();return d.jsx(d.Fragment,{children:s.map((o,a)=>o.toLowerCase()===i?d.jsx("mark",{className:"bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] px-0.5 rounded",children:o},a):d.jsx("span",{children:o},a))})}function IR({person:e,onEdit:t,onDelete:n,onToggleFavorite:r,getTagNameById:s,activeTags:i,setActiveTags:o,searchQuery:a}){const l=c=>{te(H.Light),o(u=>u.includes(c)?u.filter(f=>f!==c):[...u,c])};return d.jsxs("div",{className:"bg-[var(--color-card)] rounded-3xl p-5 shadow-level1/60",children:[d.jsxs("div",{className:"flex justify-between items-start gap-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-semibold tracking-tight text-[var(--color-text-primary)] flex items-center gap-2",children:[d.jsx(Xo,{text:e.name,query:a}),d.jsxs("button",{onClick:async()=>{await te(e.favorite?H.Light:H.Medium),r(e.id)},title:"Toggle favorite",className:`w-7 h-7 flex items-center justify-center rounded-full border relative overflow-hidden ${e.favorite?"bg-[var(--color-accent-muted)] text-[var(--color-accent)] border-[var(--color-accent)]":"bg-[var(--color-card)] text-[var(--color-text-secondary)] border-[var(--color-card-border)]"}`,children:[d.jsx("span",{className:`absolute inset-0 rounded-full bg-[var(--color-accent)]/10 blur-lg transition-opacity duration-300 ${e.favorite?"opacity-100":"opacity-0"}`}),d.jsx(Q.span,{className:"absolute inset-0 rounded-full border border-[var(--color-accent)]/60 pointer-events-none",animate:e.favorite?{scale:[1,1.25,.6],opacity:[.6,.4,0]}:{scale:[1,.7,1],opacity:[.3,.6,0]},transition:{duration:.35},style:{boxShadow:e.favorite?"0 0 12px var(--color-accent)":"0 0 6px rgba(0,0,0,0.12)"}}),d.jsx(Q.span,{animate:e.favorite?{scale:[.8,1.3,1],rotate:[0,10,0]}:{scale:[1.1,.9,1],rotate:[0,-10,0]},transition:{duration:.35},className:"relative inline-flex",children:d.jsx(jl,{size:16,fill:e.favorite?"currentColor":"transparent"})})]})]}),e.position&&d.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)] mt-1",children:d.jsx(Xo,{text:e.position,query:a})}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)] mt-1.5 tracking-wide",children:["Date Met: ",new Date(e.dateMet).toLocaleDateString()]}),e.description&&d.jsx("p",{className:"whitespace-pre-wrap text-[15px] leading-relaxed text-[var(--color-text-primary)]/85 mt-3",children:d.jsx(Xo,{text:e.description,query:a})})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>t(e),className:"p-2 rounded-full text-[var(--color-text-secondary)] hover:text-[var(--color-accent)] transition",title:"Edit",children:d.jsx(zM,{size:16})}),d.jsx("button",{onClick:()=>n(e.id,e.name),className:"p-2 rounded-full text-red-500 hover:text-red-600 transition",title:"Delete",children:d.jsx(eR,{size:16})})]})]}),e.tags&&e.tags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:e.tags.map(c=>{const u=s(c),f=i.includes(c);return u?d.jsx(Q.button,{onClick:()=>l(c),className:`px-3 py-1 rounded-full text-sm transition-colors ${f?"bg-[var(--color-accent)] text-white shadow-sm":"bg-[var(--color-accent-muted)] text-[var(--color-text-primary)]/85 hover:bg-[var(--color-accent-muted)]/90"}`,title:f?`Remove filter "${u}"`:`Filter by "${u}"`,whileTap:{scale:.94},animate:f?{scale:[.95,1.1,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 8px 16px rgba(0,0,0,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:[1.05,.96,1],boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.3},children:d.jsx(Xo,{text:u,query:a})},c):null})})]})}function PR({venue:e,group:t,isOpen:n,toggleGroup:r,personSort:s,onEdit:i,onDelete:o,onToggleFavorite:a,activeTags:l,setActiveTags:c,favoriteVenues:u,setFavoriteVenues:f,getTagNameById:h,searchQuery:p,distanceLabel:v}){const{trackEvent:x}=qr(),b=Array.isArray(t)?t:[],m=[...b].sort((S,k)=>{if(S.favorite&&!k.favorite)return-1;if(!S.favorite&&k.favorite)return 1;switch(s){case"name-asc":return S.name.localeCompare(k.name);case"name-desc":return k.name.localeCompare(S.name);case"position-asc":return(S.position||"").localeCompare(k.position||"");case"position-desc":return(k.position||"").localeCompare(S.position||"");case"date-newest":return new Date(k.dateMet).getTime()-new Date(S.dateMet).getTime();case"date-oldest":return new Date(S.dateMet).getTime()-new Date(k.dateMet).getTime();default:return 0}}),g=e===Xn,y=g?!1:u.includes(e);return d.jsxs("div",{className:`mb-2.5 glass-panel border border-[var(--color-card-border)]/70 px-4 py-3 rounded-3xl shadow-level1 ${g?"border-dashed":""}`,children:[d.jsxs("div",{className:"flex items-center justify-between gap-3 py-1",children:[d.jsxs("button",{onClick:async()=>{await x("venue_toggle",{venue:e,open:!n}),r(e)},className:"text-left text-lg font-semibold text-[var(--color-text-primary)] flex items-center gap-2","aria-label":`Toggle ${e}`,children:[d.jsx("span",{className:"text-sm text-[var(--color-text-secondary)]",children:n?d.jsx(aw,{size:16}):d.jsx(SM,{size:16})}),e,d.jsxs("span",{className:"text-sm text-[var(--color-text-secondary)]",children:["(",b.length,")"]})]}),!g&&d.jsxs("button",{onClick:async S=>{S.stopPropagation(),await te(y?H.Light:H.Medium),f(k=>k.includes(e)?k.filter(T=>T!==e):[...k,e]),x(y?"venue_unfavorited":"venue_favorited",{venue:e})},className:`w-9 h-9 flex items-center justify-center rounded-full border relative overflow-hidden ${y?"bg-[var(--color-accent)] text-white border-[var(--color-accent)]":"bg-[var(--color-card)] text-[var(--color-text-secondary)] border-[var(--color-card-border)]"}`,title:y?"Unmark Favorite Venue":"Mark as Favorite Venue",children:[d.jsx("span",{className:`absolute inset-0 rounded-full bg-white/20 blur-lg transition-opacity duration-300 ${y?"opacity-60":"opacity-0"}`}),d.jsx(Q.span,{className:"absolute inset-0 rounded-full border border-white/70 pointer-events-none",animate:y?{scale:[1,1.3,.7],opacity:[.6,.4,0]}:{scale:[1,.75,1],opacity:[.3,.6,0]},transition:{duration:.4}}),d.jsx(Q.span,{animate:y?{scale:[.85,1.25,1],rotate:[0,-12,0]}:{scale:[1.1,.9,1],rotate:[0,8,0]},transition:{duration:.35},className:"relative inline-flex",children:d.jsx(jl,{size:16,fill:y?"currentColor":"transparent"})})]})]}),v&&d.jsxs("p",{className:"flex items-center gap-1 text-xs text-[var(--color-text-secondary)] ml-7 -mt-1",children:[d.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-[var(--color-accent-muted)]"}),v]}),g&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mb-2",children:"Assign a venue to move people out of Unclassified."}),d.jsx(Q.div,{initial:!1,animate:{height:n?"auto":0,opacity:n?1:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:d.jsx(Tn,{mode:"popLayout",children:d.jsx(Q.div,{layout:!0,className:"flex flex-col",children:m.map((S,k)=>d.jsxs(w.Fragment,{children:[d.jsx(Q.div,{layout:!0,layoutId:`person-${S.id}`,initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25,ease:"easeInOut"},children:d.jsx(IR,{person:S,onEdit:i,onDelete:o,onToggleFavorite:a,getTagNameById:h,activeTags:l,setActiveTags:c,searchQuery:p})}),k<m.length-1&&d.jsx("div",{className:"mx-2 my-3 border-t border-[var(--color-accent-muted)]"})]},S.id))})})})]})}const fw="/assets/MetHere-inline-clean-transparent-tight-4ce265c5.svg";function NR({groupedPeople:e,favoriteVenues:t,visibleVenueNames:n,totalVenueCount:r,viewMode:s,personSort:i,activeTags:o,setActiveTags:a,getTagNameById:l,openGroups:c,toggleGroup:u,setFavoriteVenues:f,onEdit:h,onDelete:p,onToggleFavorite:v,searchQuery:x,distanceLabels:b}){const m=r>0,g=t.length>0,y=s==="favs"?g?"No favourite venues match your filters. Try clearing search or tags.":"No favourite venues yet. Tap the star next to a venue to pin it here.":m?"No venues match your filters. Try clearing search or tags.":"Add your first venue to start remembering where you met people.";return n.length===0?d.jsxs("div",{className:"glass-panel px-6 py-10 text-center text-[var(--color-text-secondary)] space-y-4",children:[d.jsx("div",{className:"w-full flex items-center justify-center pb-1",children:d.jsx("img",{src:fw,alt:"MetHere logo",className:"h-6 w-auto opacity-70"})}),d.jsx("p",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Nothing to show yet"}),d.jsx("p",{className:"text-sm",children:y})]}):d.jsx("div",{className:"grid gap-4 md:gap-6 lg:gap-8 md:grid-cols-2",children:n.map(S=>d.jsx(PR,{venue:S,group:e[S]??[],personSort:i,activeTags:o,setActiveTags:a,getTagNameById:l,favoriteVenues:t,setFavoriteVenues:f,isOpen:c[S]??!0,toggleGroup:u,onEdit:h,onDelete:p,onToggleFavorite:v,searchQuery:x,distanceLabel:b[S]},S))})}function AR({initialTags:e,allTags:t,maxCount:n=15,maxLength:r=25}){const[s,i]=w.useState(()=>[...e]),[o,a]=w.useState(""),[l,c]=w.useState([]),[u,f]=w.useState(null),[h,p]=w.useState(""),[v,x]=w.useState(""),b=w.useRef(null),m=A=>A.trim().toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s{2,}/g," "),g=A=>{const E=m(A);if(E){if(E.length>r){p(`Tag must be ${r} chars`);return}if(s.includes(E)){x(`${E} already added`);return}if(s.length>=n){p(`Max ${n} tags reached`);return}i(O=>[...O,E]),x(`Added ${E}`)}};w.useEffect(()=>(b.current&&window.clearTimeout(b.current),b.current=window.setTimeout(()=>{const A=o.trim().toLowerCase(),E=A?t.filter(O=>O.name.includes(A)):[...t].sort((O,ee)=>ee.count-O.count);c(E.slice(0,5)),f(null)},200),()=>{b.current&&window.clearTimeout(b.current)}),[o,t]);const y=A=>{const E=A.target.value;E.includes(",")?(E.split(",").slice(0,-1).forEach(g),a(E.split(",").slice(-1)[0])):a(E)},S=A=>{const E=l.length;A.key==="Enter"&&(A.preventDefault(),g(o),a("")),A.key==="ArrowDown"&&E&&(A.preventDefault(),f(O=>O===null?0:(O+1)%E)),A.key==="ArrowUp"&&E&&(A.preventDefault(),f(O=>O===null?E-1:(O-1+E)%E)),A.key==="Escape"&&(a(""),c([]))},k=()=>{c([]),f(null)},T=A=>{i(E=>E.filter(O=>O!==A))},C=()=>{a("")};return{tags:s,input:o,suggestions:l,highlightedIndex:u,error:h,liveMsg:v,handlers:{onInputChange:y,onInputKeyDown:S,onInputBlur:k,commit:g,remove:T,resetInput:()=>{C(),c([]),f(null)},clearInput:C}}}function MR({initialName:e,venues:t,addVenue:n,mode:r,venueUsage:s={}}){const[i,o]=w.useState(e),[a,l]=w.useState(!1),[c,u]=w.useState([]);return w.useEffect(()=>{r==="add"&&(o(""),l(!1))},[r]),w.useEffect(()=>{const v=t.map(b=>({name:b.name,count:s[b.id]??0})),x=i.trim().toLowerCase();u(x?v.filter(b=>b.name.toLowerCase().includes(x)).slice(0,5).map(b=>b.name):v.sort((b,m)=>m.count-b.count).slice(0,5).map(b=>b.name))},[i,t,s]),{value:i,touched:a,suggestions:c,onChange:v=>{o(v),l(!0)},onSelect:v=>{o(v),u([])},resolveVenue:()=>{const v=i.trim(),x=t.find(m=>m.name===v);if(x)return x;const b={id:oe(),name:v||Xn,locationTag:void 0,coords:void 0,favorite:!1,proximityAlertsEnabled:!0};return n(b),b}}}function RR(e){var i,o;const t={},n=new Date().toISOString().split("T")[0];e.name.trim()||(t.name="Name is required"),e.dateMet?e.dateMet>n&&(t.dateMet="Date Met cannot be in the future"):t.dateMet="Date Met is required",e.venue.length>50&&(t.venue="Venue name must be 50 characters or fewer"),e.tags.length>15&&(t.tags="Maximum of 15 tags allowed"),e.position&&e.position.length>60&&(t.position="Position must be 60 characters or fewer"),e.description&&e.description.length>500&&(t.description="Description must be 500 characters or fewer");const r=(i=e.latitude)==null?void 0:i.trim(),s=(o=e.longitude)==null?void 0:o.trim();if(r||s){const a=r?parseFloat(r):NaN,l=s?parseFloat(s):NaN;(!r||!s||Number.isNaN(a)||Number.isNaN(l)||a<-90||a>90||l<-180||l>180)&&(t.coords="Enter valid latitude (-90 to 90) and longitude (-180 to 180)")}return{isValid:Object.keys(t).length===0,errors:t}}function jR(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return new Proxy({},{get(r,s){return(i,o,a)=>{const l=e.Capacitor.Plugins[n];if(l===void 0){a(new Error(`Capacitor plugin ${n} not found`));return}if(typeof l[s]!="function"){a(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const c=await l[s](i);o(c)}catch(c){a(c)}})()}}})}})}function LR(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return e.cordova.plugins[n]}})}function hw(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?jR(window):window.cordova!==void 0&&LR(window))}const ms=Ut("Geolocation",{web:()=>Ks(()=>import("./web-7995097a.js"),[]).then(e=>new e.GeolocationWeb)});hw();class DR extends yo{async echo(t){return t}async ping(){return{value:"pong"}}async searchPlaces(){return console.warn("MapKitBridge search is only available on native platforms."),{results:[]}}async getSnapshot(){throw this.unimplemented("Map snapshots are only available on device.")}}const Lg=Ut("MapKitBridge",{web:()=>Promise.resolve(new DR)}),OR="data:image/svg+xml,%3Csvg width='640' height='360' viewBox='0 0 640 360' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='640' height='360' fill='%23f8f4ef'/%3E%3Cpath d='M0 40h640M0 120h640M0 200h640M0 280h640' stroke='%23e5dbcf' stroke-width='2'/%3E%3Cpath d='M80 0v360M200 0v360M320 0v360M440 0v360M560 0v360' stroke='%23e5dbcf' stroke-width='2'/%3E%3Cpath d='M0 260l80-40 60 30 100-50 90 60 90-80 120 40 100-70 0 210H0z' fill='%23d5e5f0'/%3E%3Cpath d='M0 300l90-60 120 70 120-70 120 50 190-140V360H0z' fill='%23c7e0da'/%3E%3C/svg%3E",Dg="Search by name or address",VR=({venueName:e,canUseLocation:t,labelClass:n,formError:r,resolveVenue:s,getSelectedVenue:i,onValidationCoordsChange:o,onPendingChange:a,globalProximityEnabled:l,onEnableGlobalProximity:c})=>{const{showNotification:u}=Gs(),{trackEvent:f}=qr(),h=w.useMemo(()=>i(),[i]),[p,v]=w.useState((h==null?void 0:h.coords)??null),[x,b]=w.useState((h==null?void 0:h.locationTag)??""),[m,g]=w.useState(()=>l?(h==null?void 0:h.proximityAlertsEnabled)!==!1:!1),[y,S]=w.useState(!1),[k,T]=w.useState(null),[C,_]=w.useState(!1),[A,E]=w.useState(null),[O,ee]=w.useState(!1),[Y,de]=w.useState(null),[Re,fe]=w.useState(null),[W,N]=w.useState(!1),[R,V]=w.useState(""),[Z,X]=w.useState([]),[z,K]=w.useState(!1),[Pe,He]=w.useState(null),[le,yt]=w.useState(Dg),[Pt,vr]=w.useState(!1);w.useEffect(()=>{o&&o(p?{lat:p.lat.toFixed(4),lon:p.lon.toFixed(4)}:null)},[p,o]),w.useEffect(()=>{if(!t){a==null||a(null);return}a==null||a({coords:p,locationTag:x,proximityEnabled:m})},[p,x,m,t,a]),w.useEffect(()=>{if(!e.trim()){g(l);return}const M=i();g(M?l?M.proximityAlertsEnabled!==!1:!1:l)},[e,i,l]),w.useEffect(()=>{if(!e.trim()){v(null),b(""),T(null),E(null);return}const G=i();if(!G)return;if(!G.coords){v(null);return}p&&Math.abs(p.lat-G.coords.lat)<1e-6&&Math.abs(p.lon-G.coords.lon)<1e-6||v({lat:G.coords.lat,lon:G.coords.lon}),G.locationTag&&G.locationTag!==x&&b(G.locationTag)},[e,p,x,i]),w.useEffect(()=>{let M=!1;if(!p){T(null),E(null),_(!1);return}if(!Ye.isNativePlatform()){T(null),E("Preview available on device");return}return(async()=>{const ie=e.trim()||"unspecified";try{_(!0);const re=await Lg.getSnapshot({lat:p.lat,lng:p.lon,width:640,height:288,spanMeters:800});if(!M){const Mn=re.address||`${p.lat.toFixed(4)}, ${p.lon.toFixed(4)}`;T(`data:image/png;base64,${re.imageData}`),E(null),f("map_snapshot_success",{venueName:ie,hasAddress:!!re.address}),Mn!==x&&b(Mn)}}catch(re){console.warn("Map snapshot error",re),M||(T(null),E("Preview unavailable")),f("map_snapshot_error",{venueName:e.trim()||"unspecified",message:typeof(re==null?void 0:re.message)=="string"?re.message:"unknown"})}finally{M||_(!1)}})(),()=>{M=!0}},[p,e,f]),w.useEffect(()=>{if(W){const re=e.trim();yt(re?`Search (e.g. ${re})`:Dg)}if(!W){V(""),X([]),K(!1),He(null);return}const M=R.trim();if(M.length<2||!Ye.isNativePlatform()){X([]),K(!1);return}let G=!1;const ie=window.setTimeout(async()=>{try{K(!0),He(null);const{results:re}=await Lg.searchPlaces({query:M,near:p?{lat:p.lat,lng:p.lon}:void 0});G||(X(re),f("place_search_results",{query_length:M.length,result_count:re.length}))}catch(re){console.warn("Place search error",re),G||He("Couldn't search right now"),f("place_search_error",{message:typeof(re==null?void 0:re.message)=="string"?re.message:"unknown"})}finally{G||K(!1)}},250);return()=>{G=!0,window.clearTimeout(ie)}},[R,W,p,e,f]),w.useEffect(()=>{if(!W)return;const M=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=M}},[W]);const Nn=async()=>{if(!Ye.isNativePlatform())return!0;try{const M=await ms.requestPermissions();return(M==null?void 0:M.location)==="granted"||(M==null?void 0:M.location)==="grantedWhenInUse"?!0:(u("Enable location access for MetHere in Settings to capture venue pins.","info"),!1)}catch(M){return console.warn("Permission request error",M),u("Unable to request location permission right now.","error"),!1}},xr=async()=>{try{if(Ye.isNativePlatform()){const M=await ms.getCurrentPosition({enableHighAccuracy:!0});return{lat:M.coords.latitude,lon:M.coords.longitude}}}catch(M){throw console.warn("Native geolocation error",M),M}if(!navigator.geolocation)throw new Error("Geolocation not supported on this device.");return new Promise((M,G)=>{navigator.geolocation.getCurrentPosition(ie=>{M({lat:ie.coords.latitude,lon:ie.coords.longitude})},ie=>G(ie),{enableHighAccuracy:!0})})},An=async M=>{v(M);const G=`${M.lat.toFixed(4)}, ${M.lon.toFixed(4)}`;b(ie=>ie||G),u("Location captured","info")},Yr=(M,G)=>{const ie=i();return ie!=null&&ie.coords?M&&Math.abs(ie.coords.lat-M.lat)<5e-4&&Math.abs(ie.coords.lon-M.lon)<5e-4?!1:(de(ie),fe(()=>G),ee(!0),!0):!1},Xs=async()=>{try{if(S(!0),!await Nn())return;const G=await xr(),ie=()=>An(G);if(Yr(G,ie))return;await ie(),f("venue_pin_captured",{source:"current_location",venueName:e})}catch(M){console.warn("Location capture error",M);const G=typeof(M==null?void 0:M.message)=="string"&&M.message||"Couldn't access your location.";u(G,"error")}finally{S(!1)}},De=M=>{N(!1),V(""),X([]);const G={lat:M.lat,lon:M.lng},ie=()=>(v(G),b(M.address),u(`Location set to ${M.name}`,"info"),f("venue_pin_captured",{source:"search",venueName:e}),Promise.resolve());Yr(G,ie)||ie()},$t=()=>{if(!!m){g(!1);return}if(!l){vr(!0);return}g(!0)},on=async()=>{ee(!1),de(null);const M=Re;fe(null),M&&await M()},Bt=()=>{ee(!1),de(null),fe(null)};return d.jsxs(d.Fragment,{children:[d.jsx(Tn,{mode:"sync",children:t&&d.jsxs(Q.section,{layout:!0,layoutId:"location-section",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3,ease:[.4,0,.2,1]},className:"mt-1.5 space-y-4 will-change-transform",children:[d.jsxs("div",{children:[d.jsx("p",{className:n.replace("mb-2",""),children:"Location (optional)"}),d.jsx("p",{className:"mt-1 text-xs text-[var(--color-text-secondary)]",children:"Add a map pin for this venue."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{if(!Ye.isNativePlatform()){u("Search is available on device only.","info");return}f("place_search_opened",{venueName:e.trim()||"unspecified"}),N(!0)},className:"rounded-full bg-[var(--color-accent)] px-4 py-1.5 text-xs font-semibold text-white shadow-[0_10px_24px_rgba(0,0,0,0.18)] transition hover:brightness-110 disabled:opacity-60",children:"Choose a place"}),d.jsx("button",{type:"button",onClick:()=>{te(H.Light),Xs()},disabled:y,className:"rounded-full border border-white/40 bg-[var(--color-card)] px-4 py-1.5 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_6px_18px_rgba(0,0,0,0.08)]",children:y?"Capturing":"Use current location"})]}),d.jsx(Tn,{mode:"wait",initial:!1,children:p?d.jsxs(Q.div,{initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:12,scale:.98},transition:{duration:.22,ease:"easeOut"},className:"space-y-4 rounded-[30px] border border-[var(--color-card-border)] bg-[var(--color-card)]/95 p-5 shadow-[0_18px_40px_rgba(15,23,42,0.15)]",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-[26px] border border-white/15 bg-[var(--color-card)]/60",children:[d.jsx("img",{src:k??OR,alt:"Map preview",className:"h-48 w-full object-cover transition-opacity"}),!k&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/90",children:d.jsx("div",{className:"h-6 w-6 rounded-full bg-[var(--color-accent)] shadow-lg"})})}),C&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center bg-[var(--color-card)]/50 text-xs font-semibold text-[var(--color-text-secondary)]",children:"Generating preview"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:e.trim()||"The Broadview Rooftop"}),d.jsx("p",{className:"text-sm text-[var(--color-text-secondary)]",children:x||`${p.lat.toFixed(4)}, ${p.lon.toFixed(4)}`})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{var G;const M=(x==null?void 0:x.trim())||`${p.lat.toFixed(4)}, ${p.lon.toFixed(4)}`;(G=navigator.clipboard)==null||G.writeText(M).then(()=>u("Coordinates copied","info")).catch(()=>u("Unable to copy coordinates.","error"))},className:"rounded-full border border-[var(--color-card-border)] px-3 py-1 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_3px_10px_rgba(15,23,42,0.08)]",children:"Copy address"}),d.jsx("button",{type:"button",disabled:!p,onClick:()=>{p&&(Ye.isNativePlatform()?window.open(`maps://?ll=${p.lat},${p.lon}`,"_blank"):window.open(`https://maps.google.com/?q=${p.lat},${p.lon}`,"_blank"))},className:"rounded-full border border-[var(--color-card-border)] px-3 py-1 text-xs font-semibold text-[var(--color-text-primary)] shadow-[0_3px_10px_rgba(15,23,42,0.08)]",children:"Open in Maps"})]})]},"map-card"):null}),p&&d.jsxs("div",{className:"rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)]/80 px-4 py-3 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Nearby venue alert"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Notify me when Im near this venue."})]}),d.jsx("button",{type:"button",onClick:()=>{te(H.Light),$t()},className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${m?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${m?"translate-x-6":"translate-x-1"}`})})]}),r&&d.jsx("p",{className:"text-red-500 text-xs",children:r})]},"location-section")}),O&&Y&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-sm rounded-[32px] bg-[var(--color-card)] p-6 shadow-[0_20px_50px_rgba(15,23,42,0.4)] text-center space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Replace saved pin?"}),d.jsxs("p",{className:"mt-2 text-sm text-[var(--color-text-secondary)]",children:["",Y.name," already has a location. Replacing it will update the pin for everyone linked to this venue."]})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-center",children:[d.jsx("button",{type:"button",onClick:Bt,className:"rounded-full border border-[var(--color-card-border)] px-4 py-2 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/80",children:"Keep existing"}),d.jsx("button",{type:"button",onClick:on,className:"rounded-full bg-[var(--color-accent)] px-4 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(0,0,0,0.25)] hover:brightness-110",children:"Replace location"})]})]})}),Pt&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"w-full max-w-sm rounded-[32px] bg-[var(--color-card)] p-6 shadow-[0_20px_50px_rgba(15,23,42,0.4)] text-center space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Enable nearby venue alerts?"}),d.jsx("p",{className:"mt-2 text-sm text-[var(--color-text-secondary)]",children:"Turn on global alerts so this venue can notify you when youre nearby."})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-center",children:[d.jsx("button",{type:"button",onClick:()=>vr(!1),className:"rounded-full border border-[var(--color-card-border)] px-4 py-2 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/80",children:"Not now"}),d.jsx("button",{type:"button",onClick:()=>{vr(!1),c(),g(!0)},className:"rounded-full bg-[var(--color-accent)] px-4 py-2 text-sm font-semibold text-white shadow-[0_12px_24px_rgba(0,0,0,0.25)] hover:brightness-110",children:"Enable alerts"})]})]})}),W&&d.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center pointer-events-none bg-[var(--color-card)]/50 backdrop-blur-md",children:d.jsxs("div",{role:"dialog","aria-modal":"true",className:"pointer-events-auto w-[min(80vw,380px)] rounded-[30px] bg-white p-5 shadow-[0_25px_60px_rgba(15,23,42,0.45)] space-y-4 max-h-[80vh] flex flex-col border border-black/5",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-secondary)]",children:"Search by name or address"}),d.jsx("button",{type:"button",onClick:()=>N(!1),className:"text-lg font-semibold text-[var(--color-text-secondary)] hover:text-[var(--color-accent)]",children:""})]}),d.jsxs("div",{className:"rounded-[26px] border border-black/10 bg-white px-4 py-2 flex items-center gap-3 shadow-[inset_0_1px_2px_rgba(15,23,42,0.08)]",children:[d.jsx("span",{className:"text-[var(--color-text-secondary)]",children:""}),d.jsx("input",{type:"text",value:R,onChange:M=>V(M.target.value),placeholder:le,className:"flex-1 bg-transparent text-base text-[var(--color-text-primary)] outline-none placeholder:text-[var(--color-text-secondary)]",autoFocus:!0})]}),d.jsxs("div",{className:"max-h-[55vh] overflow-y-auto pr-1 flex-1 bg-white rounded-[20px] px-2 py-2 space-y-1",children:[z&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] px-1",children:"Searching"}),Pe&&d.jsx("p",{className:"text-xs text-red-500 px-1",children:Pe}),!z&&!Pe&&Z.length===0&&R.trim().length>=2&&d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] px-1",children:"No matches found."}),!z&&!Pe&&Z.slice(0,5).map(M=>d.jsxs("button",{type:"button",onClick:()=>De(M),className:"w-full text-left rounded-[18px] border border-black/5 bg-white px-3 py-2 shadow-[0_4px_12px_rgba(15,23,42,0.05)] hover:bg-[var(--color-card)]/30 transition",children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:M.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:M.address})]},`${M.lat}-${M.lng}-${M.address}`))]})]})})]})};function UR({initialData:e={},onSubmit:t,onCancel:n,mode:r,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l,hideActions:c=!1,onSubmittingChange:u,globalProximityEnabled:f,onEnableGlobalProximity:h}){const{trackEvent:p}=qr(),[v,x]=w.useState(e.name||""),[b,m]=w.useState(e.position||""),[g,y]=w.useState(e.description||""),{venues:S,addVenue:k,updateVenue:T}=Rl(),C=e.venueId?S.find(j=>j.id===e.venueId):void 0,_=()=>{const j=O.trim().toLowerCase();return j?S.find(he=>he.name.trim().toLowerCase()===j)??null:null},A=(C==null?void 0:C.name)??"",E=w.useMemo(()=>S.reduce((j,he)=>(j[he.id]=i.filter(Oe=>Oe.venueId===he.id).length,j),{}),[S,i]),{value:O,touched:ee,suggestions:Y,onChange:de,onSelect:Re,resolveVenue:fe}=MR({initialName:A,venues:S,addVenue:k,mode:r,venueUsage:E}),[W,N]=w.useState(!1),[R,V]=w.useState({}),[Z,X]=w.useState(null),[z,K]=w.useState(null),[Pe,He]=w.useState(!1);w.useEffect(()=>()=>{u==null||u(!1)},[u]),w.useEffect(()=>{if(!Z)return;const j=window.setTimeout(()=>X(null),250);return()=>window.clearTimeout(j)},[Z]);const{tags:le,input:yt,suggestions:Pt,highlightedIndex:vr,error:Nn,liveMsg:xr,handlers:{onInputChange:An,onInputKeyDown:Yr,onInputBlur:Xs,commit:De,remove:$t,resetInput:on,clearInput:Bt}}=AR({initialTags:r==="edit"&&e.tags?e.tags.map(j=>a(j).trim().toLowerCase()):[],allTags:s}),[M,G]=w.useState(null);w.useEffect(()=>{if(!M)return;const j=window.setTimeout(()=>G(null),250);return()=>window.clearTimeout(j)},[M]);const ie=()=>{if(jn.current){jn.current=!1;return}yt.trim()&&De(yt),An({target:{value:""}}),Xs()},re=new Date().toISOString().split("T")[0],[Mn,To]=w.useState(e.dateMet?e.dateMet.split("T")[0]:re),[Rn,Ol]=w.useState(()=>C!=null&&C.coords?{lat:C.coords.lat.toFixed(4),lon:C.coords.lon.toFixed(4)}:null),jn=w.useRef(!1),Vl=j=>{if(!z)return;const{coords:he,locationTag:Oe,proximityEnabled:zt}=z,Ht=j.locationTag??"",Ln=Oe||Ht,I=j.proximityAlertsEnabled!==!1;!(he&&(!j.coords||Math.abs(j.coords.lat-he.lat)>1e-6||Math.abs(j.coords.lon-he.lon)>1e-6))&&!(Oe&&Oe!==Ht)&&!(zt!==I)||(T({...j,coords:he??j.coords,locationTag:Ln,proximityAlertsEnabled:zt}),K(null))},Ul=j=>{if(j.preventDefault(),Pe)return;if(!v.trim()){te(H.Heavy),N(!0);return}const he=Mn||re,{isValid:Oe,errors:zt}=RR({name:v,dateMet:he,venue:O,tags:le,position:b,description:g,latitude:(Rn==null?void 0:Rn.lat)??"",longitude:(Rn==null?void 0:Rn.lon)??""});if(!Oe){te(H.Heavy),V(zt);return}V({}),Mn||To(he),V({});const Ht=yt.trim();Ht&&De(Ht);const Ln=le.map(F=>o(F)??l(F).id),I=new Date().toISOString(),D=fe(),U={id:e.id||oe(),name:v.trim(),position:b.trim()||void 0,venueId:D.id,description:g.trim()||void 0,dateMet:he,createdAt:r==="add"?I:e.createdAt,updatedAt:r==="edit"?I:void 0,tags:Ln,favorite:e.favorite??!1};He(!0),u==null||u(!0);try{t(U),Vl(D)}finally{He(!1),u==null||u(!1)}},an="block text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)] mb-2",ln="w-full px-3 py-2 rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] text-base text-[var(--color-text-primary)] placeholder:text-[var(--color-text-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] shadow-level1",_o=j=>{const he=w.useRef(null),[Oe,zt]=w.useState(!1),[Ht,Ln]=w.useState(!1);return w.useEffect(()=>{const I=he.current;if(!I)return;const D=()=>{const U=I.scrollWidth-I.clientWidth>4;zt(U),U&&Ln(!0)};return D(),window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}},j),w.useEffect(()=>{if(!Oe)return;const I=window.setTimeout(()=>Ln(!1),700);return()=>window.clearTimeout(I)},[Oe]),{ref:he,hasOverflow:Oe,showHint:Ht}},Zs=_o([Y.length]),vh=_o([le.length]),Co=_o([Pt.length,yt]),Fl=!!O.trim();return d.jsx(d.Fragment,{children:d.jsxs("form",{id:"person-form",onSubmit:Ul,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"name",className:an,children:["Name ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{id:"name",type:"text",value:v,onChange:j=>x(j.target.value),onBlur:()=>N(!0),className:`${ln} ${W&&!v.trim()?"border-red-400":""}`,required:!0}),W&&!v.trim()&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Name is required"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"date-met",className:an,children:["Date Met ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{id:"date-met",type:"date",value:Mn,onChange:j=>To(j.target.value),className:`${ln} ${R.dateMet?"border-red-400":""}`,required:!0,max:re}),R.dateMet&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.dateMet})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"position",className:an,children:"Position / Role"}),d.jsx("input",{id:"position",type:"text",value:b,onChange:j=>m(j.target.value),className:ln}),R.position&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.position})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"venue",className:an,children:"Venue (optional)"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mb-2",children:"Name or select the venue to enable location tools."}),d.jsx("input",{id:"venue",type:"text",value:O,onChange:j=>de(j.target.value),className:ln}),ee&&O.length>50&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Venue name is too long"}),R.venue&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.venue})]}),Y.length>0&&d.jsxs("div",{className:"mt-1.5 mb-1 space-y-1",children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Suggested venues"}),d.jsx("div",{ref:Zs.ref,className:"relative overflow-x-auto whitespace-nowrap gap-2 px-1 pb-1.5 pr-10 tag-suggestion-rail",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:Y.map(j=>{const he=Z===j;return d.jsx(Q.button,{type:"button",className:"inline-block mr-3 px-3 py-1 rounded-full text-sm bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] border border-[var(--color-accent-muted)] hover:bg-[var(--color-accent-muted)]/80",onPointerDown:()=>{jn.current=!0},onClick:async()=>{await te(H.Light),Re(j),X(j),jn.current=!1},animate:he?{scale:[.94,1.05,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 10px 20px rgba(15,23,42,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:1,boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.22,ease:"easeOut"},onAnimationComplete:()=>{he&&X(null)},children:j},j)})})]}),d.jsx(VR,{venueName:O,canUseLocation:Fl,labelClass:an,formError:R.coords,resolveVenue:fe,getSelectedVenue:_,onValidationCoordsChange:Ol,onPendingChange:K,globalProximityEnabled:f,onEnableGlobalProximity:h}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:an,children:"Description (optional)"}),d.jsx("textarea",{id:"description",value:g,onChange:j=>y(j.target.value),className:`${ln} min-h-[120px]`,rows:3}),R.description&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.description})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tag-input",className:an,children:"Tags"}),d.jsx("div",{role:"list",ref:vh.ref,className:"relative overflow-x-auto whitespace-nowrap mb-2 px-1 pb-4 pr-10",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:le.length>0?le.map(j=>d.jsxs("button",{type:"button",onClick:async()=>{await te(H.Light),$t(j)},className:"inline-flex items-center mr-3 bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] px-3 py-1 rounded-full text-sm hover:bg-[var(--color-accent-muted)]/80 transition focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]","aria-label":`Remove tag ${j}`,children:[j,d.jsx("span",{className:"ml-2 text-red-500 text-base",children:""})]},j)):d.jsx("span",{className:"inline-block mr-3 text-[var(--color-text-secondary)] text-sm italic",children:"no tags added"})}),d.jsx("input",{id:"tag-input",type:"text",placeholder:"Add a tag",value:yt,onChange:An,onKeyDown:Yr,onBlur:ie,autoComplete:"off",className:ln}),d.jsxs("div",{className:"text-xs text-[var(--color-text-secondary)] text-right mt-1",children:[yt.length," / 25"]}),d.jsxs("div",{className:"mt-3 space-y-1",children:[Pt.length>0&&d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Suggested tags"}),d.jsxs("div",{ref:Co.ref,className:"relative overflow-x-auto whitespace-nowrap px-3 pb-3 pr-12 tag-suggestion-rail",onWheel:j=>j.stopPropagation(),onTouchStart:j=>j.stopPropagation(),style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch"},children:[Pt.map((j,he)=>{const Oe=M===j.id;return d.jsx(Q.button,{type:"button",onPointerDown:()=>{jn.current=!0},onClick:async()=>{await te(H.Light),De(j.name),Bt(),G(j.id)},className:`inline-block mr-3 px-3 py-1 rounded-full text-sm bg-[var(--color-accent-muted)] text-[var(--color-text-primary)] border border-[var(--color-accent-muted)] hover:bg-[var(--color-accent-muted)]/80 ${he===vr?"ring-2 ring-[var(--color-accent)]":""}`,animate:Oe?{scale:[.94,1.05,1],boxShadow:["0 0 0 rgba(0,0,0,0)","0 10px 20px rgba(15,23,42,0.15)","0 0 0 rgba(0,0,0,0)"]}:{scale:1,boxShadow:"0 0 0 rgba(0,0,0,0)"},transition:{duration:.22,ease:"easeOut"},onAnimationComplete:()=>{Oe&&G(null)},children:j.name},j.id)}),(()=>{const j=yt.trim().toLowerCase().replace(/[^a-z0-9-\s]/g,"").replace(/\s{2,}/g," ");return j&&!le.includes(j)&&!s.some(he=>he.name===j)?d.jsxs("button",{type:"button",onPointerDown:()=>{jn.current=!0},onClick:async()=>{await te(H.Light),De(j),Bt(),p("custom_tag_created",{tag:j})},className:"inline-block mr-3 px-3 py-1 rounded-full text-sm border border-dashed border-[var(--color-accent)] text-[var(--color-accent)] bg-white/70 hover:bg-white",children:["Create ",j,""]}):null})()]})]}),Nn&&d.jsx("div",{className:"text-red-500 text-xs mt-1",children:Nn}),xr&&d.jsx("div",{className:"text-sm text-[var(--color-text-secondary)] mt-1",children:xr}),R.tags&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.tags})]}),!c&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",disabled:!v.trim(),className:`flex-1 py-2 rounded-full text-white text-center font-semibold transition ${v.trim()?"bg-[var(--color-accent)] hover:brightness-110 shadow":"bg-[var(--color-accent-muted)]/50 text-[var(--color-text-secondary)]/70 cursor-not-allowed"}`,children:"Save"}),n&&d.jsx("button",{type:"button",onClick:n,className:"flex-1 py-2 border border-white/70 rounded-full text-sm text-[var(--color-text-secondary)] hover:bg-white transition",children:"Cancel"})]})]})})}function Og({mode:e,person:t,onSubmit:n,onCancel:r,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l,globalProximityEnabled:c,onEnableGlobalProximity:u}){const f=e==="add"?"Add Person":"Edit Person",[h,p]=w.useState(!1),v=e==="edit"?t:void 0,x=typeof document<"u"?document.getElementById("modal-root")??document.body:null;return x?sv.createPortal(d.jsx(Q.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeInOut"},onClick:r,style:{willChange:"opacity",overscrollBehavior:"contain",touchAction:"none",paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(Q.div,{role:"dialog","aria-modal":"true",className:"glass-panel w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:b=>b.stopPropagation(),style:{willChange:"transform, opacity"},children:[d.jsxs("div",{className:"flex-none sticky top-0 z-10 bg-[var(--color-surface)]/95 backdrop-blur-lg border-b border-white/40 px-6 py-4 shadow-[0_6px_18px_rgba(15,23,42,0.08)] pr-14",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-[0_8px_20px_rgba(15,23,42,0.12)]",children:e==="add"?d.jsx(lR,{size:18}):d.jsx(oR,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]/80",children:e==="add"?"Create new connection":"Update connection"}),d.jsx("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:f})]})]}),d.jsx("button",{type:"button","aria-label":"Close modal",className:"absolute top-3 right-3 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 transition flex items-center justify-center",onClick:b=>{b.stopPropagation(),te(H.Light),r()},children:d.jsx(Ll,{size:16})})]}),d.jsx("div",{className:"relative flex-1 overflow-y-auto px-6 py-4 bg-[var(--color-card)]",style:{scrollbarGutter:"stable",WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y"},children:d.jsx(UR,{initialData:v,onSubmit:n,onCancel:r,mode:e,tags:s,people:i,getTagIdByName:o,getTagNameById:a,createTag:l,hideActions:!0,onSubmittingChange:p,globalProximityEnabled:c,onEnableGlobalProximity:u})}),d.jsxs("div",{className:"flex-none sticky bottom-0 z-10 bg-[var(--color-surface)]/95 backdrop-blur-lg border-t border-white/40 px-6 py-4 flex justify-end gap-2 shadow-[0_-6px_18px_rgba(15,23,42,0.08)]",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-full border border-white/70 text-sm text-[var(--color-text-secondary)] hover:bg-white transition",children:"Cancel"}),d.jsx("button",{type:"submit",form:"person-form",disabled:h,className:"px-4 py-2 rounded-full bg-[var(--color-accent)] text-white text-sm font-semibold shadow-level1 hover:brightness-105 transition disabled:opacity-60 disabled:cursor-not-allowed",children:h?"Saving":"Save"})]})]})}),x):null}function FR({name:e,onConfirm:t,onCancel:n,isDeleting:r=!1}){return d.jsx(Q.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:d.jsxs(Q.div,{className:"glass-panel w-full max-w-md overflow-hidden flex flex-col shadow-[0_30px_80px_rgba(15,23,42,0.2)]",initial:{opacity:0,scale:.94,y:18},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:18},transition:{duration:.25,ease:"easeInOut"},onClick:s=>s.stopPropagation(),style:{willChange:"transform, opacity"},children:[d.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 bg-[var(--color-surface)]/90 backdrop-blur-lg",children:[d.jsx("div",{className:"w-11 h-11 rounded-2xl bg-red-500/15 text-red-400 flex items-center justify-center shadow-[0_8px_18px_rgba(15,23,42,0.18)] border border-white/20",children:d.jsx(uw,{size:20})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-red-400/80",children:"Caution"}),d.jsx("h2",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:"Confirm Delete"})]})]}),d.jsx("div",{className:"px-6 py-5 bg-[var(--color-card)] text-sm text-[var(--color-text-secondary)] leading-relaxed",children:d.jsxs("p",{children:["Are you sure you want to delete ",d.jsx("strong",{className:"text-[var(--color-text-primary)]",children:e}),"? This action cannot be undone."]})}),d.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 bg-[var(--color-card)]",children:[d.jsx("button",{onClick:()=>{te(H.Light),n()},className:"px-4 py-2 rounded-full border border-white/40 text-sm text-[var(--color-text-secondary)] hover:bg-white/60 hover:text-[var(--color-text-primary)] transition",children:"Cancel"}),d.jsx("button",{onClick:()=>{te(H.Heavy),t()},disabled:r,className:"px-4 py-2 rounded-full bg-red-500 text-white text-sm font-semibold shadow-level1 hover:brightness-105 transition disabled:opacity-60 disabled:cursor-not-allowed",children:r?"Deleting":"Delete"})]})]})})}function $R({showAdd:e,onAddCancel:t,onAdd:n,tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,editingPerson:l,onEditCancel:c,onEdit:u,personToDelete:f,onDeleteCancel:h,onDeleteConfirm:p,globalProximityEnabled:v,onEnableGlobalProximity:x}){return d.jsxs(d.Fragment,{children:[d.jsxs(Tn,{mode:"wait",initial:!1,children:[e&&d.jsx(Og,{mode:"add",tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,globalProximityEnabled:v,onEnableGlobalProximity:x,onSubmit:n,onCancel:t},"add-person"),l&&d.jsx(Og,{mode:"edit",person:l,tags:r,people:s,getTagIdByName:i,getTagNameById:o,createTag:a,globalProximityEnabled:v,onEnableGlobalProximity:x,onSubmit:u,onCancel:c},"edit-person")]}),d.jsx(Tn,{mode:"wait",initial:!1,children:f&&d.jsx(FR,{name:f.name,onCancel:h,onConfirm:()=>p(f.id)},"delete-person")})]})}function BR({segments:e,value:t,onChange:n,className:r=""}){const{trackEvent:s}=qr();return d.jsx(qT,{children:d.jsx("div",{className:`relative inline-flex rounded-full bg-[var(--color-card)]/90 backdrop-blur-lg overflow-hidden shadow-[0_8px_18px_rgba(15,23,42,0.07)] border border-[var(--color-card-border)]/70 p-0.5 ${r}`,style:{WebkitMaskImage:"radial-gradient(circle, white 99%, transparent 100%)"},children:e.map(i=>{const o=i.key===t,a=i.key==="all"?d.jsx(qM,{size:14,className:"mr-1.5"}):d.jsx(hh,{size:14,className:"mr-1.5"}),l=async()=>{o||(await te(H.Medium),s("segmented_control_change",{segment:i.key}),n(i.key))};return d.jsxs("button",{type:"button","aria-pressed":o,onClick:l,className:`relative isolate flex items-center gap-1.5 px-[11px] min-h-[30px] text-[0.82rem] font-medium transition-all duration-250 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-accent)]/25 ${o?"text-white drop-shadow-[0_2px_8px_rgba(15,23,42,0.25)] opacity-100":"text-[var(--color-text-secondary)] opacity-70 hover:opacity-100 hover:text-[var(--color-text-primary)]"}`,children:[o&&d.jsx(Q.span,{layoutId:"segmentHighlight",className:"absolute inset-[1px] rounded-full border",style:{backgroundColor:"var(--color-accent)",borderColor:"var(--color-accent)",boxShadow:"0 10px 24px rgba(15,23,42,0.18)"},transition:{type:"spring",stiffness:420,damping:32,mass:.35}}),d.jsxs(Q.span,{className:"relative flex items-center",animate:o?{scale:[1,1.1,1]}:{scale:1},transition:{duration:.25},children:[a,i.label]})]},i.key)})})})}const zR=w.memo(BR),HR=[{key:"name",dir:"asc",label:"Name AZ",description:"Alphabetical ascending"},{key:"name",dir:"desc",label:"Name ZA",description:"Alphabetical descending"},{key:"recentVisit",dir:"desc",label:"Recent visits first",description:"Newest activity at the top"},{key:"recentVisit",dir:"asc",label:"Oldest visits first",description:"Revisit older spots"},{key:"knownCount",dir:"desc",label:"Most known people",description:"Heaviest activity first"},{key:"knownCount",dir:"asc",label:"Least known people",description:"Discover quieter venues"}],WR=[{value:"name-asc",label:"Name AZ",description:"Alphabetical ascending"},{value:"name-desc",label:"Name ZA",description:"Alphabetical descending"},{value:"dateMet-desc",label:"Newest meetings",description:"People you met most recently"},{value:"dateMet-asc",label:"Oldest meetings",description:"Older connections first"},{value:"updatedAt-desc",label:"Recently updated",description:"Latest edits to profiles"},{value:"updatedAt-asc",label:"Oldest updates",description:"See older notes again"}];function Vg({variant:e,venueSortKey:t,venueSortDir:n,setVenueSortKey:r,setVenueSortDir:s,personSort:i,setPersonSort:o}){const a=`${t}-${n}`,l=e==="venue",c=l?HR.map(({key:h,dir:p,label:v,description:x})=>{const b=`${h}-${p}`,m=b===a;return{key:b,label:v,description:x,active:m,onSelect:async()=>{await te(m?H.Light:H.Medium),r(h),s(p)}}}):WR.map(({value:h,label:p,description:v})=>{const x=h===i;return{key:h,label:p,description:v,active:x,onSelect:async()=>{await te(x?H.Light:H.Medium),o(h)}}}),u=l?"Sort venues":"Sort people",f=l?Zn:hR;return d.jsxs("div",{className:"space-y-3 text-left",children:[d.jsxs("div",{className:"flex items-center gap-3 px-1",children:[d.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-[0_8px_18px_rgba(15,23,42,0.15)]",children:d.jsx(f,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:u}),d.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)]/90",children:["Choose how ",l?"venues":"people"," are ordered."]})]})]}),d.jsx("div",{className:"rounded-2xl bg-[var(--color-card)]/95 px-3 py-2.5 shadow-level1/40",children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-[13px]",children:c.map(({key:h,label:p,description:v,active:x,onSelect:b})=>d.jsxs("button",{onClick:b,className:`w-full text-left px-3 py-2.5 rounded-2xl border transition duration-200 flex items-start justify-between gap-2 ${x?"border-[color:var(--color-accent)] bg-[color:var(--color-accent-muted)] text-[var(--color-accent)]":"border-[color:var(--color-card-border)] bg-[var(--color-card)] text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90"}`,children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[13px] font-semibold",children:p}),d.jsx("p",{className:`text-[11px] ${x?"text-[var(--color-accent)]/90":"text-[var(--color-text-secondary)]"}`,children:v})]}),x&&d.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center self-center rounded-full bg-[var(--color-card)] text-[var(--color-accent)] shadow-[0_4px_10px_rgba(15,23,42,0.12)]",children:d.jsx(ow,{size:12,className:"translate-y-[0.5px]"})})]},h))})})]})}const GR=({searchQuery:e,setSearchQuery:t,activeTags:n,setActiveTags:r,venueSortKey:s,venueSortDir:i,setVenueSortKey:o,setVenueSortDir:a,personSort:l,setPersonSort:c,onOpenSettings:u,onOpenProfile:f,venueView:h,setVenueView:p,favoriteVenueCount:v,totalVenueCount:x,showSortModal:b,setShowSortModal:m})=>{const g=w.useMemo(()=>[{key:"all",label:`All Venues (${x})`},{key:"favs",label:`Favourites (${v})`}],[x,v]);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"sticky z-40",style:{top:0},children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-x-0 pointer-events-none bg-[var(--color-surface)]/92 backdrop-blur-[30px] border-b border-[var(--color-card-border)]/70 shadow-[0_12px_28px_rgba(15,23,42,0.18)]",style:{top:"calc(-1 * env(safe-area-inset-top))",height:"calc(100% + env(safe-area-inset-top))"}}),d.jsxs("div",{className:"relative space-y-1",style:{paddingTop:"calc(env(safe-area-inset-top) + 6px)"},children:[d.jsx("div",{className:"px-4 sm:px-6 md:px-8 lg:px-10 pb-1",children:d.jsxs("div",{className:"flex items-center gap-2 max-w-3xl mx-auto w-full",children:[d.jsx("button",{"aria-label":"Settings",onClick:u,className:"p-2 rounded-md hover:bg-white/60 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition",children:d.jsx(cw,{size:20})}),d.jsxs("div",{className:"relative flex-1",children:[d.jsx(WM,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--color-accent)] drop-shadow-[0_2px_4px_rgba(15,23,42,0.3)] z-10",size:20,strokeWidth:2.4}),d.jsx("input",{type:"text",value:e,onChange:y=>t(y.target.value),placeholder:"Search people, tags, venues",className:"w-full h-12 pl-11 pr-16 rounded-full bg-[var(--color-card)] backdrop-blur-sm border border-[var(--color-card-border)] text-[var(--color-text-primary)] placeholder:text-[var(--color-text-secondary)]/80 placeholder:text-[0.9rem] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] shadow-level1"}),e&&d.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]",onClick:()=>t(""),"aria-label":"Clear search",children:""}),d.jsx("button",{"aria-label":"Sort",className:`absolute top-1/2 -translate-y-1/2 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition ${e?"right-9":"right-3.5"}`,onClick:()=>m(!0),children:d.jsx(LM,{size:18})})]}),d.jsx("button",{"aria-label":"Profile",className:"p-2 rounded-md hover:bg-white/60 text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition",onClick:f,children:d.jsx(dR,{size:20})})]})}),d.jsx("div",{className:"bg-transparent",children:d.jsx("div",{className:"px-4 sm:px-6 md:px-8 lg:px-10 pt-0 pb-2 space-y-0.5",children:d.jsx("div",{className:"flex justify-center pt-0.5",children:d.jsx(zR,{segments:g,value:h,onChange:p,className:"shadow-level1"})})})})]})]})}),d.jsx(Tn,{children:b&&d.jsx(Q.div,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),children:d.jsxs(Q.div,{className:"glass-panel w-full max-w-md max-h-[85vh] overflow-hidden flex flex-col relative bg-[var(--color-card)]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:y=>y.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:y=>{y.stopPropagation(),te(H.Light),m(!1)},"aria-label":"Close sort options",children:d.jsx(Ll,{size:16})}),d.jsxs("div",{className:"overflow-y-auto px-5 pb-5 pt-6 space-y-4",style:{scrollbarGutter:"stable"},children:[d.jsx(Vg,{variant:"venue",venueSortKey:s,venueSortDir:i,setVenueSortKey:o,setVenueSortDir:a,personSort:l,setPersonSort:c}),d.jsx(Vg,{variant:"people",venueSortKey:s,venueSortDir:i,setVenueSortKey:o,setVenueSortDir:a,personSort:l,setPersonSort:c})]})]})})})]})};function KR({onComplete:e}){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center px-4 py-10",style:{paddingTop:"calc(env(safe-area-inset-top) + 24px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 24px)"},children:d.jsxs(Q.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"w-full max-w-sm rounded-[32px] border border-white/40 bg-[linear-gradient(180deg,var(--color-surface)_0%,var(--color-surface-alt)_55%,var(--color-surface)_100%)] px-6 py-8 text-center shadow-[0_24px_60px_rgba(15,23,42,0.16)]",children:[d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("img",{src:fw,alt:"MetHere",className:"h-8 w-auto opacity-80"})}),d.jsxs("h1",{className:"mt-6 text-2xl font-semibold text-[var(--color-text-primary)]",children:["Never forget where",d.jsx("br",{}),"you met someone."]}),d.jsxs("p",{className:"mt-4 text-sm leading-relaxed text-[var(--color-text-secondary)]",children:["MetHere helps you remember"," ",d.jsx("span",{className:"font-semibold text-[var(--color-text-primary)]",children:"people"})," by linking them to the"," ",d.jsx("span",{className:"font-semibold text-[var(--color-text-primary)]",children:"places you met"}),". Add a venue, attach the people you met there, and recall it later."]}),d.jsx("button",{type:"button",onClick:e,className:"mt-8 w-full rounded-full bg-[var(--color-accent)] px-6 py-3 text-sm font-semibold text-white shadow-[0_16px_30px_rgba(37,99,235,0.3)] transition hover:brightness-110",children:"Get Started"})]})})}function qR(e,t){return!e.tags||!t?[]:e.tags.map(t)}function YR(e,t,n){const r=t.trim().toLowerCase();return r?[e.name,e.position??"",e.description??"",...qR(e,n)].some(i=>i.toLowerCase().includes(r)):!0}function XR(e,t){return t.length===0?!0:t.every(n=>(e.tags??[]).includes(n))}function ZR(e,t,n=!0){return[...e].sort((r,s)=>{let i,o;switch(t){case"name":i=r.name.toLowerCase(),o=s.name.toLowerCase();break;case"dateMet":i=new Date(r.dateMet).getTime(),o=new Date(s.dateMet).getTime();break;case"createdAt":i=new Date(r.createdAt).getTime(),o=new Date(s.createdAt).getTime();break;case"updatedAt":i=new Date(r.updatedAt??r.createdAt).getTime(),o=new Date(s.updatedAt??s.createdAt).getTime();break;case"favorite":i=r.favorite?0:1,o=s.favorite?0:1;break;default:i=r.name.toLowerCase(),o=s.name.toLowerCase()}return i<o?n?-1:1:i>o?n?1:-1:0})}function Ug(e,t){const n=t.filter(r=>r.venueId===e.id).map(r=>new Date(r.updatedAt??r.createdAt).getTime());return n.length?Math.max(...n):0}function QR(e,t,n,r=!0){return[...e].sort((s,i)=>{let o,a;switch(n){case"name":o=s.name.toLowerCase(),a=i.name.toLowerCase();break;case"recentVisit":o=Ug(s,t),a=Ug(i,t);break;case"knownCount":o=t.filter(l=>l.venueId===s.id).length,a=t.filter(l=>l.venueId===i.id).length;break;default:o=s.name.toLowerCase(),a=i.name.toLowerCase()}return o<a?r?-1:1:o>a?r?1:-1:0})}function JR(e,t,n,r,s=!0){const{venues:i}=Rl(),{getTagNameById:o}=fh(),a=w.useMemo(()=>Object.fromEntries(i.map(l=>[l.id,l.name])),[i]);return w.useMemo(()=>{const l=t.trim().toLowerCase();let c=e;return l&&(c=c.filter(u=>{var v;const f=YR(u,t,o),p=(u.venueId?(v=a[u.venueId])==null?void 0:v.toLowerCase():"").includes(l);return f||p})),c=c.filter(u=>XR(u,n)),ZR(c,r,s)},[e,t,n,r,s,a])}function ej(e,t,n="recentVisit",r=!1){return w.useMemo(()=>QR(e,t,n,r),[e,t,n,r])}function tj(e="",t=[],n="updatedAt-desc"){const[r,s]=w.useState(e),[i,o]=w.useState(t),[a,l]=w.useState(n);return{searchQuery:r,setSearchQuery:s,activeTags:i,setActiveTags:o,personSort:a,setPersonSort:l}}const nj={success:{label:"Success",icon:d.jsx(kM,{size:18}),badgeBg:"bg-[var(--color-success)]/15",iconColor:"text-[var(--color-success)]",accentBorder:"border-[var(--color-success)]/30",animation:"glow"},info:{label:"Heads up",icon:d.jsx(AM,{size:18}),badgeBg:"bg-[var(--color-info)]/15",iconColor:"text-[var(--color-info)]",accentBorder:"border-[var(--color-info)]/30",animation:"wave"},error:{label:"Oops",icon:d.jsx(uw,{size:18}),badgeBg:"bg-[var(--color-error)]/15",iconColor:"text-[var(--color-error)]",accentBorder:"border-[var(--color-error)]/30",animation:"pulse"}};function rj({message:e,type:t="success",onDismiss:n,meta:r={}}){if(t==="celebration")return d.jsx(Q.div,{initial:{opacity:0,y:40,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.4,ease:"easeOut"},role:"status","aria-live":"polite",children:d.jsxs("div",{className:"celebration-toast relative pointer-events-auto rounded-3xl px-5 py-4 shadow-[0_20px_45px_rgba(168,85,247,0.35)] bg-[var(--color-accent)] text-white overflow-hidden w-full max-w-sm ml-auto border border-white/30",children:[d.jsx(Q.div,{className:"absolute inset-0 bg-white/15",initial:{opacity:0,scale:.8},animate:{opacity:[0,.35,0],scale:[.8,1.4,1.7]},transition:{duration:.9,ease:"easeOut"}}),d.jsxs("div",{className:"relative flex items-start gap-4",children:[d.jsx(Q.div,{className:"h-11 w-11 rounded-2xl bg-white/25 flex items-center justify-center shadow-lg",initial:{scale:.8,rotate:-10},animate:{scale:1,rotate:0},transition:{duration:.45,ease:"easeOut"},children:d.jsx("svg",{viewBox:"0 0 32 32",className:"h-6 w-6 text-white",fill:"currentColor",children:d.jsx("path",{d:"M16 3l3.09 6.26L26 10.27l-5 4.87L22.18 22 16 18.27 9.82 22 11 15.14 6 10.27l6.91-1.01L16 3z"})})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/80",children:"Achievement"}),d.jsx("p",{className:"text-lg font-semibold leading-snug",children:e}),d.jsx("p",{className:"text-sm text-white/80 mt-1",children:typeof(r==null?void 0:r.description)=="string"?r.description:"Keep goingyoure on a streak."})]})]})]})});const s=nj[t];return d.jsx(Q.div,{initial:{opacity:0,y:20,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.96},transition:{duration:.25,ease:"easeOut"},className:"pointer-events-auto",role:"status","aria-live":"polite",children:d.jsxs("div",{className:`relative pointer-events-auto rounded-3xl px-5 py-4 flex items-start gap-3 border backdrop-blur-xl shadow-[0_18px_36px_rgba(15,23,42,0.25)] bg-[var(--color-surface)]/95 ${s.accentBorder}`,children:[n&&d.jsx("button",{type:"button",className:"absolute -top-2 -right-2 h-7 w-7 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center","aria-label":"Dismiss notification",onClick:i=>{i.stopPropagation(),n()},children:""}),d.jsxs(Q.div,{className:`relative h-9 w-9 rounded-2xl flex items-center justify-center shadow-level1/40 overflow-hidden ${s.badgeBg} ${s.iconColor}`,initial:{scale:.85},animate:{scale:1,rotate:s.animation==="wave"?[0,-6,6,0]:[0,-4,0]},transition:{duration:.45,ease:"easeOut"},children:[s.animation==="glow"&&d.jsx(Q.div,{className:"absolute inset-0 rounded-2xl bg-white/30",initial:{opacity:0,scale:.6},animate:{opacity:[0,.8,0],scale:[.6,1.1,1.4]},transition:{duration:.7,ease:"easeOut"}}),s.animation==="pulse"&&d.jsx(Q.div,{className:"absolute inset-0 rounded-2xl border-2 border-white/30",initial:{opacity:0,scale:.9},animate:{opacity:[.2,.8,0],scale:[.9,1.05,1.25]},transition:{duration:.45,ease:"easeOut"}}),s.animation==="wave"&&d.jsx(Q.span,{className:"absolute inset-0 bg-white/20",style:{transformOrigin:"left center"},initial:{opacity:0,scaleX:0},animate:{opacity:[0,.6,0],scaleX:[0,1,1.2],x:[0,4,6]},transition:{duration:.7,ease:"easeInOut"}}),s.icon]}),d.jsxs("div",{className:"flex-1 text-[var(--color-text-primary)]",children:[d.jsx("p",{className:"text-sm font-semibold leading-tight opacity-80",children:s.label}),d.jsx("p",{className:"text-sm text-[var(--color-text-primary)] mt-0.5 leading-snug",children:e})]})]})})}const pw=w.createContext({theme:"light",setTheme:()=>{}}),sj=({children:e})=>{const t=()=>{if(typeof window>"u")return"light";const o=localStorage.getItem("theme");return o&&["light","coral","midnight","pink","emerald"].includes(o)?o:window.matchMedia("(prefers-color-scheme: dark)").matches?"midnight":"light"},[n,r]=w.useState(()=>t()),{trackEvent:s}=qr(),i=w.useCallback(o=>{o!==n&&(r(o),s("theme_changed",{theme:o}))},[n,s]);return w.useEffect(()=>{document.documentElement.setAttribute("data-theme",n);try{localStorage.setItem("theme",n)}catch{}},[n]),d.jsx(pw.Provider,{value:{theme:n,setTheme:i},children:e})};var gs;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE",e.ExternalCache="EXTERNAL_CACHE",e.LibraryNoCloud="LIBRARY_NO_CLOUD",e.Temporary="TEMPORARY"})(gs||(gs={}));var sl;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(sl||(sl={}));const Zo=Ut("Filesystem",{web:()=>Ks(()=>import("./web-ed7ffe31.js"),[]).then(e=>new e.FilesystemWeb)});hw();const Fg=Ut("Share",{web:()=>Ks(()=>import("./web-6318c280.js"),[]).then(e=>new e.ShareWeb)}),hd=1,Qo=2*1024*1024,il=2e3,ol=500,al=500,$g=512,ij=1,oj=["id","name","position","dateMet","venueName","tags","favorite","description"],ko=e=>typeof e=="object"&&e!==null,Fc=e=>typeof e=="string"&&!Number.isNaN(Date.parse(e)),kt=e=>e.length>$g?e.slice(0,$g):e,aj=e=>{if(!ko(e))return;const{lat:t,lon:n}=e;return typeof t=="number"&&typeof n=="number"?{lat:t,lon:n}:void 0},lj=e=>{const t=/[",\n\r]/.test(e),n=e.replace(/"/g,'""');return t?`"${n}"`:n},Bg=e=>{const t=[];let n="",r=!1;for(let s=0;s<e.length;s+=1){const i=e[s];if(i==='"'){if(r&&e[s+1]==='"'){n+='"',s+=1;continue}r=!r;continue}if(i===","&&!r){t.push(n),n="";continue}n+=i}return t.push(n),t.map(s=>s.trim())},cj=e=>{const n=e.split(/\r?\n/).map((i,o)=>({line:i.trim(),lineNumber:o+1})).filter(({line:i})=>i.length>0&&!i.startsWith("#"));if(n.length===0)throw new Error("CSV file is empty.");const r=Bg(n[0].line).map(i=>i.toLowerCase()),s=n.slice(1).map(i=>({lineNumber:i.lineNumber,values:Bg(i.line)}));return{headers:r,rows:s}};function uj(e,t,n){if(!Array.isArray(e))throw new Error("People data missing or malformed.");if(e.length>il)throw new Error(`Backup has too many people (max ${il}).`);const r=new Set(t.map(i=>i.id)),s=new Set(n.map(i=>i.id));return e.map((i,o)=>{if(!ko(i))throw new Error(`Person entry #${o+1} is invalid.`);const a=typeof i.name=="string"?kt(i.name.trim()):"";if(!a)throw new Error(`Person entry #${o+1} is missing a name.`);const l=typeof i.id=="string"&&i.id.trim()?i.id:crypto.randomUUID(),c=Fc(i.dateMet)?i.dateMet:new Date().toISOString(),u=Fc(i.createdAt)?i.createdAt:c,f=Fc(i.updatedAt)?i.updatedAt:void 0,h=Array.isArray(i.tags)?i.tags.filter(v=>typeof v=="string"&&v.trim().length>0).filter(v=>s.has(v)):[],p=typeof i.venueId=="string"&&r.has(i.venueId)?i.venueId:void 0;return{id:l,name:a,position:typeof i.position=="string"?kt(i.position):void 0,description:typeof i.description=="string"?kt(i.description):void 0,venueId:p,dateMet:c,createdAt:u,updatedAt:f,tags:h,favorite:!!i.favorite,proximityAlertsEnabled:i.proximityAlertsEnabled!==!1}})}function dj(e){if(!Array.isArray(e))throw new Error("Venue data missing or malformed.");if(e.length>ol)throw new Error(`Backup has too many venues (max ${ol}).`);return e.map((t,n)=>{if(!ko(t))throw new Error(`Venue entry #${n+1} is invalid.`);const r=typeof t.name=="string"?kt(t.name.trim()):"";if(!r)throw new Error(`Venue entry #${n+1} is missing a name.`);return{id:typeof t.id=="string"&&t.id.trim()?t.id:crypto.randomUUID(),name:r,locationTag:typeof t.locationTag=="string"?kt(t.locationTag):void 0,coords:aj(t.coords),favorite:!!t.favorite,proximityAlertsEnabled:t.proximityAlertsEnabled!==!1}})}function fj(e){if(!Array.isArray(e))throw new Error("Tag data missing or malformed.");if(e.length>al)throw new Error(`Backup has too many tags (max ${al}).`);return e.map((t,n)=>{if(!ko(t))throw new Error(`Tag entry #${n+1} is invalid.`);const r=typeof t.id=="string"&&t.id.trim()?t.id:crypto.randomUUID(),s=typeof t.name=="string"?kt(t.name.trim()):"";if(!s)throw new Error(`Tag entry #${n+1} is missing a name.`);const i=typeof t.count=="number"&&t.count>=0?t.count:0,o=typeof t.lastUsed=="number"&&t.lastUsed>=0?t.lastUsed:Date.now();return{id:r,name:s,count:i,lastUsed:o}})}const hj=(e,t)=>{if(!Array.isArray(e))return[];const n=new Set(t.map(s=>s.name)),r=new Set;return e.filter(s=>typeof s=="string"&&s.trim().length>0).map(s=>kt(s.trim())).filter(s=>!n.has(s)||r.has(s)?!1:(r.add(s),!0))};function pj(e){let t;try{t=JSON.parse(e)}catch{throw new Error("The selected file is not valid JSON.")}if(!ko(t))throw new Error("Backup payload is malformed.");const n=typeof t.version=="number"?t.version:hd;if(n>hd)throw new Error("This backup was created by a newer app version.");const r=dj(t.venues),s=fj(t.tags);return{version:n,exportedAt:typeof t.exportedAt=="string"?t.exportedAt:new Date().toISOString(),people:uj(t.people,r,s),venues:r,tags:s,favoriteVenues:hj(t.favoriteVenues,r)}}function mj(e){const{headers:t,rows:n}=cj(e),r=new Map(t.map((b,m)=>[b,m])),s=r.get("name"),i=r.get("datemet");if(s===void 0||i===void 0)throw new Error("CSV must include at least 'name' and 'dateMet' columns.");if(n.length>il)throw new Error(`CSV has too many people (max ${il}).`);const o=[],a=[],l=[],c=new Map,u=new Map,f=new Set;let h=0;const p=[],v=b=>{const m=b==null?void 0:b.trim();if(!m)return;const g=m.toLowerCase(),y=c.get(g);if(y)return y;if(o.length>=ol)throw new Error(`CSV has too many venues (max ${ol}).`);const S={id:crypto.randomUUID(),name:kt(m),locationTag:void 0,coords:void 0,favorite:!1,proximityAlertsEnabled:!0};return o.push(S),c.set(g,S),S},x=b=>{if(!b)return[];const m=b.split(",").map(y=>y.trim()).filter(Boolean),g=[];return m.forEach(y=>{const S=y.toLowerCase();let k=u.get(S);if(!k){if(a.length>=al)throw new Error(`CSV has too many tags (max ${al}).`);k={id:crypto.randomUUID(),name:kt(S),count:0,lastUsed:Date.now()},a.push(k),u.set(S,k)}g.push(k.id)}),g};return n.forEach(b=>{var fe,W,N,R,V,Z,X,z;const m=b.values,g=(fe=m[s])==null?void 0:fe.trim(),y=(W=m[i])==null?void 0:W.trim();if(!g||!y){p.push({line:b.lineNumber,reason:g?"Missing dateMet.":"Missing name."}),h+=1;return}const S=new Date(y);if(Number.isNaN(S.getTime())){p.push({line:b.lineNumber,reason:"Invalid dateMet."}),h+=1;return}const k=(N=m[r.get("id")??-1])==null?void 0:N.trim(),T=(R=m[r.get("position")??-1])==null?void 0:R.trim(),C=(V=m[r.get("description")??-1])==null?void 0:V.trim(),_=(Z=m[r.get("venuename")??-1])==null?void 0:Z.trim(),A=(X=m[r.get("tags")??-1])==null?void 0:X.trim(),E=(z=m[r.get("favorite")??-1])==null?void 0:z.trim().toLowerCase(),O=v(_),ee=x(A),Y=E==="true"||E==="yes"||E==="1",de=S.toISOString(),Re=k&&!f.has(k)?k:crypto.randomUUID();k&&f.has(k)&&p.push({line:b.lineNumber,reason:"Duplicate id; generated a new one."}),f.add(Re),l.push({id:Re,name:kt(g),position:T?kt(T):void 0,description:C?kt(C):void 0,venueId:O==null?void 0:O.id,dateMet:de,createdAt:de,updatedAt:void 0,tags:ee,favorite:Y})}),{people:l,venues:o,tags:a,skipped:h,errors:p}}function gj(e,t){const{people:n,replacePeople:r}=rw(),{tags:s,replaceTags:i}=fh(),{venues:o,replaceVenues:a}=Rl(),{showNotification:l}=Gs(),c=()=>({version:hd,exportedAt:new Date().toISOString(),people:n,venues:o,tags:s,favoriteVenues:e}),u=w.useCallback(()=>{try{const x=c(),b=JSON.stringify(x,null,2),m=new Blob([b],{type:"application/json"}),g=URL.createObjectURL(m),y=document.createElement("a");y.href=g,y.download=`remember-me-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g),l("Backup downloaded.","success")}catch(x){console.error(x),l("Unable to export data.","error")}},[e,n,l,s,o]),f=w.useCallback(async()=>{if(!Ye.isNativePlatform()){u();return}try{const x=c(),b=JSON.stringify(x,null,2),m=`methere-backup-${new Date().toISOString().split("T")[0]}.json`;await Zo.writeFile({path:m,data:b,directory:gs.Documents,encoding:sl.UTF8});const{uri:g}=await Zo.getUri({path:m,directory:gs.Documents});await Fg.share({title:"MetHere backup",url:g,dialogTitle:"Backup to iCloud Drive"}),l("Backup ready to save.","success")}catch(x){console.error(x),l("Unable to prepare iCloud backup.","error")}},[u,e,n,l,s,o]),h=w.useCallback(()=>{try{const x=new Map(s.map(S=>[S.id,S.name])),b=new Map(o.map(S=>[S.id,S.name])),m=n.map(S=>{const k=(S.tags??[]).map(C=>x.get(C)).filter(Boolean).join(", "),T=S.venueId?b.get(S.venueId)??"":"";return[S.id,S.name,S.position??"",S.dateMet,T??"",k,S.favorite?"true":"false",S.description??""].map(C=>lj(String(C)))}),g=[`# MetHere CSV v${ij}`,`# exportedAt=${new Date().toISOString()}`,oj.join(","),...m.map(S=>S.join(","))].join(`
`),y=`methere-people-${new Date().toISOString().split("T")[0]}.csv`;if(Ye.isNativePlatform())Zo.writeFile({path:y,data:g,directory:gs.Documents,encoding:sl.UTF8}).then(()=>Zo.getUri({path:y,directory:gs.Documents})).then(({uri:S})=>Fg.share({title:"MetHere CSV export",url:S,dialogTitle:"Export CSV"})).then(()=>l("CSV ready to save.","success")).catch(S=>{console.error(S),l("Unable to export CSV.","error")});else{const S=new Blob([g],{type:"text/csv"}),k=URL.createObjectURL(S),T=document.createElement("a");T.href=k,T.download=y,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(k),l("CSV exported.","success")}}catch(x){console.error(x),l("Unable to export CSV.","error")}},[n,l,s,o]),p=w.useCallback(async x=>{if(x.size>Qo){const m=(Qo/1048576).toFixed(1),g=new Error(`Backup file is too large (max ${m} MB).`);throw l(g.message,"error"),g}const b=await x.text();try{const m=pj(b),g={people:[...n],venues:[...o],tags:[...s],favorites:[...e]};try{r(m.people),a(m.venues),i(m.tags),t(m.favoriteVenues)}catch(y){throw r(g.people),a(g.venues),i(g.tags),t(g.favorites),y}return l("Backup imported successfully.","success"),m}catch(m){throw console.error(m),l(m instanceof Error?m.message:"Import failed.","error"),m}},[e,n,r,i,a,t,l,s,o]),v=w.useCallback(async x=>{if(x.size>Qo){const m=(Qo/1048576).toFixed(1),g=new Error(`CSV file is too large (max ${m} MB).`);throw l(g.message,"error"),g}const b=await x.text();try{const m=mj(b),g={people:[...n],venues:[...o],tags:[...s],favorites:[...e]};try{r(m.people),a(m.venues),i(m.tags),t([])}catch(S){throw r(g.people),a(g.venues),i(g.tags),t(g.favorites),S}m.errors.length>0&&console.warn("CSV import row issues:",m.errors);let y="CSV imported";return m.skipped&&(y+=` (skipped ${m.skipped} rows)`),m.errors.length>0&&(y+=". Check console for details"),y+=".",l(y,"success"),m}catch(m){throw console.error(m),l(m instanceof Error?m.message:"CSV import failed.","error"),m}},[e,n,r,i,a,t,l,s,o]);return{exportBackup:u,exportIcloudBackup:f,importBackupFromFile:p,exportCsvBackup:h,importCsvFromFile:v}}const yj={}.VITE_APP_VERSION||"0.0.0",vj=[{key:"light",name:"Light",description:"Soft gradient background, bright surfaces.",icon:d.jsx(ZM,{size:16})},{key:"coral",name:"Coral",description:"Warm tones inspired by sunsets.",icon:d.jsx(lw,{size:16})},{key:"pink",name:"Pink Pop",description:"Playful blush palette with vibrant accents.",icon:d.jsx(hh,{size:16})},{key:"emerald",name:"Emerald",description:"Fresh glass greens with lush accents.",icon:d.jsx(RM,{size:16})},{key:"midnight",name:"Midnight",description:"Moody dark mode for late-night sessions.",icon:d.jsx(FM,{size:16})}];function xj({open:e,onClose:t,favoriteVenues:n,setFavoriteVenues:r,onResetData:s,onResetApp:i,onClearAchievements:o,proximityEnabled:a,onToggleProximity:l,proximitySupported:c}){const{theme:u,setTheme:f}=w.useContext(pw),{exportBackup:h,exportIcloudBackup:p,importBackupFromFile:v,exportCsvBackup:x,importCsvFromFile:b}=gj(n,r),[m,g]=w.useState(!1),[y,S]=w.useState(!1),[k,T]=w.useState(!1),[C,_]=w.useState(!1),[A,E]=w.useState(kR()),O=w.useRef(null),ee=w.useRef(null),Y=Ye.isNativePlatform(),de=Y?"Backup to iCloud":"Export JSON",Re=Y?"Restore from iCloud":"Import JSON",fe=async()=>{g(!0);try{Y?await p():h()}finally{g(!1)}},W=async()=>{const z=!A;E(z),TR(z),z&&await te(H.Light)},N=()=>{var z;(z=O.current)==null||z.click()},R=()=>{var z;(z=ee.current)==null||z.click()},V=async z=>{var Pe;const K=(Pe=z.target.files)==null?void 0:Pe[0];if(K){S(!0);try{await v(K)}finally{S(!1),z.target.value=""}}},Z=()=>{T(!0);try{x()}finally{T(!1)}},X=async z=>{var Pe;const K=(Pe=z.target.files)==null?void 0:Pe[0];if(K){_(!0);try{await b(K)}finally{_(!1),z.target.value=""}}};return d.jsx(Tn,{children:e&&d.jsx(Q.div,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,style:{paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(Q.div,{className:"glass-panel w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:z=>z.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 z-10 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:z=>{z.stopPropagation(),te(H.Light),t()},"aria-label":"Close settings",children:d.jsx(Ll,{size:16})}),d.jsxs("div",{className:"overflow-y-auto px-6 pb-6 pt-6 space-y-5",style:{scrollbarGutter:"stable"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-level1",children:d.jsx(cw,{size:18})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Personalize"}),d.jsx("h3",{className:"text-xl font-semibold text-[var(--color-text-primary)]",children:"Settings"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Tune the theme, data tools, and notifications."})]})]}),d.jsxs("section",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lw,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Theme"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Pick the palette that suits your vibe."})]})]}),d.jsx("div",{className:"grid gap-3 mt-1.5",children:vj.map(z=>{const K=z.key===u;return d.jsxs("button",{onClick:async()=>{await te(K?H.Light:H.Medium),f(z.key)},className:`relative overflow-hidden w-full text-left px-4 py-3 rounded-2xl border transition flex items-start gap-3 ${K?"border-[color:var(--color-accent)] bg-[color:var(--color-accent-muted)] text-[var(--color-accent)] shadow-[0_12px_30px_rgba(15,23,42,0.18)]":"border-[color:var(--color-card-border)] bg-[var(--color-card)] text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90"}`,children:[K&&d.jsx(Q.span,{className:"absolute inset-0 rounded-2xl pointer-events-none bg-gradient-to-r from-white/50 via-white/10 to-transparent",initial:{opacity:0,x:-80},animate:{opacity:[0,.7,0],x:[-80,80]},transition:{duration:.6}}),d.jsx(Q.div,{animate:K?{rotate:[0,-8,0],scale:[1,1.1,1]}:{rotate:0,scale:1},transition:{duration:.35},className:"mt-0.5",children:z.icon}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:z.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:z.description})]})]},z.key)})})]}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 50%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-accent)]",children:[d.jsx(Zn,{size:20,strokeWidth:2.3}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Nearby venue alerts"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Alerts when youre near a saved venue. Requires Always Allow on iOS."})]})]}),d.jsxs("button",{type:"button",onClick:c?l:void 0,disabled:!c,className:"w-full flex items-center justify-between rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-left hover:bg-[var(--color-card)]/90 transition disabled:opacity-60 disabled:cursor-not-allowed",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:c?a?"Enabled":"Disabled":"Unavailable"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:c?a?"Tap to pause alerts.":"Tap to enable alerts.":"Requires the iOS app."})]}),d.jsx("span",{className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${a&&c?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${a&&c?"translate-x-6":"translate-x-1"}`})})]})]}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 50%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(mR,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Haptic feedback"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Feel a subtle tap on key actions."})]})]}),d.jsxs("button",{type:"button",onClick:W,className:"w-full flex items-center justify-between rounded-2xl border border-[var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-left hover:bg-[var(--color-card)]/90 transition",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:A?"Enabled":"Disabled"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:A?"Tap to mute haptics.":"Tap to enable haptics."})]}),d.jsx("span",{className:`relative inline-flex h-6 w-12 items-center rounded-full transition ${A?"bg-[var(--color-accent)]":"bg-[var(--color-card-border)]"}`,children:d.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white shadow transition-transform ${A?"translate-x-6":"translate-x-1"}`})})]})]}),d.jsxs("section",{className:"space-y-2 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(EM,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Data backup"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Export or import all venues, people, and tags when you switch devices."})]})]}),d.jsxs("div",{className:"space-y-3 mt-1.5",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsx("div",{children:d.jsx("span",{className:"text-[10px] uppercase tracking-wide px-2 py-0.5 rounded-full bg-[var(--color-accent-muted)] text-[var(--color-accent)]",children:"Premium"})}),d.jsx(OM,{size:16,className:"text-[var(--color-accent)]"})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:async()=>{await te(H.Light),fe()},disabled:m,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[color:var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90 disabled:opacity-60",children:[d.jsx(Mg,{size:16}),m?"Exporting":de]}),d.jsxs("button",{onClick:async()=>{await te(H.Light),N()},disabled:y,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[var(--color-accent)] text-[var(--color-accent)] px-4 py-3 text-sm font-semibold hover:bg-[var(--color-accent-muted)] disabled:opacity-60",children:[d.jsx(Rg,{size:16}),y?"Importing":Re]})]}),Y&&d.jsx("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:'Tap "Save to Files", then choose iCloud Drive.'}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:async()=>{await te(H.Light),Z()},disabled:k,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[color:var(--color-card-border)] bg-[var(--color-card)] px-4 py-3 text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90 disabled:opacity-60",children:[d.jsx(Mg,{size:16}),k?"Exporting":"Export CSV"]}),d.jsxs("button",{onClick:async()=>{await te(H.Light),R()},disabled:C,className:"flex-1 inline-flex items-center justify-center gap-2 rounded-2xl border border-[var(--color-accent)] text-[var(--color-accent)] px-4 py-3 text-sm font-semibold hover:bg-[var(--color-accent-muted)] disabled:opacity-60",children:[d.jsx(Rg,{size:16}),C?"Importing":"Import CSV"]})]}),d.jsx("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:"CSV columns: id, name, position, dateMet, venueName, tags, favorite, description."}),d.jsx("input",{ref:O,type:"file",accept:"application/json",className:"hidden",onChange:V}),d.jsx("input",{ref:ee,type:"file",accept:".csv,text/csv",className:"hidden",onChange:X})]})]}),d.jsxs("section",{className:"space-y-2 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yR,{size:16,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:"Data tools"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Reset the app or manage sample data."})]})]}),{}.VITE_SHOW_DEV_TOOLS==="true"?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)]/95 space-y-3 shadow-level1/40 mt-1.5",children:[d.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[d.jsx("button",{onClick:async()=>{await te(H.Light),s()},className:"px-4 py-3 rounded-2xl border border-[color:var(--color-card-border)] bg-[var(--color-card)] text-sm font-semibold text-[var(--color-text-primary)] hover:bg-[var(--color-card)]/90 transition",children:"Reset sample data"}),d.jsx("button",{onClick:async()=>{await te(H.Light),o()},className:"px-4 py-3 rounded-2xl border border-[var(--color-accent)] text-[var(--color-accent)] text-sm font-semibold hover:bg-[var(--color-accent-muted)] transition",children:"Clear achievements"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:async()=>{await te(H.Heavy),i()},className:"w-full px-4 py-3 rounded-2xl border border-red-200/60 bg-red-500/10 text-sm font-semibold text-red-500 hover:bg-red-500/15 transition",children:"Reset app (blank state)"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Removes all venues, people, favourites, tags, and achievements to mimic a first-time install."})]})]})}):d.jsx("div",{className:"rounded-2xl bg-[var(--color-card)]/95 space-y-2 shadow-level1/40 mt-1.5",children:d.jsx("button",{onClick:async()=>{await te(H.Heavy),i()},className:"w-full px-4 py-3 rounded-2xl border border-red-200/60 bg-red-500/10 text-sm font-semibold text-red-500 hover:bg-red-500/15 transition",children:"Erase all data"})})]}),d.jsxs("section",{className:"space-y-2 border-t border-white/40 pt-4 text-[var(--color-text-secondary)]",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide",children:"About"}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)]/95 text-xs space-y-1 shadow-level1/40 mt-1.5",children:[d.jsxs("p",{children:["Version v",yj,"  Made by Julian Collins"]}),d.jsxs("div",{className:"flex gap-4 text-[var(--color-text-secondary)]",children:[d.jsx("button",{className:"underline-offset-2 hover:underline",type:"button",children:"Privacy"}),d.jsx("button",{className:"underline-offset-2 hover:underline",type:"button",children:"Terms"})]})]})]})]})]})})})}const wj="/assets/MetHere-pin-79f5f724.svg",Sj={people:d.jsx(ph,{size:16}),venues:d.jsx(Zn,{size:16}),tags:d.jsx(Mi,{size:16}),favorites:d.jsx(jl,{size:16})},zg={people:{label:"People",icon:d.jsx(ph,{size:14})},venues:{label:"Venues",icon:d.jsx(Zn,{size:14})},tags:{label:"Tags",icon:d.jsx(Mi,{size:14})},favorites:{label:"Favourites",icon:d.jsx(jl,{size:14})}};function bj({open:e,onClose:t,achievements:n,stats:r,insights:s}){const[i,o]=w.useState({people:!1,venues:!1,tags:!1,favorites:!1}),a=n.reduce((c,u)=>(c[u.type]||(c[u.type]=[]),c[u.type].push(u),c),{}),l=c=>{o(u=>({...u,[c]:!u[c]}))};return d.jsx(Tn,{children:e&&d.jsx(Q.div,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,style:{paddingTop:"calc(env(safe-area-inset-top) + 16px)",paddingBottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"calc(env(safe-area-inset-left) + 16px)",paddingRight:"calc(env(safe-area-inset-right) + 16px)"},children:d.jsxs(Q.div,{className:"glass-panel w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.25,ease:"easeInOut"},onClick:c=>c.stopPropagation(),children:[d.jsx("button",{type:"button",className:"absolute top-3 right-3 z-10 h-9 w-9 rounded-full bg-[var(--color-card)] text-[var(--color-text-primary)] border border-[var(--color-card-border)] shadow-[0_8px_18px_rgba(15,23,42,0.15)] hover:bg-[var(--color-card)]/90 flex items-center justify-center",onClick:async c=>{c.stopPropagation(),await te(H.Light),t()},"aria-label":"Close profile",children:d.jsx(Ll,{size:16})}),d.jsxs("div",{className:"overflow-y-auto px-6 pb-6 pt-6 space-y-6",style:{scrollbarGutter:"stable"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-2xl bg-[var(--color-accent-muted)] flex items-center justify-center shadow-level1",children:d.jsx("img",{src:wj,alt:"MetHere badge",className:"h-7 w-7"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Your Profile"}),d.jsx("h2",{className:"text-2xl font-semibold text-[var(--color-text-primary)] leading-tight",children:"Insights"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Lifetime overview of your connections"})]})]}),d.jsx("div",{className:"grid grid-cols-2 gap-2.5 text-center",children:[{label:"People tracked",value:r.peopleCount,icon:d.jsx(ph,{size:16,className:"text-[var(--color-accent)]"})},{label:"Venues logged",value:r.venuesWithPeople,icon:d.jsx(Zn,{size:16,className:"text-[var(--color-accent)]"})},{label:"Tags applied",value:r.uniqueTagCount,icon:d.jsx(Mi,{size:16,className:"text-[var(--color-accent)]"})},{label:"Venues pinned",value:s.pinsSaved,icon:d.jsx(Zn,{size:16,className:"text-[var(--color-accent)]"})}].map(c=>d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 shadow-level1 flex flex-col items-center gap-1.5",children:[d.jsx("div",{className:"h-7 w-7 rounded-2xl bg-[var(--color-accent-muted)] text-[var(--color-accent)] flex items-center justify-center shadow-level1/40",children:c.icon}),d.jsx("p",{className:"text-xl font-semibold text-[var(--color-text-primary)]",children:c.value}),d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:c.label})]},c.label))}),d.jsxs("section",{className:"space-y-3 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(nR,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold",children:"Usage Insights"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Quick highlights from your recent activity."})]})]}),d.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[s.topVenue?d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Zn,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top venue"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.topVenue.name}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[s.topVenue.count," people logged"]})]})]}):d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Zn,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top venue"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No venue data yet."})]})]}),s.topTag?d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Mi,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top tag"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)] capitalize",children:s.topTag.name}),d.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[s.topTag.count," mentions"]})]})]}):d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left shadow-level1 flex items-center gap-3",children:[d.jsx(Mi,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Top tag"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No tag usage yet."})]})]}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left flex items-center gap-3 shadow-level1",children:[d.jsx(hh,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Favourite people"}),d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.favoritesCount})]})]}),d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] px-3 py-3 text-left flex items-center gap-3 shadow-level1",children:[d.jsx(_M,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs uppercase tracking-wide text-[var(--color-text-secondary)]",children:"Last interaction"}),s.lastInteraction?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-semibold text-[var(--color-text-primary)]",children:s.lastInteraction.name}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:new Date(s.lastInteraction.date).toLocaleDateString()})]}):d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"No recent meetings yet."})]})]})]})]}),d.jsxs("section",{className:"space-y-2 pb-2 border-t border-transparent pt-4",style:{borderColor:"color-mix(in srgb, var(--color-accent) 60%, transparent)"},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(yM,{size:18,className:"text-[var(--color-accent)]"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold",children:"Achievements"}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:"Unlock milestones as you connect with more people."})]})]}),d.jsx("div",{className:"space-y-2",children:Object.keys(zg).map(c=>{const u=a[c]??[];if(u.length===0)return null;const f=i[c],h=zg[c],p=u.find(v=>!v.unlocked);return d.jsxs("div",{className:"rounded-2xl bg-[var(--color-card)] shadow-level1",children:[d.jsxs("button",{onClick:()=>l(c),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[var(--color-text-primary)]",children:[h.icon,d.jsx("span",{children:h.label})]}),p?d.jsxs("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:["Next: ",p.title,"  ",p.current,"/",p.target]}):d.jsx("p",{className:"text-[11px] text-[var(--color-text-secondary)]",children:"All achievements unlocked"})]}),d.jsx(aw,{size:16,className:`transition-transform ${f?"rotate-180":"rotate-0"}`})]}),d.jsx("div",{className:`overflow-hidden transition-[max-height,opacity] duration-300 ${f?"max-h-[800px] opacity-100":"max-h-0 opacity-0"}`,children:d.jsx("div",{className:"px-3 pb-3 space-y-2",children:u.map(v=>d.jsxs("div",{className:`rounded-xl px-3 py-2 transition relative border ${v.unlocked?"border-[var(--color-accent)] bg-[var(--color-accent-muted)]/70":"border-[var(--color-card-border)] bg-[var(--color-card)]/85"}`,children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"h-9 w-9 rounded-2xl flex items-center justify-center border border-[var(--color-card-border)] text-[var(--color-text-primary)]",children:Sj[v.type]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("p",{className:"font-semibold text-sm text-[var(--color-text-primary)]",children:v.title}),!v.unlocked&&d.jsxs("span",{className:"text-[11px] font-semibold text-[var(--color-text-secondary)]",children:[v.current,"/",v.target]})]}),d.jsx("p",{className:"text-xs text-[var(--color-text-secondary)]",children:v.description}),v.unlocked&&v.unlockedAt&&d.jsxs("p",{className:"text-[10px] uppercase tracking-wide text-[var(--color-text-secondary)] mt-1",children:["Completed: ",new Date(v.unlockedAt).toLocaleDateString()]}),!v.unlocked&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"h-1.5 rounded-full overflow-hidden bg-[var(--color-card-border)]/60",children:d.jsx("div",{className:"h-full bg-[var(--color-accent-muted)]",style:{width:`${Math.round(v.progress*100)}%`}})})})]})]}),v.unlocked&&d.jsx("div",{className:"absolute top-2 right-2 h-5 w-5 rounded-full bg-gradient-to-br from-[#FBBF24] to-[#F59E0B] text-white flex items-center justify-center shadow",children:d.jsx(ow,{size:12})})]},v.id))})})]},c)})})]})]})]})})})}const mw="rememberme:proximity-alerts-enabled";let mh=!1;const kj=()=>{if(!(typeof window>"u"))try{const e=window.localStorage.getItem(mw);e!==null&&(mh=e==="true")}catch(e){console.warn("Unable to read proximity preference",e)}};kj();const pd=()=>mh,Jo=e=>{if(mh=e,typeof window<"u")try{window.localStorage.setItem(mw,String(e))}catch(t){console.warn("Unable to persist proximity preference",t)}};var Hg;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(Hg||(Hg={}));const gw=Ut("LocalNotifications",{web:()=>Ks(()=>import("./web-703b4d3b.js"),[]).then(e=>new e.LocalNotificationsWeb)});class Tj extends yo{async requestPermissions(){return{location:"denied",notifications:"denied"}}async startMonitoring(){console.warn("GeofenceBridge: startMonitoring is only available on native platforms.")}async stopMonitoring(){}async openSettings(){}addListener(){return Promise.resolve({remove:async()=>{}})}}const oo=Ut("GeofenceBridge",{web:()=>Promise.resolve(new Tj)}),gh=Ye.isNativePlatform(),_j=30*60*1e3;let Qn=null;const $c={};let yh=[];const Cj=async e=>{var l,c;const t=yh.find(u=>u.id===e);if(!t)return;const n=Date.now();if($c[e]&&n-$c[e]<_j)return;const r=((l=t.proximityMeta)==null?void 0:l.totalPeople)??0,s=((c=t.proximityMeta)==null?void 0:c.favoriteNames)??[],i=r>0?`You know ${r} ${r===1?"person":"people"} here.`:"You haven't logged anyone here yet.";let o="";if(s.length>0){const u=s.slice(0,2).join(", "),f=s.length-2;o=s.length>2?` Favorites: ${u} +${f} more.`:` Favorites: ${u}.`}const a=`You're near ${t.name}.`;await gw.schedule({notifications:[{title:"Nearby venue",body:`${a} ${i}${o}`.trim(),id:Number.parseInt(e.replace(/\D/g,"").slice(-6),10)||Date.now()}]}),$c[e]=n,gn("proximity_notification_sent",{venue_id:e,total_people:r,favorite_count:s.length})},Ej=async()=>{Qn==null||Qn.remove(),Qn=await oo.addListener("regionEnter",async e=>{pd()&&(gn("proximity_region_enter",{venue_id:e.id}),await Cj(e.id))})},Ij=async e=>{if(yh=e,!gh)return{ok:!1,error:"Nearby venue alerts are only available on device."};try{const t=await oo.requestPermissions();if(gn("proximity_permission_checked",{scope:"location",status:t.location}),t.location!=="granted")return{ok:!1,error:"Location access is required to enable nearby venue alerts."};const n=await gw.requestPermissions();if(gn("proximity_permission_checked",{scope:"notifications",status:n.display}),n.display!=="granted")return{ok:!1,error:"Notifications are disabled. Enable them in Settings."};await Ej();const r=e.filter(s=>s.coords&&s.proximityAlertsEnabled!==!1).map(s=>({id:s.id,lat:s.coords.lat,lon:s.coords.lon,name:s.name}));return await oo.startMonitoring({venues:r}),gn("proximity_monitoring_update",{action:"start",venue_count:r.length}),{ok:!0}}catch(t){return console.warn("Unable to start proximity alerts",t),gn("proximity_monitoring_error",{stage:"start",message:typeof(t==null?void 0:t.message)=="string"?t.message:"unknown"}),{ok:!1,error:"Unable to start nearby venue alerts right now."}}},Bc=async()=>{if(Qn==null||Qn.remove(),Qn=null,!!gh)try{await oo.stopMonitoring()}catch(e){console.warn("Unable to stop geofence monitoring",e)}},Pj=async e=>{if(yh=e,!!gh)try{const t=e.filter(n=>n.coords&&n.proximityAlertsEnabled!==!1).map(n=>({id:n.id,lat:n.coords.lat,lon:n.coords.lon,name:n.name}));await oo.startMonitoring({venues:t}),gn("proximity_monitoring_update",{action:"refresh",venue_count:t.length})}catch(t){console.warn("Unable to refresh geofence monitoring",t),gn("proximity_monitoring_error",{stage:"refresh",message:typeof(t==null?void 0:t.message)=="string"?t.message:"unknown"})}},Nj=12;function Aj(){const e=Ye.isNativePlatform(),[t,n]=w.useState(()=>{if(typeof window>"u")return!1;try{return!localStorage.getItem("onboarding_seen")}catch{return!1}}),{tags:r,createTag:s,getTagIdByName:i,getTagNameById:o,replaceTags:a}=fh(),{venues:l,replaceVenues:c}=Rl(),u=w.useMemo(()=>l.some(I=>!!I.coords),[l]),[f,h]=w.useState({}),{people:p,addPerson:v,updatePerson:x,deletePerson:b,replacePeople:m}=rw(),[g,y]=lM("favoriteVenues"),[S,k]=w.useState(null),[T,C]=w.useState(null),[_,A]=w.useState(!1),[E,O]=w.useState(!1),[ee,Y]=w.useState(!1),[de,Re]=w.useState(!1),[fe,W]=w.useState(()=>e&&pd()),[N,R]=w.useState("recentVisit"),[V,Z]=w.useState("desc"),[X,z]=w.useState("all"),[K,Pe]=w.useState(null);w.useEffect(()=>{if(t||!u){Pe(null);return}let I=!1,D=null;return(async()=>{try{await ms.requestPermissions();const F=await ms.getCurrentPosition();I||Pe({lat:F.coords.latitude,lon:F.coords.longitude}),D=await ms.watchPosition({enableHighAccuracy:!1,distanceFilter:500},(ce,pe)=>{pe||!ce||I||Pe({lat:ce.coords.latitude,lon:ce.coords.longitude})})}catch(F){console.warn("Unable to fetch current location",F)}})(),()=>{I=!0,D&&ms.clearWatch({id:D})}},[t,u]);const{toasts:He,showNotification:le,dismissToast:yt}=Gs(),{searchQuery:Pt,setSearchQuery:vr,activeTags:Nn,setActiveTags:xr,personSort:An,setPersonSort:Yr}=tj(),Xs=w.useDeferredValue(Pt),{trackEvent:De}=qr(),$t=w.useMemo(()=>Object.fromEntries(l.map(I=>[I.id,I])),[l]),on=w.useMemo(()=>l.map(I=>{if(!I.id)return I;const D=p.filter(F=>F.venueId===I.id),U=D.filter(F=>F.favorite).map(F=>F.name);return{...I,proximityMeta:{totalPeople:D.length,favoriteNames:U}}}),[l,p]),Bt=w.useMemo(()=>{if(!K)return on;const I=pe=>pe*Math.PI/180,D=6371e3,F=on.filter(pe=>pe.coords).map(pe=>{const Dn=I(pe.coords.lat-K.lat),Qs=I(pe.coords.lon-K.lon),Wt=Math.sin(Dn/2)**2+Math.cos(I(K.lat))*Math.cos(I(pe.coords.lat))*Math.sin(Qs/2)**2,Js=2*Math.atan2(Math.sqrt(Wt),Math.sqrt(1-Wt)),ke=D*Js;return{venue:pe,distance:ke}}).sort((pe,Dn)=>pe.distance-Dn.distance).slice(0,Nj).map(pe=>pe.venue),ce=on.filter(pe=>!pe.coords);return[...F,...ce]},[on,K]),M=w.useMemo(()=>{if(!K)return{};const I=U=>U*Math.PI/180,D=6371e3;return on.reduce((U,F)=>{if(!F.coords)return U;const ce=I(F.coords.lat-K.lat),pe=I(F.coords.lon-K.lon),Dn=Math.sin(ce/2)**2+Math.cos(I(K.lat))*Math.cos(I(F.coords.lat))*Math.sin(pe/2)**2,Qs=2*Math.atan2(Math.sqrt(Dn),Math.sqrt(1-Dn)),Wt=D*Qs,Js=Wt<1e3?`${Math.round(Wt)} m away`:`${(Wt/1e3).toFixed(1)} km away`;return U[F.name]=Js,U},{})},[on,K]),[G,ie]=An.split("-"),re=JR(p,Xs,Nn,G,ie==="asc");w.useEffect(()=>{const I=Pt.trim();if(!I)return;const D=window.setTimeout(()=>{De("search_used",{query_length:I.length,results:re.length})},500);return()=>window.clearTimeout(D)},[Pt,re.length,De]);const Mn=()=>{try{localStorage.setItem("onboarding_seen","true")}catch{}n(!1)},To=I=>{h(D=>{const U=D[I]??!1;return{...D,[I]:!U}})},Rn=(I,D)=>{C({id:I,name:D})},Ol=()=>{if(!window.confirm("Reset to sample data? This will overwrite all people, venues, tags, and favourites."))return;const I=Dx.map(F=>({...F,tags:F.tags?[...F.tags]:[]})),D=Te.map(F=>({...F,coords:F.coords?{...F.coords}:void 0})),U=Lx.map(F=>({...F}));m(I),c(D),a(U),y([]),le("App data reset to sample set.","info")},jn=()=>{window.confirm("Reset app to a blank state? This will permanently remove all people, venues, tags, favourites, and achievements.")&&(m([]),c([]),a([]),y([]),Oe(),le("App reset to a blank state.","info"))},Vl=async()=>{if(!e){le("Nearby venue alerts are only available in the iOS app.","info");return}const I=!fe;Jo(I),W(I),De("proximity_toggle",{enabled:I})},Ul=()=>{if(!e){le("Nearby venue alerts are only available in the iOS app.","info");return}fe||(Jo(!0),W(!0),De("proximity_toggle",{enabled:!0,source:"venue_toggle"}))},an=()=>{window.confirm("Clear achievement progress? Existing milestones will need to be re-earned.")&&(Oe(),le("Achievements cleared.","info"))},ln=oM(re,$t);w.useEffect(()=>{const I=Object.keys(p.reduce((D,U)=>{var ce;const F=U.venueId?((ce=$t[U.venueId])==null?void 0:ce.name)??Xn:Xn;return D[F]=!0,D},{}));h(D=>{const U={...D};return I.forEach(F=>{U[F]===void 0&&(U[F]=!0)}),U})},[p,$t]),w.useEffect(()=>{const I=E||ee||_||S||T||de;return document.body.style.overflow=I?"hidden":"auto",()=>{document.body.style.overflow="auto"}},[E,ee,_,S,T,de]),w.useEffect(()=>{!e&&pd()&&(Jo(!1),W(!1))},[e]),w.useEffect(()=>{if(t){Bc();return}let I=!1;if(!fe||!e){Bc();return}return(async()=>{const D=await Ij(Bt);!I&&!D.ok&&(Jo(!1),W(!1),le(D.error??"Unable to enable proximity alerts.","error"),De("proximity_error",{message:D.error??"unknown"})),!I&&D.ok&&De("proximity_started",{monitoredVenues:Bt.length})})(),()=>{I=!0,Bc()}},[fe,le,Bt,e,t]),w.useEffect(()=>{!fe||!e||Pj(Bt)},[Bt,fe,e]);const Zs=ej(l,p,N,V==="asc").map(I=>I.name).filter(I=>ln[I]),Co=aM(Zs,g).favorites,Fl=X==="favs"?Co:Zs,{achievements:j,stats:he,resetAchievements:Oe}=uM(p,l,g),zt=I=>{if(!I)return{venue_name:"Unclassified",venue_type:"unclassified"};const D=$t[I];return D?{venue_name:D.name,venue_type:g.includes(D.name)?"favorite":"existing"}:{venue_name:"Custom Venue",venue_type:"new"}},Ht=ty.useRef(new Set);w.useEffect(()=>{const I=Ht.current,D=new Set(I);j.forEach(U=>{U.unlocked&&!U.unlockedAt&&!I.has(U.id)&&(te(H.Heavy),De("achievement_unlocked",{id:U.id,type:U.type,title:U.title}),le(`Achievement unlocked: ${U.title}`,"celebration",{description:U.description}),D.add(U.id))}),Ht.current=D},[j,le]);const Ln=w.useMemo(()=>{const I=p.reduce((ke,vt)=>{var Eo;const ei=vt.venueId?((Eo=$t[vt.venueId])==null?void 0:Eo.name)??Xn:Xn;return ke[ei]=(ke[ei]||0)+1,ke},{}),D=Object.entries(I).sort((ke,vt)=>vt[1]-ke[1])[0],U=D?{name:D[0],count:D[1]}:void 0,F=p.reduce((ke,vt)=>{var ei;return(ei=vt.tags)==null||ei.forEach(Eo=>{const $l=o(Eo);$l&&(ke[$l]=(ke[$l]||0)+1)}),ke},{}),ce=Object.entries(F).sort((ke,vt)=>vt[1]-ke[1])[0],pe=ce?{name:ce[0],count:ce[1]}:void 0,Dn=p.filter(ke=>ke.favorite).length,Qs=l.reduce((ke,vt)=>vt.coords?ke+1:ke,0),Wt=[...p].filter(ke=>ke.dateMet).sort((ke,vt)=>new Date(vt.dateMet).getTime()-new Date(ke.dateMet).getTime())[0],Js=Wt?{name:Wt.name,date:Wt.dateMet}:void 0;return{topVenue:U,topTag:pe,favoritesCount:Dn,lastInteraction:Js,pinsSaved:Qs}},[p,$t,o]);return w.useEffect(()=>{const I=new Map;p.forEach(F=>{var ce;(ce=F.tags)==null||ce.forEach(pe=>{I.set(pe,(I.get(pe)??0)+1)})});const D=r.map(F=>{const ce=I.get(F.id)??0;return F.count!==ce?{...F,count:ce}:F});D.some((F,ce)=>F!==r[ce])&&a(D)},[p,r,a]),t?d.jsx(KR,{onComplete:Mn}):d.jsxs("div",{className:"flex flex-col min-h-screen bg-[var(--color-background)] text-[var(--color-text-primary)]",style:{paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:[d.jsx(GR,{searchQuery:Pt,setSearchQuery:vr,activeTags:Nn,setActiveTags:xr,venueSortKey:N,venueSortDir:V,setVenueSortKey:R,setVenueSortDir:Z,personSort:An,setPersonSort:Yr,onOpenSettings:()=>O(!0),onOpenProfile:()=>Y(!0),getTagNameById:o,venueView:X,setVenueView:z,favoriteVenueCount:Co.length,totalVenueCount:Zs.length,showSortModal:de,setShowSortModal:Re}),d.jsx("main",{className:"flex-1 pb-24 w-full",style:{paddingBottom:"calc(6rem + env(safe-area-inset-bottom))"},children:d.jsxs("div",{className:"p-4 sm:p-6 md:p-8 lg:p-10 grid gap-4 md:gap-6 lg:gap-8 max-w-3xl lg:max-w-5xl mx-auto w-full",children:[d.jsx($R,{showAdd:_,onAddCancel:()=>A(!1),onAdd:async I=>{var U;await te(H.Heavy),v(I),A(!1),le(`${I.name} added`,"success");const D=zt(I.venueId);De("person_added",{...D,tags:((U=I.tags)==null?void 0:U.length)??0,favorite:!!I.favorite})},tags:r,people:p,getTagIdByName:i,getTagNameById:o,createTag:s,editingPerson:S,onEditCancel:()=>k(null),onEdit:async I=>{var U;await te(H.Heavy),x(I),k(null),le(`${I.name} updated`,"success");const D=zt(I.venueId);De("person_updated",{id:I.id,...D,tags:((U=I.tags)==null?void 0:U.length)??0,favorite:!!I.favorite})},personToDelete:T,onDeleteCancel:()=>C(null),onDeleteConfirm:I=>{var ce;const D=(T==null?void 0:T.name)??"Person",U=p.find(pe=>pe.id===I),F=zt(U==null?void 0:U.venueId);De("person_deleted",{id:I,...F,tags:((ce=U==null?void 0:U.tags)==null?void 0:ce.length)??0,favorite:(U==null?void 0:U.favorite)??!1}),b(I),C(null),le(`${D} deleted`,"info")},globalProximityEnabled:fe,onEnableGlobalProximity:Ul}),d.jsx(NR,{groupedPeople:ln,favoriteVenues:g,visibleVenueNames:Fl,totalVenueCount:l.length,viewMode:X,personSort:An,activeTags:Nn,setActiveTags:xr,getTagNameById:o,openGroups:f,toggleGroup:To,setFavoriteVenues:y,onEdit:k,onDelete:Rn,onToggleFavorite:I=>{const D=p.find(U=>U.id===I);D&&x({...D,favorite:!D.favorite})},searchQuery:Pt,distanceLabels:M})]})}),d.jsx("button",{onClick:async()=>{await te(H.Light),A(!0)},className:"fixed sm:bottom-8 md:bottom-10 right-6 bg-[var(--color-accent)] text-white text-3xl rounded-full w-14 h-14 hover:brightness-110 transition z-40",style:{bottom:"calc(1.5rem + env(safe-area-inset-bottom))"},"aria-label":"Add Person",children:""}),d.jsx(xj,{open:E,onClose:()=>O(!1),favoriteVenues:g,setFavoriteVenues:y,onResetData:Ol,onResetApp:jn,onClearAchievements:an,proximityEnabled:fe,onToggleProximity:Vl,proximitySupported:e}),d.jsx(bj,{open:ee,onClose:()=>Y(!1),achievements:j,stats:he,insights:Ln}),d.jsx("div",{className:"fixed right-6 z-[120] flex flex-col gap-3 pointer-events-none",style:{bottom:"calc(6rem + env(safe-area-inset-bottom))"},children:d.jsx(Tn,{children:He.map(I=>d.jsx(rj,{message:I.message,type:I.type,meta:I.meta,onDismiss:()=>yt(I.id)},I.id))})})]})}zc.createRoot(document.getElementById("root")).render(d.jsx(ty.StrictMode,{children:d.jsx(sj,{children:d.jsx(nM,{children:d.jsx(DC,{children:d.jsx(rM,{children:d.jsx(sM,{children:d.jsx(iM,{children:d.jsx(Aj,{})})})})})})})}));export{qm as C,sl as E,H as I,jg as N,yo as W,Km as a,QP as b,Lj as c,Dj as d,HC as e,w1 as g,nh as l,jj as s};
