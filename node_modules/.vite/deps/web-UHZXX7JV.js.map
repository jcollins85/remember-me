{
  "version": 3,
  "sources": ["../../@capacitor-firebase/analytics/src/web.ts"],
  "sourcesContent": ["import { WebPlugin } from '@capacitor/core';\nimport type { ConsentSettings, ConsentStatusString } from 'firebase/analytics';\nimport {\n  getAnalytics,\n  logEvent,\n  setAnalyticsCollectionEnabled,\n  setConsent,\n  setUserId,\n  setUserProperties,\n} from 'firebase/analytics';\n\nimport type {\n  FirebaseAnalyticsPlugin,\n  GetAppInstanceIdResult,\n  InitiateOnDeviceConversionMeasurementWithEmailAddressOptions,\n  InitiateOnDeviceConversionMeasurementWithPhoneNumberOptions,\n  InitiateOnDeviceConversionMeasurementWithHashedEmailAddressOptions,\n  InitiateOnDeviceConversionMeasurementWithHashedPhoneNumberOptions,\n  IsEnabledResult,\n  LogEventOptions,\n  SetConsentOptions,\n  SetCurrentScreenOptions,\n  SetEnabledOptions,\n  SetSessionTimeoutDurationOptions,\n  SetUserIdOptions,\n  SetUserPropertyOptions,\n} from './definitions';\nimport { ConsentStatus, ConsentType } from './definitions';\n\nexport class FirebaseAnalyticsWeb\n  extends WebPlugin\n  implements FirebaseAnalyticsPlugin\n{\n  public async getAppInstanceId(): Promise<GetAppInstanceIdResult> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  public async setConsent(options: SetConsentOptions): Promise<void> {\n    const status: ConsentStatusString =\n      options.status === ConsentStatus.Granted ? 'granted' : 'denied';\n    const consentSettings: ConsentSettings = {};\n    switch (options.type) {\n      case ConsentType.AdPersonalization:\n        consentSettings.ad_personalization = status;\n        break;\n      case ConsentType.AdStorage:\n        consentSettings.ad_storage = status;\n        break;\n      case ConsentType.AdUserData:\n        consentSettings.ad_user_data = status;\n        break;\n      case ConsentType.AnalyticsStorage:\n        consentSettings.analytics_storage = status;\n        break;\n      case ConsentType.FunctionalityStorage:\n        consentSettings.functionality_storage = status;\n        break;\n      case ConsentType.PersonalizationStorage:\n        consentSettings.personalization_storage = status;\n        break;\n    }\n    setConsent(consentSettings);\n  }\n\n  public async setUserId(options: SetUserIdOptions): Promise<void> {\n    const analytics = getAnalytics();\n    setUserId(analytics, options.userId);\n  }\n\n  public async setUserProperty(options: SetUserPropertyOptions): Promise<void> {\n    const analytics = getAnalytics();\n    setUserProperties(analytics, {\n      [options.key]: options.value,\n    });\n  }\n\n  public async setCurrentScreen(\n    options: SetCurrentScreenOptions,\n  ): Promise<void> {\n    const analytics = getAnalytics();\n    logEvent(analytics, 'screen_view', {\n      firebase_screen: options.screenName || undefined,\n      firebase_screen_class: options.screenClassOverride || undefined,\n    });\n  }\n\n  public async logEvent(options: LogEventOptions): Promise<void> {\n    const analytics = getAnalytics();\n    logEvent(analytics, options.name, options.params);\n  }\n\n  public async setSessionTimeoutDuration(\n    _options: SetSessionTimeoutDurationOptions,\n  ): Promise<void> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  public async setEnabled(_options: SetEnabledOptions): Promise<void> {\n    const analytics = getAnalytics();\n    setAnalyticsCollectionEnabled(analytics, _options.enabled);\n  }\n\n  public async isEnabled(): Promise<IsEnabledResult> {\n    const enabled = (window as any)['ga-disable-analyticsId'] === true;\n    return {\n      enabled,\n    };\n  }\n\n  public async resetAnalyticsData(): Promise<void> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  public async initiateOnDeviceConversionMeasurementWithEmailAddress(\n    _options: InitiateOnDeviceConversionMeasurementWithEmailAddressOptions,\n  ): Promise<void> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  public async initiateOnDeviceConversionMeasurementWithPhoneNumber(\n    _options: InitiateOnDeviceConversionMeasurementWithPhoneNumberOptions,\n  ): Promise<void> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  public async initiateOnDeviceConversionMeasurementWithHashedEmailAddress(\n    _options: InitiateOnDeviceConversionMeasurementWithHashedEmailAddressOptions,\n  ): Promise<void> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  public async initiateOnDeviceConversionMeasurementWithHashedPhoneNumber(\n    _options: InitiateOnDeviceConversionMeasurementWithHashedPhoneNumberOptions,\n  ): Promise<void> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AA6BM,IAAO,uBAAP,cACI,UAAS;EAGV,MAAM,mBAAgB;AAC3B,UAAM,KAAK,cAAc,yBAAyB;EACpD;EAEO,MAAM,WAAW,SAA0B;AAChD,UAAM,SACJ,QAAQ,WAAW,cAAc,UAAU,YAAY;AACzD,UAAM,kBAAmC,CAAA;AACzC,YAAQ,QAAQ,MAAM;MACpB,KAAK,YAAY;AACf,wBAAgB,qBAAqB;AACrC;MACF,KAAK,YAAY;AACf,wBAAgB,aAAa;AAC7B;MACF,KAAK,YAAY;AACf,wBAAgB,eAAe;AAC/B;MACF,KAAK,YAAY;AACf,wBAAgB,oBAAoB;AACpC;MACF,KAAK,YAAY;AACf,wBAAgB,wBAAwB;AACxC;MACF,KAAK,YAAY;AACf,wBAAgB,0BAA0B;AAC1C;IACJ;AACA,eAAW,eAAe;EAC5B;EAEO,MAAM,UAAU,SAAyB;AAC9C,UAAM,YAAY,aAAY;AAC9B,cAAU,WAAW,QAAQ,MAAM;EACrC;EAEO,MAAM,gBAAgB,SAA+B;AAC1D,UAAM,YAAY,aAAY;AAC9B,sBAAkB,WAAW;MAC3B,CAAC,QAAQ,GAAG,GAAG,QAAQ;KACxB;EACH;EAEO,MAAM,iBACX,SAAgC;AAEhC,UAAM,YAAY,aAAY;AAC9B,aAAS,WAAW,eAAe;MACjC,iBAAiB,QAAQ,cAAc;MACvC,uBAAuB,QAAQ,uBAAuB;KACvD;EACH;EAEO,MAAM,SAAS,SAAwB;AAC5C,UAAM,YAAY,aAAY;AAC9B,aAAS,WAAW,QAAQ,MAAM,QAAQ,MAAM;EAClD;EAEO,MAAM,0BACX,UAA0C;AAE1C,UAAM,KAAK,cAAc,yBAAyB;EACpD;EAEO,MAAM,WAAW,UAA2B;AACjD,UAAM,YAAY,aAAY;AAC9B,kCAA8B,WAAW,SAAS,OAAO;EAC3D;EAEO,MAAM,YAAS;AACpB,UAAM,UAAW,OAAe,wBAAwB,MAAM;AAC9D,WAAO;MACL;;EAEJ;EAEO,MAAM,qBAAkB;AAC7B,UAAM,KAAK,cAAc,yBAAyB;EACpD;EAEO,MAAM,sDACX,UAAsE;AAEtE,UAAM,KAAK,cAAc,yBAAyB;EACpD;EAEO,MAAM,qDACX,UAAqE;AAErE,UAAM,KAAK,cAAc,yBAAyB;EACpD;EAEO,MAAM,4DACX,UAA4E;AAE5E,UAAM,KAAK,cAAc,yBAAyB;EACpD;EAEO,MAAM,2DACX,UAA2E;AAE3E,UAAM,KAAK,cAAc,yBAAyB;EACpD;;",
  "names": []
}
